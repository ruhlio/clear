{"repository_name":"github.com/anykeyh/clear","body":"# Clear\n\n[![Build Status](https://travis-ci.org/anykeyh/clear.svg?branch=master)](https://travis-ci.org/anykeyh/clear) [![Docs](https://img.shields.io/badge/docs-available-brightgreen.svg)](https://anykeyh.github.io/clear/) [![GitHub release](https://img.shields.io/github/release/anykeyh/clear.svg)](https://github.com/anykeyh/clear/releases)\n\nClear is an ORM built for PostgreSQL and Crystal.\nI do not want to make it compatible with others DBMS, so I can offers\nbetter experience and connect to the advanced features of PostgreSQL.\n\n## Features\n\nHere some (but not all!) features offered yet by Clear !\n\n* Expressive where query building (like Sequel!)\n\n```crystal\nPost.query.where{ ( title =~ /(^| )Awesome($| )/i ) & ( created_at.between(1.month.ago, Time.now) ) }\n```\n\n* N+1 query caching !\n\n```crystal\nUsers.query.with_posts(&.published).each do #...\n```\n\n* CTE, locks, cursors and other advanced PG features are packed in !\n\n```crystal\n  LotsOfRecordModel.query.each_cursor(batch: 1_000) do |r| #...\n```\n\n* Migration system with integrated PostgreSQL subtilities (e.g. Foreign Key)\n\n```crystal\n  t.references to: \"users\", on_delete: \"cascade\", null: false\n```\n\n* Automatic presence validator through the columns declaration: Using `Type?`\n  notation tell Clear that your column doesn't need to be present\n\n```crystal\nclass MyModel\n  include Clear::Model\n  column x : String\nend\n\nm = MyModel.new\nunless m.save\n  puts m.print_errors # x should be present\nend\n```\n\n* Mixins architecture, no class inheritance ! Include and play !\n\n* Customizable columns converter PG <=> Crystal\n\n```crystal\n  record MyRecord, a : String, b: String\n\n  class Clear::Model::Converter::CitextConverter\n    def self.to_column(x : ::Clear::SQL::Any) : MyRecord?\n      case x\n      when Nil\n        nil\n      when Slice(UInt8)\n        r = MyRecord.new\n        # Convert here !\n      else\n        raise \"bad format\"\n      end\n    end\n\n    def self.to_db(x : MyRecord?)\n      # Convert here !\n    end\n  end\n```\n\nPlease check the roadmap for more informations.\n\n## Getting started\n\nA full sample is available on the [wiki](https://github.com/anykeyh/clear/wiki/getting_started)\n\n### Installation\n\nIn `shards.yml`\n\n```yml\ndependencies:\n  clear:\n    github: anykeyh/clear\n```\n\nThen:\n\n```crystal\n  require \"clear\"\n```\n\n### Model definition\n\nClear offers some mixins, just include them in your classes to *clear* them:\n\n#### Column mapping\n\n```crystal\n\nclass User\n  include Clear::Model\n\n  column id : Int64, primary: true\n\n  column email : String\n\n  column first_name : String?\n  column last_name : String?\n\n  column hashed_password : String?\n\n  def password=(x)\n    self.encrypted_password = Encryptor.hash(x)\n  end\nend\n\n```\n\n#### Column types\n\n`Number`, `String`, `Time`, `Boolean` and `Jsonb` structures are already mapped.\nFor other type of data, just create your own converter !\n\n```crystal\nclass User\n  include Clear::Model\n  column my_custom_type : Custom::Type\nend\n\n# Just create a module following this naming convention:\nmodule Clear::Model::Converter::Custom::TypeConverter\n  def self.to_column(x : ::Clear::SQL::Any) : Custom::Type?\n    # Deserialize your column here\n  end\n\n  def self.to_db(x : Custom::Type?)\n    # Serialize your column here\n  end\nend\n```\n\n##### Column presence\n\nMost of the ORM for Crystal are mapping column type as `Type | Nil` union.\nIt makes sens so we allow selection of some columns only of a model.\nHowever, this have a caveats: columns are still accessible, and will return nil,\neven if the real value of the column is not null !\n\nMoreover, most of the developers will enforce nullity only on their programming\nlanguage level via validation, but not on the database, leading to inconsistency.\n\nTherefore, we choose to throw exception whenever a column is accessed before\nit has been initialized and to enforce presence through the union system of\nCrystal.\n\nClear offers this through the use of column wrapper.\nWrapper can be of the type of the column as in postgres, or in `UNKNOWN` state.\nThis approach offers more flexibility:\n\n```crystal\nUser.query.select(\"last_name\").each do |usr|\n  puts usr.first_name #Will raise an exception, as first_name hasn't been fetched.\nend\n\nu = User.new\nu.first_name_column.defined? #Return false\nu.first_name_column.value(\"\") # Call the value or empty string if not defined :-)\nu.first_name = \"bonjour\"\nu.first_name_column.defined? #Return true now !\n```\n\nWrapper give also some pretty useful features:\n\n```crystal\nu = User.new\nu.email = \"me@fiery.tech\"\nu.email_column.changed? # TRUE\nu.email_column.revert\nu.email_column.defined? # No more\n```\n\n#### Associations\n\nClear offers `has_many`, `has_one`, `belongs_to` and `has_many through` associations:\n\n```crystal\nclass Security::Action\n  belongs_to role : Role\nend\n\nclass Security::Role\n  has_many user : User\nend\n\nclass User\n  include Clear::Model\n\n  has_one user_info : UserInfo\n  has_many posts : Post\n\n  belongs_to role : Security::Role\n\n  # Use of the standard keys (users_id <=> security_role_id)\n  has_many actions : Security::Action, through: Security::Role\nend\n```\n\n### Querying\n\nClear offers a collection system for your models. The collection system\ntakes origin to the lower API `Clear::SQL`, used to build requests.\n\n#### Simple query\n\n##### Fetch a model\n\nTo fetch one model:\n\n```crystal\n# 1. Get the first user\nUser.query.first #Get the first user, ordered by primary key\n\n# Get a specific user\nUser.find!(1) #Get the first user, or throw exception if not found.\n\n# Usage of query provides a `find_by` kind of method:\nu : User? = User.query.find{ email =~ /yacine/i }\n```\n\n##### Fetch multiple models\n\nTo prepare a collection, juste use `Model#query`.\nCollections include `SQL::Select` object, so all the low level API\n(`where`, `join`, `group_by`, `lock`...) can be used in this context.\n\n```crystal\n# Get multiple users\nUser.query.where{ (id >= 100) & (id <= 200) }.each do |user|\n  # Do something with user !\nend\n\n#In case you know there's millions of row, use a cursor to avoid memory issues !\nUser.query.where{ (id >= 1) & (id <= 20_000_000) }.each_cursor(batch: 100) do |user|\n  # Do something with user; only 100 users will be stored in memory\n  # This method is using pg cursor, so it's 100% transaction-safe\nend\n```\n\n##### Aggregate functions\n\nCall aggregate functions from the query is possible. For complex aggregation,\nI would recommend to use the `SQL::View` API (note: Not yet developed),\nand keep the model query for _fetching_ models only\n\n```crystal\n# count\nuser_on_gmail = User.query.where{ email.ilike \"@gmail.com%\" }.count #Note: count return is Int64\n# min/max\nmax_id = User.query.where{ email.ilike \"@gmail.com%\" }.max(\"id\", Int32)\n# your own aggregate\nweighted_avg = User.query.agg( \"SUM(performance_weight * performance_score) / SUM(performance_weight)\", Float64 )\n```\n\n##### Fetching associations\n\nAssociations are basically getter which create predefined SQL.\nTo access to an association, just call it !\n\n```crystal\nUser.query.each do |user|\n  puts \"User #{user.id} posts:\"\n  user.posts.each do |post| #Works, but will trigger a request for each user.\n    puts \"• #{post.id}\"\n  end\nend\n```\n\n###### Caching association for N+1 request\n\nFor every association, you can tell Clear to encache the results to avoid\nN+1 queries, using `with_XXX` on the collection:\n\n```crystal\n# Will call two requests only.\nUser.query.with_posts.each do |user|\n  puts \"User #{user.id} posts:\"\n  user.posts.each do |post|\n    puts \"• #{post.id}\"\n  end\nend\n```\n\nNote than Clear doesn't perform a join method, and the SQL produced will use\nthe operator `IN` on the association.\n\nIn the case above:\n\n- The first request will be\n\n```\n  SELECT * FROM users;\n```\n\n- Thanks to the cache, a second request will be called before fetching the users:\n\n```\n  SELECT * FROM posts WHERE user_id IN ( SELECT id FROM users )\n```\n\nI have plan in a late future to offer different query strategies for the cache (e.g. joins, unions...)\n\n###### Associations caching examples\n\nWhen you use the caching system of the association, using filters on association will\ninvalidate the cache, and N+1 query will happens.\n\nFor example:\n\n```crystal\nUser.query.with_posts.each do |user|\n  puts \"User #{user.id} published posts:\"\n  # Here: The cache system will not work. The cache on association\n  # is invalidated by the filter `where`.\n  user.posts.where({published: true}).each do |post|\n    puts \"• #{post.id}\"\n  end\nend\n```\n\nThe way to fix it is to filter on the association itself:\n\n```crystal\nUser.query.with_posts(&.where({published: true})).each do |user|\n  puts \"User #{user.id} published posts:\"\n  # The posts collection of user is already encached with the published filter\n  user.posts.each do |post|\n    puts \"• #{post.id}\"\n  end\nend\n```\n\nNote than, of course in this example `user.posts` are not ALL the posts but only the\n`published` posts\n\nThanks to this system, we can stack it to encache long distance relations:\n\n```crystal\n# Will cache users<=>posts & posts<=>category\n# Total: 3 requests !\nUser.query.with_posts(&.with_category).each do |user|\n  #...\nend\n```\n\n##### Querying computed or foreign columns\n\nIn case you want columns computed by postgres, or stored in another table, you can use `fetch_column`.\nBy default, for performance reasons, `fetch_columns` option is set to false.\n\n```crystal\nusers = User.query.select(email: \"users.email\",\n  remark: \"infos.remark\").join(\"infos\"){ infos.user_id == users.id }.to_a(fetch_columns: true)\n\n# Now the column \"remark\" will be fetched into each user object.\n# Access can be made using `[]` operator on the model.\n\nusers.each do |u|\n  puts \"email: `#{u.email}`, remark: `#{u[\"remark\"]?}`\"\nend\n```\n\n### Inspection & SQL logging\n\n#### Inspection\n\nI've reimplemented `inspect` on model, to offer good debugging insights:\n\n```text\n  p # => #<Post:0x10c5f6720\n          @attributes={},\n          @cache=\n           #<Clear::Model::QueryCache:0x10c6e8100\n            @cache={},\n            @cache_activation=Set{}>,\n          @content_column=\n           \"...\",\n          @errors=[],\n          @id_column=38,\n          @persisted=true,\n          @published_column=true,\n          @read_only=false,\n          @title_column=\"Lorem ipsum torquent inceptos\"*,\n          @user_id_column=5>\n```\n\nIn this case, the `*` means a column is changed and the object is dirty and must\nbe saved on the database.\n\n#### SQL Logging\n\nOne thing very important for a good ORM is to offer vision of the SQL\ncalled under the hood.\nClear is offering SQL logging tools, with SQL syntax colorizing in your terminal.\n\nFor activation, simply setup the logger to `DEBUG` level !\n\n\n```\nClear.logger.level = ::Logger::DEBUG\n```\n\n### Save & validation\n\n#### Save\n\nObject can be persisted, saved, updated:\n\n```crystal\nu = User.new\nu.email = \"test@example.com\"\nu.save! #Save or throw if unsavable (validation failed).\n```\n\nColumns can be checked & reverted:\n\n```crystal\nu = User.new\nu.email = \"test@example.com\"\nu.email_column.changed? # < Return \"true\"\nu.email_column.revert # Return to #undef.\n```\n\n#### Validation\n\n##### Presence validator\n\nPresence validator is done using the type of the column:\n\n```crystal\nclass User\n  include Clear::Model\n\n  column first_name : String # Must be present\n  column last_name : String? # Can be null\nend\n```\n\n###### `NOT NULL DEFAULT ...` CASE\n\n\nThere's a case when a column CAN be null inside Crystal, if not persisted,\nbut CANNOT be null inside Postgres.\n\nIt's for example the case of the `id` column, which take value after saving !\n\nIn this case, you can write:\n\n```crystal\nclass User\n    column id : Int64, primary: true, presence: false #id will be set using pg serial !\nend\n```\n\nThus, in all case this will fail:\n\n```\nu = User.new\nu.id # raise error\n```\n\n##### Other validators\n\nWhen you save your model, Clear will call first the presence validators, then\ncall your custom made validators. All you have to do is to reimplement\nthe `validate` method:\n\n```crystal\nclass MyModel\n#...\n  def validate\n    # Your code goes here\n  end\nend\n```\n\nValidation fail if `model#errors` is not empty:\n\n```crystal\n  class MyModel\n    #...\n    def validate\n      if column != \"ABCD\"\n        add_error(\"column\", \"must be ABCD!\")\n      end\n    end\n  end\n```\n\n##### Unique validator\n\nPlease use `unique` feature of postgres. Unique validator at crystal level is a\nnon-go and lead to terrible race concurrency issues if your deploy on multiple nodes/pods.\nIt's an anti-pattern and must be avoided at any cost.\n\n##### The validation and the presence system\n\nIn the case you try validation on a column which has not been initialized,\nClear will complain, telling you you cannot access to the column.\nLet's see an example here:\n\n```crystal\ndef validate\n  add_error(\"first_name\", \"should not be empty\") if first_name == \"\"\nend\n```\n\nThis validator will raise an exception, because first_name has never been initialized.\nTo avoid this, we have many way:\n```crystal\n# 1. Check presence:\n\ndef validate\n  if first_name_column.defined? #Ensure we have a value here.\n    add_error(\"first_name\", \"should not be empty\") if first_name == \"\"\n  end\nend\n\n# 2. Use column object + default value\ndef validate\n  add_error(\"first_name\", \"should not be empty\") if first_name_column.value(\"\") == \"\"\nend\n\n# 3. Use the helper macro `on_presence`\ndef validate\n  on_presence(first_name) do\n    add_error(\"first_name\", \"should not be empty\") if first_name == \"\"\n  end\nend\n\n#4. Use the helper macro `ensure_than`\ndef validate\n  ensure_than(first_name, \"should not be empty\", &.!=(\"\"))\nend\n\n#5. Use the `ensure_than` helper (but with block notation) !\ndef validate\n  ensure_than(first_name, \"should not be empty\") do |column|\n    column != \"\"\n  end\nend\n\n```\n\nI recommend the 4th method in most of the cases you will faces.\nSimple to write and easy to read !\n\n### Migration\n\nClear offers of course a migration system.\n\nMigration should have an `order` column set.\nThis number can be wrote at the end of the class itself:\n\n```crystal\nclass Migration1\n  include Clear::Migration\n\n  def change(dir)\n    #...\n  end\nend\n```\n\n#### Using filename\n\nAnother way is to write down all your migrations one file per migration, and\nnaming the file using the `[number]_migration_description.cr` pattern.\nIn this case, the migration class name doesn't need to have a number at the end of the class name.\n\n```crystal\n# in src/db/migrations/1234_create_table.cr\nclass CreateTable\n  include Clear::Migration\n\n  def change(dir)\n    #...\n  end\nend\n```\n\n#### Migration examples\n\nMigration must implement the method `change(dir : Migration::Direction)`\n\nDirection is the current direction of the migration (up or down).\nIt provides few methods: `up?`, `down?`, `up(&block)`, `down(&block)`\n\nYou can create a table:\n\n```crystal\n  def change(dir)\n    create_table(:test) do |t|\n      t.string :first_name, index: true\n      t.string :last_name, unique: true\n\n      t.index \"lower(first_name || ' ' || last_name)\", using: :btree\n\n      t.timestamps\n    end\n  end\n```\n\n#### Constraints\n\nI strongly encourage to use the foreign key constraints of postgres for your references:\n\n```crystal\n  t.references to: \"users\", on_delete: \"cascade\", null: false\n```\n\nThere's no plan to offer on Crystal level the `on_delete` feature, like\n`dependent` in ActiveRecord. That's a standard PG feature, just set it\nup in migration\n\n## Architecture\n\nIn short, here is the architecture\n\n```text\n+---------------------------------------------+\n|              Clear                          +\n+---------------------------------------------+\n|  Model | DB Views | Migrations | clear-cli  | < High Level Tools\n+---------------+-----------------------------+\n|  column | Validation | Converters            | < Mapping system\n+---------------+-----------------------------+\n|  Clear::SQL   | Clear::Expression           | < Low Level SQL Builder\n+---------------------------------------------+\n|  Crystal DB   | Crystal PG                  | < Low Level connection\n+---------------------------------------------+\n```\n\nThe ORM is freely inspired by Sequel and ActiveRecord.\nIt offers advanced features for Postgres (see Roadmap)\n\n## Roadmap\n\nORM:\n\n- [X] Hook callback\n- [X] column mapping\n- [X] Basic SQL: Select/Insert/Update/Delete\n- [X] Cursored fetching\n- [X] Debug Queries & Pretty Print\n- [X] Scope\n- [X] Locks\n- [X] Relations\n- [X] Having clause\n- [X] CTE\n- [X] Caching for N+1 Queries\n- [X] Migrations\n- [X] Validation\n- [X] All logic of transaction, update, saving...\n- [ ] DB Views => In progress\n- [ ] Writing documentation\n- [ ] clear-cli tool => In progress\n- [ ] CitusDB Support ? => In mind\n- [ ] Filling this checklist and drink a beer\n\nI'm currently focusing on the DB views (nothing hard) and a CLI to\nscaffold project with Kemal and Clear, manage migrations, and others tools !\n\n## Licensing\n\nThis shard is provided under the MIT license.\n\n## Contribute\n\nAll contributions are welcome ! As a specialized ORM for postgreSQL,\nbe sure a great contribution on a very specific PG feature will be incorporated\nto this shard. I hope one day we will cover all the features of PG here !","program":{"html_id":"github.com/anykeyh/clear/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/anykeyh/clear","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear","path":"Clear.html","kind":"module","full_name":"Clear","name":"Clear","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear.cr","line_number":19,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear.cr"},{"filename":"clear/version.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/version.cr"},{"filename":"clear/sql/sql.cr","line_number":9,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"VERSION","value":"\"v0.1.3alpha\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"# Welcome to Clear ORM !\n\nClear ORM is currently in heavy development.\nThe goal is to provide an advanced ORM for postgreSQL.\n\nInstead of working on adapter for differents database, I wanted to offer the\nmaximum features for a specific platform.\n\nIt's not every day we chose a database layout, and there's few reasons for you\nto change your database during the development cycle (at least, from SQL to SQL).\n\nPostgres offers a lot of features in a very performant engine, and seems suitable\nfor large projects in Crystal.\n\nAnd here you have ! The ORM made for Postgres and Crystal, simple to use, full\nof ideas stolen to ActiveRecord and Sequel :-).","summary":"<h1>Welcome to Clear ORM !</h1>","class_methods":[{"id":"logger:Logger-class-method","html_id":"logger:Logger-class-method","name":"logger","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Logger","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear.cr#L20","def":{"name":"logger","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Logger","visibility":"Public","body":"@@logger"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/CLI","path":"Clear/CLI.html","kind":"class","full_name":"Clear::CLI","name":"CLI","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Admiral/Command/Run","kind":"module","full_name":"Admiral::Command::Run","name":"Run"},{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr"},{"filename":"clear/cli.cr","line_number":7,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"HELP","value":"{\"description\" => \"\", \"overview\" => \"\"}","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/anykeyh/clear/Admiral/Command/Run","kind":"module","full_name":"Admiral::Command::Run","name":"Run"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear","kind":"module","full_name":"Clear","name":"Clear"},"doc":null,"summary":null,"class_methods":[{"id":"run(*args,**params)-class-method","html_id":"run(*args,**params)-class-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","def":{"name":"run","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(new(*args, **params)).parse_and_run"}}],"constructors":[],"instance_methods":[{"id":"__rescue_from___Admiral__Error(e)-instance-method","html_id":"__rescue_from___Admiral__Error(e)-instance-method","name":"__rescue_from___Admiral__Error","doc":null,"summary":null,"abstract":false,"args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"args_string":"(e)","source_link":null,"source_link":null,"def":{"name":"__rescue_from___Admiral__Error","args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"panic(e.message.colorize(:red))"}},{"id":"arguments-instance-method","html_id":"arguments-instance-method","name":"arguments","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","def":{"name":"arguments","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@arguments || (@arguments = Arguments.new(self))"}},{"id":"flags-instance-method","html_id":"flags-instance-method","name":"flags","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","def":{"name":"flags","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@flags || (@flags = Flags.new(self))"}},{"id":"help-instance-method","html_id":"help-instance-method","name":"help","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"help","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[help_usage, \"\" + \"\\n\", help_flags, help_arguments, help_sub_commands].reject do |__arg0|\n  __arg0.strip.empty?\nend.join(\"\\n\")"}},{"id":"run-instance-method","html_id":"run-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L24","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L24","def":{"name":"run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Colorize.enabled = !flags.no_color\nif flags.verbose\n  Clear.logger.level = ::Logger::DEBUG\nend\n"}},{"id":"sub(command,*args,**params)-instance-method","html_id":"sub(command,*args,**params)-instance-method","name":"sub","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(command, *args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","def":{"name":"sub","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SubCommands.invoke(command, *args, **params, parent: self)"}},{"id":"version-instance-method","html_id":"version-instance-method","name":"version","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L18","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L18","def":{"name":"version","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Clear::VERSION"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/CLI/Arguments","path":"Clear/CLI/Arguments.html","kind":"struct","full_name":"Clear::CLI::Arguments","name":"Arguments","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"},{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"NAMES","value":"[\"_COMMAND_\"] of String","doc":null,"summary":null},{"name":"REQUIRED_NAMES","value":"[] of String","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI","kind":"class","full_name":"Clear::CLI","name":"CLI"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](*args,**options)-instance-method","html_id":"[](*args,**options)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options]"}},{"id":"[](*args,**options,&block)-instance-method","html_id":"[](*args,**options,&amp;block)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options] do |*yield_args|\n  yield *yield_args\nend"}},{"id":"_COMMAND_:String?-instance-method","html_id":"_COMMAND_:String?-instance-method","name":"_COMMAND_","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":null,"source_link":null,"def":{"name":"_COMMAND_","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | Nil","visibility":"Public","body":"@_COMMAND_"}},{"id":"each(*args,**options)-instance-method","html_id":"each(*args,**options)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options)"}},{"id":"each(*args,**options,&block)-instance-method","html_id":"each(*args,**options,&amp;block)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"exists?(name:Symbol)-instance-method","html_id":"exists?(name:Symbol)-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":null,"source_link":null,"def":{"name":"exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(previous_def(name)) || (name == (:_COMMAND_))"}},{"id":"get(name:Symbol)-instance-method","html_id":"get(name:Symbol)-instance-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":null,"source_link":null,"def":{"name":"get","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  previous_def(name)\nrescue MissingArgument\n  name == (:_COMMAND_) ? @_COMMAND_ : raise(MissingArgument.new)\nend"}},{"id":"get?(name:Symbol)-instance-method","html_id":"get?(name:Symbol)-instance-method","name":"get?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","def":{"name":"get?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exists?(name) ? get(name) : false"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"names = NAMES.clone\nif size > 0\n  names << \"...\"\nend\nio << \"<#{self.class}\"\nio << \"(\"\nif names.empty?\nelse\n  io << (names.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"parse__COMMAND_(command:Admiral::Command):String?-instance-method","html_id":"parse__COMMAND_(command:Admiral::Command):String?-instance-method","name":"parse__COMMAND_","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command) : String?","source_link":null,"source_link":null,"def":{"name":"parse__COMMAND_","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | Nil","visibility":"Public","body":"pos_only = false\nindex = 0\nwhile ((command.@argv)[index]?.to_s.starts_with?(\"-\")) && (!pos_only)\n  index = index + 1\n  pos_only = (command.@argv)[index]? == \"--\"\nend\nvalue = if (command.@argv)[index]?\n  (command.@argv).delete_at(index)\nelse\n  return nil\nend\nString.new(value)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Command","path":"Clear/CLI/Command.html","kind":"class","full_name":"Clear::CLI::Command","name":"Command","abstract":true,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/command.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/anykeyh/clear/Clear/CLI/DBCommand","kind":"class","full_name":"Clear::CLI::DBCommand","name":"DBCommand"},{"html_id":"github.com/anykeyh/clear/Clear/CLI/GeneratorCommand","kind":"class","full_name":"Clear::CLI::GeneratorCommand","name":"GeneratorCommand"}],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI","kind":"class","full_name":"Clear::CLI","name":"CLI"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L2","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L2","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"display_help_and_exit(exit_code=1)-instance-method","html_id":"display_help_and_exit(exit_code=1)-instance-method","name":"display_help_and_exit","doc":null,"summary":null,"abstract":false,"args":[{"name":"exit_code","doc":null,"default_value":"1","external_name":"exit_code","restriction":""}],"args_string":"(exit_code = <span class=\"n\">1</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L13","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L13","def":{"name":"display_help_and_exit","args":[{"name":"exit_code","doc":null,"default_value":"1","external_name":"exit_code","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"help = get_help_string()\nputs(format_output(help))\nexit(exit_code)\n"}},{"id":"format_output(string)-instance-method","html_id":"format_output(string)-instance-method","name":"format_output","doc":null,"summary":null,"abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":""}],"args_string":"(string)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L19","def":{"name":"format_output","args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"string = string.gsub(/\\#[^\\r\\n]*\\n/) do |match|\n  match.colorize.light_gray\nend\nstring.gsub(/\\`[^\\`]*\\`/) do |match|\n  match[1..-2].colorize.mode(:bright)\nend\n"}},{"id":"get_help_string:String-instance-method","html_id":"get_help_string:String-instance-method","name":"get_help_string","doc":null,"summary":null,"abstract":true,"args":[],"args_string":" : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L7","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L7","def":{"name":"get_help_string","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":""}},{"id":"run(args)-instance-method","html_id":"run(args)-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L9","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L9","def":{"name":"run","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run_impl(args)"}},{"id":"run_impl(args)-instance-method","html_id":"run_impl(args)-instance-method","name":"run_impl","doc":"Run the selected command with specific arguments","summary":"<p>Run the selected command with specific arguments</p>","abstract":true,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/command.cr#L6","def":{"name":"run_impl","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/DBCommand","path":"Clear/CLI/DBCommand.html","kind":"class","full_name":"Clear::CLI::DBCommand","name":"DBCommand","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Command","kind":"class","full_name":"Clear::CLI::Command","name":"Command"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/CLI/Command","kind":"class","full_name":"Clear::CLI::Command","name":"Command"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/db.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/db.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI","kind":"class","full_name":"Clear::CLI","name":"CLI"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"get_help_string-instance-method","html_id":"get_help_string-instance-method","name":"get_help_string","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/db.cr#L2","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/db.cr#L2","def":{"name":"get_help_string","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"  clear-cli [cli-options] db [db-command]\\n\\n  Commands:\\n    create               # Create the database\""}},{"id":"run_impl(args)-instance-method","html_id":"run_impl(args)-instance-method","name":"run_impl","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/db.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/db.cr#L11","def":{"name":"run_impl","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"OptionParser.parse(args) do |opts|\n  opts.unknown_args do |args, _|\n    arg = args.shift\n    case arg\n    when \"create\"\n      puts(\"TODO\")\n      exit\n    end\n  end\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Flags","path":"Clear/CLI/Flags.html","kind":"struct","full_name":"Clear::CLI::Flags","name":"Flags","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr"},{"filename":"clear/cli.cr","line_number":8,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr"},{"filename":"clear/cli.cr","line_number":14,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"LONG_NAMES","value":"[\"\\\"--verbose\\\"\", \"\\\"--no-color\\\"\", \"\\\"--version\\\"\", \"\\\"--help\\\"\"] of String","doc":null,"summary":null},{"name":"NAMES","value":"[\"verbose\", \"no_color\", \"__version__\", \"__help__\"] of String","doc":null,"summary":null},{"name":"SHORT_NAMES","value":"[\"\\\"-v\\\"\"] of String","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI","kind":"class","full_name":"Clear::CLI","name":"CLI"},"doc":"Extend the flags class to include the flag","summary":"<p>Extend the flags class to include the flag</p>","class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"__help__:Bool-instance-method","html_id":"__help__:Bool-instance-method","name":"__help__","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"__help__","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"val = @__help__\nif val.nil?\n  raise(::Admiral::Error.new(\"Flag: --help is required\"))\nend\nval\n"}},{"id":"__version__:Bool-instance-method","html_id":"__version__:Bool-instance-method","name":"__version__","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"__version__","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"val = @__version__\nif val.nil?\n  raise(::Admiral::Error.new(\"Flag: --version is required\"))\nend\nval\n"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io << \"<#{self.class}\"\nio << \"(\"\nif NAMES.empty?\nelse\n  io << (NAMES.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"no_color:Bool-instance-method","html_id":"no_color:Bool-instance-method","name":"no_color","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L14","def":{"name":"no_color","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"val = @no_color\nif val.nil?\n  raise(::Admiral::Error.new(\"Flag: --no-color is required\"))\nend\nval\n"}},{"id":"validate!(command)-instance-method","html_id":"validate!(command)-instance-method","name":"validate!","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L3","def":{"name":"validate!","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"pos_index = ((command.@argv).index(&.==(\"--\")) || 0) - 1\nundefined_flags = [] of String\n(command.@argv)[0..pos_index].each do |arg|\n  if SubCommands.locate(arg)\n    break\n  else\n    if arg.starts_with?(\"-\")\n      undefined_flags << (arg.split(\"=\"))[0]\n    end\n  end\nend\nif undefined_flags.size == 1\n  raise(Admiral::Error.new(\"The following flag is not defined: #{undefined_flags.first}\"))\nelse\n  if undefined_flags.size > 1\n    raise(Admiral::Error.new(\"The following flags are not defined: #{undefined_flags.join(\", \")}\"))\n  end\nend\nself\n"}},{"id":"verbose:Bool-instance-method","html_id":"verbose:Bool-instance-method","name":"verbose","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L8","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli.cr#L8","def":{"name":"verbose","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"val = @verbose\nif val.nil?\n  raise(::Admiral::Error.new(\"Flag: --verbose is required\"))\nend\nval\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Generator","path":"Clear/CLI/Generator.html","kind":"struct","full_name":"Clear::CLI::Generator","name":"Generator","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/generator.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI","kind":"class","full_name":"Clear::CLI","name":"CLI"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(name:String,desc:String,callback:Array(String)->Void)-class-method","html_id":"new(name:String,desc:String,callback:Array(String)-&gt;Void)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"desc","doc":null,"default_value":"","external_name":"desc","restriction":"String"},{"name":"callback","doc":null,"default_value":"","external_name":"callback","restriction":"(Array(String) -> Void)"}],"args_string":"(name : String, desc : String, callback : Array(String) -> Void)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L3","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"desc","doc":null,"default_value":"","external_name":"desc","restriction":"String"},{"name":"callback","doc":null,"default_value":"","external_name":"callback","restriction":"(Array(String) -> Void)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, desc, callback)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"callback:Array(String)->Void-instance-method","html_id":"callback:Array(String)-&gt;Void-instance-method","name":"callback","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String) -> Void","source_link":null,"source_link":null,"def":{"name":"callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"(Array(String) -> Void)","visibility":"Public","body":"@callback"}},{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L3","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Clear::CLI::Generator.new(@name.clone, @desc.clone, @callback.clone)"}},{"id":"desc:String-instance-method","html_id":"desc:String-instance-method","name":"desc","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"desc","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@desc"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/GeneratorCommand","path":"Clear/CLI/GeneratorCommand.html","kind":"class","full_name":"Clear::CLI::GeneratorCommand","name":"GeneratorCommand","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Command","kind":"class","full_name":"Clear::CLI::Command","name":"Command"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/CLI/Command","kind":"class","full_name":"Clear::CLI::Command","name":"Command"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/generator.cr","line_number":5,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI","kind":"class","full_name":"Clear::CLI","name":"CLI"},"doc":null,"summary":null,"class_methods":[{"id":"[](name)-class-method","html_id":"[](name)-class-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L28","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L28","def":{"name":"[]","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@generators[name]"}},{"id":"[]?(name)-class-method","html_id":"[]?(name)-class-method","name":"[]?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L24","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L24","def":{"name":"[]?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@generators[name]?"}},{"id":"add(name,desc,&block:Array(String)->Void)-class-method","html_id":"add(name,desc,&amp;block:Array(String)-&gt;Void)-class-method","name":"add","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"desc","doc":null,"default_value":"","external_name":"desc","restriction":""}],"args_string":"(name, desc, &block : Array(String) -> Void)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L20","def":{"name":"add","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"desc","doc":null,"default_value":"","external_name":"desc","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Array(String) -> Void)"},"return_type":"","visibility":"Public","body":"@@generators[name] = Generator.new(name, desc, block)"}}],"constructors":[],"instance_methods":[{"id":"generator_list_string-instance-method","html_id":"generator_list_string-instance-method","name":"generator_list_string","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L39","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L39","def":{"name":"generator_list_string","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@generators.values.map do |v|\n  \"    #{v.name}\t\t# #{v.desc}\"\nend.join(\"\\n\")"}},{"id":"get_help_string-instance-method","html_id":"get_help_string-instance-method","name":"get_help_string","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L6","def":{"name":"get_help_string","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"  `clear-cli` [cli-options] `generate` [list | generator_name] (options)\n\n  `Options`:\n    --list # List the generators\n\n  `Available generators`:\n#{generator_list_string}\""}},{"id":"run_impl(args)-instance-method","html_id":"run_impl(args)-instance-method","name":"run_impl","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L43","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L43","def":{"name":"run_impl","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"while args.size > 0\n  arg = args.shift\n  case arg\n  when \"--list\", \"-l\"\n    puts(format_output(generator_list_string))\n    exit(0)\n  else\n    generator = Clear::CLI::GeneratorCommand[arg]?\n    if generator\n      generator.callback.call(args)\n      exit(0)\n    else\n      puts(\"I don't know how to generate `#{arg}`\")\n      exit(1)\n    end\n  end\nend\ndisplay_help_and_exit(1)\n"}}],"macros":[{"id":"ecr_to_s(string,opts)-macro","html_id":"ecr_to_s(string,opts)-macro","name":"ecr_to_s","doc":null,"summary":null,"abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"args_string":"(string, opts)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/generator.cr#L32","def":{"name":"ecr_to_s","args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":""},{"name":"opts","doc":null,"default_value":"","external_name":"opts","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    opts = \n{{ opts }}\n\n    io = IO::Memory.new\n    ECR.embed \n{{ string }}\n, io\n    io.to_s\n  \n"}}],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration","path":"Clear/CLI/Migration.html","kind":"class","full_name":"Clear::CLI::Migration","name":"Migration","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Admiral/Command/Run","kind":"module","full_name":"Admiral::Command::Run","name":"Run"},{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"HELP","value":"{\"description\" => \"\", \"overview\" => \"\"}","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/anykeyh/clear/Admiral/Command/Run","kind":"module","full_name":"Admiral::Command::Run","name":"Run"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI","kind":"class","full_name":"Clear::CLI","name":"CLI"},"doc":null,"summary":null,"class_methods":[{"id":"run(*args,**params)-class-method","html_id":"run(*args,**params)-class-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","def":{"name":"run","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(new(*args, **params)).parse_and_run"}}],"constructors":[],"instance_methods":[{"id":"__rescue_from___Admiral__Error(e)-instance-method","html_id":"__rescue_from___Admiral__Error(e)-instance-method","name":"__rescue_from___Admiral__Error","doc":null,"summary":null,"abstract":false,"args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"args_string":"(e)","source_link":null,"source_link":null,"def":{"name":"__rescue_from___Admiral__Error","args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"panic(e.message.colorize(:red))"}},{"id":"arguments-instance-method","html_id":"arguments-instance-method","name":"arguments","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","def":{"name":"arguments","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@arguments || (@arguments = Arguments.new(self))"}},{"id":"flags-instance-method","html_id":"flags-instance-method","name":"flags","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","def":{"name":"flags","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@flags || (@flags = Flags.new(self))"}},{"id":"help-instance-method","html_id":"help-instance-method","name":"help","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"help","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[help_usage, \"Manage migration state of your database\" + \"\\n\", help_flags, help_arguments, help_sub_commands].reject do |__arg0|\n  __arg0.strip.empty?\nend.join(\"\\n\")"}},{"id":"run-instance-method","html_id":"run-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L55","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L55","def":{"name":"run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"sub(command,*args,**params)-instance-method","html_id":"sub(command,*args,**params)-instance-method","name":"sub","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(command, *args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","def":{"name":"sub","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SubCommands.invoke(command, *args, **params, parent: self)"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Arguments","path":"Clear/CLI/Migration/Arguments.html","kind":"struct","full_name":"Clear::CLI::Migration::Arguments","name":"Arguments","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"},{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"NAMES","value":"[\"_COMMAND_\"] of String","doc":null,"summary":null},{"name":"REQUIRED_NAMES","value":"[] of String","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration","kind":"class","full_name":"Clear::CLI::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](*args,**options)-instance-method","html_id":"[](*args,**options)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options]"}},{"id":"[](*args,**options,&block)-instance-method","html_id":"[](*args,**options,&amp;block)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options] do |*yield_args|\n  yield *yield_args\nend"}},{"id":"_COMMAND_:String?-instance-method","html_id":"_COMMAND_:String?-instance-method","name":"_COMMAND_","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":null,"source_link":null,"def":{"name":"_COMMAND_","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | Nil","visibility":"Public","body":"@_COMMAND_"}},{"id":"each(*args,**options)-instance-method","html_id":"each(*args,**options)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options)"}},{"id":"each(*args,**options,&block)-instance-method","html_id":"each(*args,**options,&amp;block)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"exists?(name:Symbol)-instance-method","html_id":"exists?(name:Symbol)-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":null,"source_link":null,"def":{"name":"exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(previous_def(name)) || (name == (:_COMMAND_))"}},{"id":"get(name:Symbol)-instance-method","html_id":"get(name:Symbol)-instance-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":null,"source_link":null,"def":{"name":"get","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  previous_def(name)\nrescue MissingArgument\n  name == (:_COMMAND_) ? @_COMMAND_ : raise(MissingArgument.new)\nend"}},{"id":"get?(name:Symbol)-instance-method","html_id":"get?(name:Symbol)-instance-method","name":"get?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","def":{"name":"get?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exists?(name) ? get(name) : false"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"names = NAMES.clone\nif size > 0\n  names << \"...\"\nend\nio << \"<#{self.class}\"\nio << \"(\"\nif names.empty?\nelse\n  io << (names.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"parse__COMMAND_(command:Admiral::Command):String?-instance-method","html_id":"parse__COMMAND_(command:Admiral::Command):String?-instance-method","name":"parse__COMMAND_","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command) : String?","source_link":null,"source_link":null,"def":{"name":"parse__COMMAND_","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | Nil","visibility":"Public","body":"pos_only = false\nindex = 0\nwhile ((command.@argv)[index]?.to_s.starts_with?(\"-\")) && (!pos_only)\n  index = index + 1\n  pos_only = (command.@argv)[index]? == \"--\"\nend\nvalue = if (command.@argv)[index]?\n  (command.@argv).delete_at(index)\nelse\n  return nil\nend\nString.new(value)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Down","path":"Clear/CLI/Migration/Down.html","kind":"class","full_name":"Clear::CLI::Migration::Down","name":"Down","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":19,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"HELP","value":"{\"description\" => \"\", \"overview\" => \"\"}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration","kind":"class","full_name":"Clear::CLI::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[{"id":"run(*args,**params)-class-method","html_id":"run(*args,**params)-class-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","def":{"name":"run","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(new(*args, **params)).parse_and_run"}}],"constructors":[],"instance_methods":[{"id":"__rescue_from___Admiral__Error(e)-instance-method","html_id":"__rescue_from___Admiral__Error(e)-instance-method","name":"__rescue_from___Admiral__Error","doc":null,"summary":null,"abstract":false,"args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"args_string":"(e)","source_link":null,"source_link":null,"def":{"name":"__rescue_from___Admiral__Error","args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"panic(e.message.colorize(:red))"}},{"id":"arguments-instance-method","html_id":"arguments-instance-method","name":"arguments","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","def":{"name":"arguments","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@arguments || (@arguments = Arguments.new(self))"}},{"id":"flags-instance-method","html_id":"flags-instance-method","name":"flags","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","def":{"name":"flags","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@flags || (@flags = Flags.new(self))"}},{"id":"help-instance-method","html_id":"help-instance-method","name":"help","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"help","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[help_usage, \"Downgrade your database to a specific migration version\" + \"\\n\", help_flags, help_arguments, help_sub_commands].reject do |__arg0|\n  __arg0.strip.empty?\nend.join(\"\\n\")"}},{"id":"run-instance-method","html_id":"run-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L23","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L23","def":{"name":"run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"puts(\"down?\")\nClear::Migration::Manager.instance.down(arguments.migration_number)\n"}},{"id":"sub(command,*args,**params)-instance-method","html_id":"sub(command,*args,**params)-instance-method","name":"sub","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(command, *args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","def":{"name":"sub","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SubCommands.invoke(command, *args, **params, parent: self)"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Down/Arguments","path":"Clear/CLI/Migration/Down/Arguments.html","kind":"struct","full_name":"Clear::CLI::Migration::Down::Arguments","name":"Arguments","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"},{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":19,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"},{"filename":"clear/cli/migration.cr","line_number":20,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"NAMES","value":"[\"migration_number\"] of String","doc":null,"summary":null},{"name":"REQUIRED_NAMES","value":"[\"migration_number\"] of String","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Down","kind":"class","full_name":"Clear::CLI::Migration::Down","name":"Down"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L20","def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](*args,**options)-instance-method","html_id":"[](*args,**options)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options]"}},{"id":"[](*args,**options,&block)-instance-method","html_id":"[](*args,**options,&amp;block)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options] do |*yield_args|\n  yield *yield_args\nend"}},{"id":"each(*args,**options)-instance-method","html_id":"each(*args,**options)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options)"}},{"id":"each(*args,**options,&block)-instance-method","html_id":"each(*args,**options,&amp;block)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"exists?(name:Symbol)-instance-method","html_id":"exists?(name:Symbol)-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L20","def":{"name":"exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(previous_def(name)) || (name == (:migration_number))"}},{"id":"get(name:Symbol)-instance-method","html_id":"get(name:Symbol)-instance-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L20","def":{"name":"get","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  previous_def(name)\nrescue MissingArgument\n  name == (:migration_number) ? @migration_number : raise(MissingArgument.new)\nend"}},{"id":"get?(name:Symbol)-instance-method","html_id":"get?(name:Symbol)-instance-method","name":"get?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","def":{"name":"get?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exists?(name) ? get(name) : false"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"names = NAMES.clone\nif size > 0\n  names << \"...\"\nend\nio << \"<#{self.class}\"\nio << \"(\"\nif names.empty?\nelse\n  io << (names.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"migration_number:Int64-instance-method","html_id":"migration_number:Int64-instance-method","name":"migration_number","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":null,"source_link":null,"def":{"name":"migration_number","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@migration_number"}},{"id":"parse_migration_number(command:Admiral::Command):Int64-instance-method","html_id":"parse_migration_number(command:Admiral::Command):Int64-instance-method","name":"parse_migration_number","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command) : Int64","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L20","def":{"name":"parse_migration_number","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"pos_only = false\nindex = 0\nwhile ((command.@argv)[index]?.to_s.starts_with?(\"-\")) && (!pos_only)\n  index = index + 1\n  pos_only = (command.@argv)[index]? == \"--\"\nend\nvalue = if (command.@argv)[index]?\n  (command.@argv).delete_at(index)\nelse\n  raise(Admiral::Error.new(\"Missing required attribute: <migration_number>\"))\nend\nInt64.new(value)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Down/Flags","path":"Clear/CLI/Migration/Down/Flags.html","kind":"struct","full_name":"Clear::CLI::Migration::Down::Flags","name":"Flags","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":19,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"LONG_NAMES","value":"[\"\\\"--help\\\"\"] of String","doc":null,"summary":null},{"name":"NAMES","value":"[\"__help__\"] of String","doc":null,"summary":null},{"name":"SHORT_NAMES","value":"[] of String","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Down","kind":"class","full_name":"Clear::CLI::Migration::Down","name":"Down"},"doc":"Extend the flags class to include the flag","summary":"<p>Extend the flags class to include the flag</p>","class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"__help__:Bool-instance-method","html_id":"__help__:Bool-instance-method","name":"__help__","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"__help__","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"val = @__help__\nif val.nil?\n  raise(::Admiral::Error.new(\"Flag: --help is required\"))\nend\nval\n"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io << \"<#{self.class}\"\nio << \"(\"\nif NAMES.empty?\nelse\n  io << (NAMES.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"validate!(command)-instance-method","html_id":"validate!(command)-instance-method","name":"validate!","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L19","def":{"name":"validate!","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"pos_index = ((command.@argv).index(&.==(\"--\")) || 0) - 1\nundefined_flags = [] of String\n(command.@argv)[0..pos_index].each do |arg|\n  if SubCommands.locate(arg)\n    break\n  else\n    if arg.starts_with?(\"-\")\n      undefined_flags << (arg.split(\"=\"))[0]\n    end\n  end\nend\nif undefined_flags.size == 1\n  raise(Admiral::Error.new(\"The following flag is not defined: #{undefined_flags.first}\"))\nelse\n  if undefined_flags.size > 1\n    raise(Admiral::Error.new(\"The following flags are not defined: #{undefined_flags.join(\", \")}\"))\n  end\nend\nself\n"}}],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Flags","path":"Clear/CLI/Migration/Flags.html","kind":"struct","full_name":"Clear::CLI::Migration::Flags","name":"Flags","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"LONG_NAMES","value":"[\"\\\"--help\\\"\"] of String","doc":null,"summary":null},{"name":"NAMES","value":"[\"__help__\"] of String","doc":null,"summary":null},{"name":"SHORT_NAMES","value":"[] of String","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration","kind":"class","full_name":"Clear::CLI::Migration","name":"Migration"},"doc":"Extend the flags class to include the flag","summary":"<p>Extend the flags class to include the flag</p>","class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"__help__:Bool-instance-method","html_id":"__help__:Bool-instance-method","name":"__help__","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"__help__","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"val = @__help__\nif val.nil?\n  raise(::Admiral::Error.new(\"Flag: --help is required\"))\nend\nval\n"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io << \"<#{self.class}\"\nio << \"(\"\nif NAMES.empty?\nelse\n  io << (NAMES.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"validate!(command)-instance-method","html_id":"validate!(command)-instance-method","name":"validate!","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L1","def":{"name":"validate!","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"pos_index = ((command.@argv).index(&.==(\"--\")) || 0) - 1\nundefined_flags = [] of String\n(command.@argv)[0..pos_index].each do |arg|\n  if SubCommands.locate(arg)\n    break\n  else\n    if arg.starts_with?(\"-\")\n      undefined_flags << (arg.split(\"=\"))[0]\n    end\n  end\nend\nif undefined_flags.size == 1\n  raise(Admiral::Error.new(\"The following flag is not defined: #{undefined_flags.first}\"))\nelse\n  if undefined_flags.size > 1\n    raise(Admiral::Error.new(\"The following flags are not defined: #{undefined_flags.join(\", \")}\"))\n  end\nend\nself\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Set","path":"Clear/CLI/Migration/Set.html","kind":"class","full_name":"Clear::CLI::Migration::Set","name":"Set","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":29,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"HELP","value":"{\"description\" => \"\", \"overview\" => \"\"}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration","kind":"class","full_name":"Clear::CLI::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[{"id":"run(*args,**params)-class-method","html_id":"run(*args,**params)-class-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","def":{"name":"run","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(new(*args, **params)).parse_and_run"}}],"constructors":[],"instance_methods":[{"id":"__rescue_from___Admiral__Error(e)-instance-method","html_id":"__rescue_from___Admiral__Error(e)-instance-method","name":"__rescue_from___Admiral__Error","doc":null,"summary":null,"abstract":false,"args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"args_string":"(e)","source_link":null,"source_link":null,"def":{"name":"__rescue_from___Admiral__Error","args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"panic(e.message.colorize(:red))"}},{"id":"arguments-instance-method","html_id":"arguments-instance-method","name":"arguments","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","def":{"name":"arguments","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@arguments || (@arguments = Arguments.new(self))"}},{"id":"flags-instance-method","html_id":"flags-instance-method","name":"flags","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","def":{"name":"flags","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@flags || (@flags = Flags.new(self))"}},{"id":"run-instance-method","html_id":"run-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L33","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L33","def":{"name":"run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"dir_symbol = case flags.direction\nwhen \"up\"\n  :up\nwhen \"down\"\n  :down\nwhen \"both\"\n  :both\nelse\n  puts(\"Bad argument --direction : #{flags.direction}. Must be up|down|both\")\n  exit(1)\nend\nClear::Migration::Manager.instance.apply_to(arguments.migration_number, direction: dir_symbol)\n"}},{"id":"sub(command,*args,**params)-instance-method","html_id":"sub(command,*args,**params)-instance-method","name":"sub","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(command, *args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","def":{"name":"sub","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SubCommands.invoke(command, *args, **params, parent: self)"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Set/Arguments","path":"Clear/CLI/Migration/Set/Arguments.html","kind":"struct","full_name":"Clear::CLI::Migration::Set::Arguments","name":"Arguments","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"},{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":29,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"},{"filename":"clear/cli/migration.cr","line_number":31,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"NAMES","value":"[\"migration_number\"] of String","doc":null,"summary":null},{"name":"REQUIRED_NAMES","value":"[\"migration_number\"] of String","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Set","kind":"class","full_name":"Clear::CLI::Migration::Set","name":"Set"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L31","def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](*args,**options)-instance-method","html_id":"[](*args,**options)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options]"}},{"id":"[](*args,**options,&block)-instance-method","html_id":"[](*args,**options,&amp;block)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options] do |*yield_args|\n  yield *yield_args\nend"}},{"id":"each(*args,**options)-instance-method","html_id":"each(*args,**options)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options)"}},{"id":"each(*args,**options,&block)-instance-method","html_id":"each(*args,**options,&amp;block)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"exists?(name:Symbol)-instance-method","html_id":"exists?(name:Symbol)-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L31","def":{"name":"exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(previous_def(name)) || (name == (:migration_number))"}},{"id":"get(name:Symbol)-instance-method","html_id":"get(name:Symbol)-instance-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L31","def":{"name":"get","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  previous_def(name)\nrescue MissingArgument\n  name == (:migration_number) ? @migration_number : raise(MissingArgument.new)\nend"}},{"id":"get?(name:Symbol)-instance-method","html_id":"get?(name:Symbol)-instance-method","name":"get?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","def":{"name":"get?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exists?(name) ? get(name) : false"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"names = NAMES.clone\nif size > 0\n  names << \"...\"\nend\nio << \"<#{self.class}\"\nio << \"(\"\nif names.empty?\nelse\n  io << (names.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"migration_number:Int64-instance-method","html_id":"migration_number:Int64-instance-method","name":"migration_number","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":null,"source_link":null,"def":{"name":"migration_number","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@migration_number"}},{"id":"parse_migration_number(command:Admiral::Command):Int64-instance-method","html_id":"parse_migration_number(command:Admiral::Command):Int64-instance-method","name":"parse_migration_number","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command) : Int64","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L31","def":{"name":"parse_migration_number","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"pos_only = false\nindex = 0\nwhile ((command.@argv)[index]?.to_s.starts_with?(\"-\")) && (!pos_only)\n  index = index + 1\n  pos_only = (command.@argv)[index]? == \"--\"\nend\nvalue = if (command.@argv)[index]?\n  (command.@argv).delete_at(index)\nelse\n  raise(Admiral::Error.new(\"Missing required attribute: <migration_number>\"))\nend\nInt64.new(value)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Set/Flags","path":"Clear/CLI/Migration/Set/Flags.html","kind":"struct","full_name":"Clear::CLI::Migration::Set::Flags","name":"Flags","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":29,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"},{"filename":"clear/cli/migration.cr","line_number":30,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"LONG_NAMES","value":"[\"\\\"--direction\\\"\"] of String","doc":null,"summary":null},{"name":"NAMES","value":"[\"direction\"] of String","doc":null,"summary":null},{"name":"SHORT_NAMES","value":"[\"\\\"-d\\\"\"] of String","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Set","kind":"class","full_name":"Clear::CLI::Migration::Set","name":"Set"},"doc":"Extend the flags class to include the flag","summary":"<p>Extend the flags class to include the flag</p>","class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L30","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L30","def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"direction:String-instance-method","html_id":"direction:String-instance-method","name":"direction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L30","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L30","def":{"name":"direction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"val = @direction\nif val.nil?\n  raise(::Admiral::Error.new(\"Flag: --direction is required\"))\nend\nval\n"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io << \"<#{self.class}\"\nio << \"(\"\nif NAMES.empty?\nelse\n  io << (NAMES.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"validate!(command)-instance-method","html_id":"validate!(command)-instance-method","name":"validate!","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L29","def":{"name":"validate!","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"pos_index = ((command.@argv).index(&.==(\"--\")) || 0) - 1\nundefined_flags = [] of String\n(command.@argv)[0..pos_index].each do |arg|\n  if SubCommands.locate(arg)\n    break\n  else\n    if arg.starts_with?(\"-\")\n      undefined_flags << (arg.split(\"=\"))[0]\n    end\n  end\nend\nif undefined_flags.size == 1\n  raise(Admiral::Error.new(\"The following flag is not defined: #{undefined_flags.first}\"))\nelse\n  if undefined_flags.size > 1\n    raise(Admiral::Error.new(\"The following flags are not defined: #{undefined_flags.join(\", \")}\"))\n  end\nend\nself\n"}}],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Status","path":"Clear/CLI/Migration/Status.html","kind":"class","full_name":"Clear::CLI::Migration::Status","name":"Status","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"HELP","value":"{\"description\" => \"\", \"overview\" => \"\"}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration","kind":"class","full_name":"Clear::CLI::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[{"id":"run(*args,**params)-class-method","html_id":"run(*args,**params)-class-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"run","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(new(*args, **params)).parse_and_run"}}],"constructors":[],"instance_methods":[{"id":"__rescue_from___Admiral__Error(e)-instance-method","html_id":"__rescue_from___Admiral__Error(e)-instance-method","name":"__rescue_from___Admiral__Error","doc":null,"summary":null,"abstract":false,"args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"args_string":"(e)","source_link":null,"source_link":null,"def":{"name":"__rescue_from___Admiral__Error","args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"panic(e.message.colorize(:red))"}},{"id":"arguments-instance-method","html_id":"arguments-instance-method","name":"arguments","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"arguments","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@arguments || (@arguments = Arguments.new(self))"}},{"id":"flags-instance-method","html_id":"flags-instance-method","name":"flags","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"flags","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@flags || (@flags = Flags.new(self))"}},{"id":"run-instance-method","html_id":"run-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L5","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L5","def":{"name":"run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"puts(Clear::Migration::Manager.instance.print_status)"}},{"id":"sub(command,*args,**params)-instance-method","html_id":"sub(command,*args,**params)-instance-method","name":"sub","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(command, *args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"sub","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SubCommands.invoke(command, *args, **params, parent: self)"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Status/Arguments","path":"Clear/CLI/Migration/Status/Arguments.html","kind":"struct","full_name":"Clear::CLI::Migration::Status::Arguments","name":"Arguments","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"},{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"NAMES","value":"[] of String","doc":null,"summary":null},{"name":"REQUIRED_NAMES","value":"[] of String","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Status","kind":"class","full_name":"Clear::CLI::Migration::Status","name":"Status"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](*args,**options)-instance-method","html_id":"[](*args,**options)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options]"}},{"id":"[](*args,**options,&block)-instance-method","html_id":"[](*args,**options,&amp;block)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options] do |*yield_args|\n  yield *yield_args\nend"}},{"id":"each(*args,**options)-instance-method","html_id":"each(*args,**options)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options)"}},{"id":"each(*args,**options,&block)-instance-method","html_id":"each(*args,**options,&amp;block)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"exists?(name:Symbol)-instance-method","html_id":"exists?(name:Symbol)-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"false"}},{"id":"get(name:Symbol):Nil-instance-method","html_id":"get(name:Symbol):Nil-instance-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol) : Nil","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"get","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"raise(MissingArgument.new)"}},{"id":"get?(name:Symbol)-instance-method","html_id":"get?(name:Symbol)-instance-method","name":"get?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"get?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exists?(name) ? get(name) : false"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"names = NAMES.clone\nif size > 0\n  names << \"...\"\nend\nio << \"<#{self.class}\"\nio << \"(\"\nif names.empty?\nelse\n  io << (names.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Status/Flags","path":"Clear/CLI/Migration/Status/Flags.html","kind":"struct","full_name":"Clear::CLI::Migration::Status::Flags","name":"Flags","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"LONG_NAMES","value":"[] of String","doc":null,"summary":null},{"name":"NAMES","value":"[] of String","doc":null,"summary":null},{"name":"SHORT_NAMES","value":"[] of String","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Status","kind":"class","full_name":"Clear::CLI::Migration::Status","name":"Status"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io << \"<#{self.class}\"\nio << \"(\"\nif NAMES.empty?\nelse\n  io << (NAMES.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"validate!(command)-instance-method","html_id":"validate!(command)-instance-method","name":"validate!","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L4","def":{"name":"validate!","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"pos_index = ((command.@argv).index(&.==(\"--\")) || 0) - 1\nundefined_flags = [] of String\n(command.@argv)[0..pos_index].each do |arg|\n  if SubCommands.locate(arg)\n    break\n  else\n    if arg.starts_with?(\"-\")\n      undefined_flags << (arg.split(\"=\"))[0]\n    end\n  end\nend\nif undefined_flags.size == 1\n  raise(Admiral::Error.new(\"The following flag is not defined: #{undefined_flags.first}\"))\nelse\n  if undefined_flags.size > 1\n    raise(Admiral::Error.new(\"The following flags are not defined: #{undefined_flags.join(\", \")}\"))\n  end\nend\nself\n"}}],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Up","path":"Clear/CLI/Migration/Up.html","kind":"class","full_name":"Clear::CLI::Migration::Up","name":"Up","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Admiral/Command","kind":"class","full_name":"Admiral::Command","name":"Command"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":10,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"HELP","value":"{\"description\" => \"\", \"overview\" => \"\"}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration","kind":"class","full_name":"Clear::CLI::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[{"id":"run(*args,**params)-class-method","html_id":"run(*args,**params)-class-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","def":{"name":"run","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(new(*args, **params)).parse_and_run"}}],"constructors":[],"instance_methods":[{"id":"__rescue_from___Admiral__Error(e)-instance-method","html_id":"__rescue_from___Admiral__Error(e)-instance-method","name":"__rescue_from___Admiral__Error","doc":null,"summary":null,"abstract":false,"args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"args_string":"(e)","source_link":null,"source_link":null,"def":{"name":"__rescue_from___Admiral__Error","args":[{"name":"e","doc":null,"default_value":"","external_name":"e","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"panic(e.message.colorize(:red))"}},{"id":"arguments-instance-method","html_id":"arguments-instance-method","name":"arguments","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","def":{"name":"arguments","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@arguments || (@arguments = Arguments.new(self))"}},{"id":"flags-instance-method","html_id":"flags-instance-method","name":"flags","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","def":{"name":"flags","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@flags || (@flags = Flags.new(self))"}},{"id":"help-instance-method","html_id":"help-instance-method","name":"help","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"help","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[help_usage, \"Upgrade your database to a specific migration version\" + \"\\n\", help_flags, help_arguments, help_sub_commands].reject do |__arg0|\n  __arg0.strip.empty?\nend.join(\"\\n\")"}},{"id":"run-instance-method","html_id":"run-instance-method","name":"run","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L14","def":{"name":"run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Clear::Migration::Manager.instance.up(arguments.migration_number)"}},{"id":"sub(command,*args,**params)-instance-method","html_id":"sub(command,*args,**params)-instance-method","name":"sub","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(command, *args, **params)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","def":{"name":"sub","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":""},"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SubCommands.invoke(command, *args, **params, parent: self)"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Up/Arguments","path":"Clear/CLI/Migration/Up/Arguments.html","kind":"struct","full_name":"Clear::CLI::Migration::Up::Arguments","name":"Arguments","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"},{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":10,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"},{"filename":"clear/cli/migration.cr","line_number":11,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"NAMES","value":"[\"migration_number\"] of String","doc":null,"summary":null},{"name":"REQUIRED_NAMES","value":"[\"migration_number\"] of String","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/anykeyh/clear/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"github.com/anykeyh/clear/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Up","kind":"class","full_name":"Clear::CLI::Migration::Up","name":"Up"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L11","def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](*args,**options)-instance-method","html_id":"[](*args,**options)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options]"}},{"id":"[](*args,**options,&block)-instance-method","html_id":"[](*args,**options,&amp;block)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__[*args, **options] do |*yield_args|\n  yield *yield_args\nend"}},{"id":"each(*args,**options)-instance-method","html_id":"each(*args,**options)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options)"}},{"id":"each(*args,**options,&block)-instance-method","html_id":"each(*args,**options,&amp;block)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **options, &block)","source_link":null,"source_link":null,"def":{"name":"each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"options","doc":null,"default_value":"","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@__rest__.each(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"id":"exists?(name:Symbol)-instance-method","html_id":"exists?(name:Symbol)-instance-method","name":"exists?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L11","def":{"name":"exists?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(previous_def(name)) || (name == (:migration_number))"}},{"id":"get(name:Symbol)-instance-method","html_id":"get(name:Symbol)-instance-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L11","def":{"name":"get","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  previous_def(name)\nrescue MissingArgument\n  name == (:migration_number) ? @migration_number : raise(MissingArgument.new)\nend"}},{"id":"get?(name:Symbol)-instance-method","html_id":"get?(name:Symbol)-instance-method","name":"get?","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","def":{"name":"get?","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbol"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exists?(name) ? get(name) : false"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"names = NAMES.clone\nif size > 0\n  names << \"...\"\nend\nio << \"<#{self.class}\"\nio << \"(\"\nif names.empty?\nelse\n  io << (names.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"migration_number:Int64-instance-method","html_id":"migration_number:Int64-instance-method","name":"migration_number","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","source_link":null,"source_link":null,"def":{"name":"migration_number","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@migration_number"}},{"id":"parse_migration_number(command:Admiral::Command):Int64-instance-method","html_id":"parse_migration_number(command:Admiral::Command):Int64-instance-method","name":"parse_migration_number","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command) : Int64","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L11","def":{"name":"parse_migration_number","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"pos_only = false\nindex = 0\nwhile ((command.@argv)[index]?.to_s.starts_with?(\"-\")) && (!pos_only)\n  index = index + 1\n  pos_only = (command.@argv)[index]? == \"--\"\nend\nvalue = if (command.@argv)[index]?\n  (command.@argv).delete_at(index)\nelse\n  raise(Admiral::Error.new(\"Missing required attribute: <migration_number>\"))\nend\nInt64.new(value)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Up/Flags","path":"Clear/CLI/Migration/Up/Flags.html","kind":"struct","full_name":"Clear::CLI::Migration::Up::Flags","name":"Flags","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/cli/migration.cr","line_number":10,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DESCRIPTIONS","value":"{} of String => String","doc":null,"summary":null},{"name":"LONG_NAMES","value":"[\"\\\"--help\\\"\"] of String","doc":null,"summary":null},{"name":"NAMES","value":"[\"__help__\"] of String","doc":null,"summary":null},{"name":"SHORT_NAMES","value":"[] of String","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/CLI/Migration/Up","kind":"class","full_name":"Clear::CLI::Migration::Up","name":"Up"},"doc":"Extend the flags class to include the flag","summary":"<p>Extend the flags class to include the flag</p>","class_methods":[],"constructors":[{"id":"new(command:Admiral::Command)-class-method","html_id":"new(command:Admiral::Command)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"args_string":"(command : Admiral::Command)","source_link":null,"source_link":null,"def":{"name":"new","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"::Admiral::Command"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(command)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"__help__:Bool-instance-method","html_id":"__help__:Bool-instance-method","name":"__help__","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"__help__","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"val = @__help__\nif val.nil?\n  raise(::Admiral::Error.new(\"Flag: --help is required\"))\nend\nval\n"}},{"id":"inspect(io)-instance-method","html_id":"inspect(io)-instance-method","name":"inspect","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"args_string":"(io)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"io << \"<#{self.class}\"\nio << \"(\"\nif NAMES.empty?\nelse\n  io << (NAMES.join(\", \"))\nend\nio << \")\"\nio << \">\"\n"}},{"id":"validate!(command)-instance-method","html_id":"validate!(command)-instance-method","name":"validate!","doc":null,"summary":null,"abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/cli/migration.cr#L10","def":{"name":"validate!","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"pos_index = ((command.@argv).index(&.==(\"--\")) || 0) - 1\nundefined_flags = [] of String\n(command.@argv)[0..pos_index].each do |arg|\n  if SubCommands.locate(arg)\n    break\n  else\n    if arg.starts_with?(\"-\")\n      undefined_flags << (arg.split(\"=\"))[0]\n    end\n  end\nend\nif undefined_flags.size == 1\n  raise(Admiral::Error.new(\"The following flag is not defined: #{undefined_flags.first}\"))\nelse\n  if undefined_flags.size > 1\n    raise(Admiral::Error.new(\"The following flags are not defined: #{undefined_flags.join(\", \")}\"))\n  end\nend\nself\n"}}],"macros":[],"types":[]}]}]}]},{"html_id":"github.com/anykeyh/clear/Clear/Expression","path":"Clear/Expression.html","kind":"class","full_name":"Clear::Expression","name":"Expression","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/expression.cr","line_number":55,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DATABASE_DATE_FORMAT","value":"\"%Y-%m-%d\"","doc":null,"summary":null},{"name":"DATABASE_DATE_TIME_FORMAT","value":"\"%Y-%m-%d %H:%M:%S.%L %:z\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear","kind":"module","full_name":"Clear","name":"Clear"},"doc":"##\n## Clear's Expression engine\n\nThe goal of this module is to offer the most natural way to write down your\nquery in crystal.\n\nIf you're familiar with Sequel on Ruby, then here you have !\n\nInstead of writing:\n\n```\nmodel_collection.where(\"created_at BETWEEN ? AND ?\", 1.day.ago, DateTime.now)\n```\n\nYou can write:\n```\nmodel_collection.where { created_at.between(1.day.ago, DateTime.now) }\n```\n\nor even:\n```\nmodel_collection.where { created_at.in?(1.day.ago..DateTime.now) }\n```\n\n(Note for the later, it will generate `created_at > 1.day.ago AND created_at < DateTime.now`)\n\n## Limitations\n\nDue to the use of `missing_method` macro, some case can be confusing.\n\n### Existing local variable / instance method\n\n```\nid = 1\nmodel_collection.where { id > 100 } # Will raise an error, because the expression is resolved by Crystal !\n# Should be:\nid = 1\nmodel_collection.where { var(\"id\") > 100 } # Will works\n```\n\n### Usage of AND / OR\n\nAnd/Or can be used using the bitwises operators `&` and `|`.\nDue to the impossibility to reuse `||` and `&&`, beware the operator precendance\nrules are changed.\n\n```crystal\n# v-- This below will not works, as we cannot redefine the `or` operator\nmodel_collection.where { first_name == \"yacine\" || last_name == \"petitprez\" }\n# v-- This will works, but beware of the parenthesis between each terms, as `|` is prioritary on `==`\nmodel.collection.where { (firt_name == \"yacine\") | (last_name == \"petitprez\") }\n# ^-- ... WHERE first_name = 'yacine' OR last_name == ''\n```\n","summary":"<h2>## Clear's Expression engine</h2>","class_methods":[{"id":"[](*args):String-class-method","html_id":"[](*args):String-class-method","name":"[]","doc":"fastest way to call self.safe_literal\nSee `safe_literal(x : _)`","summary":"<p>fastest way to call self.safe_literal See <code><a href=\"../Clear/Expression.html#safe_literal%28x%3ANumber%29%3AString-class-method\">.safe_literal(x : _)</a></code></p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L79","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L79","def":{"name":"[]","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"safe_literal(*args)"}},{"id":"safe_literal(x:Number):String-class-method","html_id":"safe_literal(x:Number):String-class-method","name":"safe_literal","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Number"}],"args_string":"(x : Number) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L83","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L83","def":{"name":"safe_literal","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Number"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"x.to_s"}},{"id":"safe_literal(x:Nil):String-class-method","html_id":"safe_literal(x:Nil):String-class-method","name":"safe_literal","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Nil"}],"args_string":"(x : Nil) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L87","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L87","def":{"name":"safe_literal","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"\"NULL\""}},{"id":"safe_literal(x:String):String-class-method","html_id":"safe_literal(x:String):String-class-method","name":"safe_literal","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"args_string":"(x : String) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L91","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L91","def":{"name":"safe_literal","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"(\"'\" + (x.gsub(/\\'/, \"''\"))) + \"'\""}},{"id":"safe_literal(x:Time,date:Bool=false):String-class-method","html_id":"safe_literal(x:Time,date:Bool=false):String-class-method","name":"safe_literal","doc":"\nSafe literal of a time is the time in the database format\n@params date\n  if date is passed, then only the date part of the Time is used:\n```\nClear::Expression[Time.now]             # < \"2017-04-03 23:04:43.234 +08:00\"\nClear::Expression[Time.now, date: true] # < \"2017-04-03\"\n```","summary":"<p>Safe literal of a time is the time in the database format @params date   if date is passed, then only the date part of the Time is used: <code></code>` Clear::Expression[Time.now]             # &lt; \"2017-04-03 23:04:43.234 +08:00\" Clear::Expression[Time.now, date: true] # &lt; \"2017-04-03\" <code></code>`</p>","abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Time"},{"name":"date","doc":null,"default_value":"false","external_name":"date","restriction":"Bool"}],"args_string":"(x : Time, date : Bool = <span class=\"n\">false</span>) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L107","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L107","def":{"name":"safe_literal","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Time"},{"name":"date","doc":null,"default_value":"false","external_name":"date","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"(\"'\" + (x.to_s(date ? DATABASE_DATE_FORMAT : DATABASE_DATE_TIME_FORMAT))) + \"'\""}},{"id":"safe_literal(x:Bool):String-class-method","html_id":"safe_literal(x:Bool):String-class-method","name":"safe_literal","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Bool"}],"args_string":"(x : Bool) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L111","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L111","def":{"name":"safe_literal","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"(x ? \"TRUE\" : \"FALSE\")"}},{"id":"safe_literal(x:UnsafeSql):String-class-method","html_id":"safe_literal(x:UnsafeSql):String-class-method","name":"safe_literal","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UnsafeSql"}],"args_string":"(x : UnsafeSql) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L119","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L119","def":{"name":"safe_literal","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UnsafeSql"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"x.to_s"}},{"id":"safe_literal(x:Clear::SQL::SelectBuilder)-class-method","html_id":"safe_literal(x:Clear::SQL::SelectBuilder)-class-method","name":"safe_literal","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::SelectBuilder"}],"args_string":"(x : Clear::SQL::SelectBuilder)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L95","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L95","def":{"name":"safe_literal","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::SelectBuilder"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"(#{x.to_sql})\""}},{"id":"safe_literal(x:Node):String-class-method","html_id":"safe_literal(x:Node):String-class-method","name":"safe_literal","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Node"}],"args_string":"(x : Node) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L115","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L115","def":{"name":"safe_literal","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"x.resolve"}},{"id":"safe_literal(x:_):String-class-method","html_id":"safe_literal(x:_):String-class-method","name":"safe_literal","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"_"}],"args_string":"(x : _) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L123","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L123","def":{"name":"safe_literal","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"_"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"self.safe_literal(x.to_s)"}},{"id":"to_node(node):Node-class-method","html_id":"to_node(node):Node-class-method","name":"to_node","doc":null,"summary":null,"abstract":false,"args":[{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":""}],"args_string":"(node) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L127","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L127","def":{"name":"to_node","args":[{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"case node\nwhen Node\n  node\nwhen Bool\n  raise(ArgumentError.new(((((\"The expression engine discovered a runtime-evaluable condition.\\n\" + \"It happens when a test is done with values on both sides.\\n\") + \"Maybe a local variable is breaking the expression engine like here:\\n\") + \"id = 1\\n\") + \"Users.where{ id == nil }\\n\\n\") + \"In this case, please use `raw(\\\"id IS NULL\\\")` to allow the expression.\"))\nelse\n  raise(ArgumentError.new(\"Node is incorrect, it must be an ExpressionNode\"))\nend"}},{"id":"where(&block):Node-class-method","html_id":"where(&amp;block):Node-class-method","name":"where","doc":"Return a node of the expression engine\nThis node can then be combined with others node\nin case of chain request creation `where{...}.where{...}`\nthrough the chaining engine","summary":"<p>Return a node of the expression engine This node can then be combined with others node in case of chain request creation <code>where{...}<a href=\"../Clear/Expression.html#where%28%26block%29%3ANode-class-method\">.where</a>{...}</code> through the chaining engine</p>","abstract":false,"args":[],"args_string":"(&block) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L152","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L152","def":{"name":"where","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"Node","visibility":"Public","body":"expression_engine = self.new\nto_node(with expression_engine yield)\n"}}],"constructors":[],"instance_methods":[{"id":"not(x:Node)-instance-method","html_id":"not(x:Node)-instance-method","name":"not","doc":"Not operator\n\n```\nClear::Expression.where { not(a == b) }.resolve # >> \"WHERE NOT( a = b )\n```","summary":"<p>Not operator</p>","abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Node"}],"args_string":"(x : Node)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L163","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L163","def":{"name":"not","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Node::Not.new(x)"}},{"id":"raw(x)-instance-method","html_id":"raw(x)-instance-method","name":"raw","doc":"\nIn case the name of the variable is a reserved word (e.g. not or ... raw :P)\nor in case of a complex piece impossible to express with the expression engine\n(mostly usage of functions)\nyou can use then raw\n\n```\nwhere { raw(\"COUNT(*)\") > 5 }\n```\n\nIDEA: raw should accept array splat as second parameters and the \"?\" keyword\n","summary":"<p>In case the name of the variable is a reserved word (e.g.</p>","abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L179","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L179","def":{"name":"raw","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Node::Variable.new(x.to_s)"}},{"id":"var(x)-instance-method","html_id":"var(x)-instance-method","name":"var","doc":"Alias for `raw`\n\nSee `raw`","summary":"<p>Alias for <code><a href=\"../Clear/Expression.html#raw%28x%29-instance-method\">#raw</a></code></p>","abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L186","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L186","def":{"name":"var","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raw(x)"}}],"macros":[{"id":"method_missing(call)-macro","html_id":"method_missing(call)-macro","name":"method_missing","doc":null,"summary":null,"abstract":false,"args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"args_string":"(call)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L190","def":{"name":"method_missing","args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"     \n{% if call.args.size > 0 %}\n       args = {{ call.args }}.map{|x| Clear::Expression[x] }.join(\", \")\n       return Node::Variable.new(\"{{ call.name.id }}( #{args} )\")\n     {% else %}\n       return Node::Variable.new({{ call.name.id.stringify }})\n     {% end %}\n\n  \n"}}],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/AvailableLiteral","path":"Clear/Expression/AvailableLiteral.html","kind":"alias","full_name":"Clear::Expression::AvailableLiteral","name":"AvailableLiteral","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/expression/expression.cr","line_number":73,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"(Bool | Clear::Expression::UnsafeSql | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | String | Symbol | Time | UInt16 | UInt32 | UInt64 | UInt8 | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression","kind":"class","full_name":"Clear::Expression","name":"Expression"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","path":"Clear/Expression/Node.html","kind":"class","full_name":"Clear::Expression::Node","name":"Node","abstract":true,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/node.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Between","kind":"class","full_name":"Clear::Expression::Node::Between","name":"Between"},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/DoubleOperator","kind":"class","full_name":"Clear::Expression::Node::DoubleOperator","name":"DoubleOperator"},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/InArray","kind":"class","full_name":"Clear::Expression::Node::InArray","name":"InArray"},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/InSelect","kind":"class","full_name":"Clear::Expression::Node::InSelect","name":"InSelect"},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Literal","kind":"class","full_name":"Clear::Expression::Node::Literal","name":"Literal"},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Minus","kind":"class","full_name":"Clear::Expression::Node::Minus","name":"Minus"},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Not","kind":"class","full_name":"Clear::Expression::Node::Not","name":"Not"},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/NotBetween","kind":"class","full_name":"Clear::Expression::Node::NotBetween","name":"NotBetween"},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Null","kind":"class","full_name":"Clear::Expression::Node::Null","name":"Null"},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Variable","kind":"class","full_name":"Clear::Expression::Node::Variable","name":"Variable"}],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression","kind":"class","full_name":"Clear::Expression","name":"Expression"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"!=(any:T):NodeforallT-instance-method","html_id":"!=(any:T):NodeforallT-instance-method","name":"!=","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L48","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L48","def":{"name":"!=","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"<>\")"}},{"id":"!=(some_nil:Nil):Node-instance-method","html_id":"!=(some_nil:Nil):Node-instance-method","name":"!=","doc":null,"summary":null,"abstract":false,"args":[{"name":"some_nil","doc":null,"default_value":"","external_name":"some_nil","restriction":"Nil"}],"args_string":"(some_nil : Nil) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L48","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L48","def":{"name":"!=","args":[{"name":"some_nil","doc":null,"default_value":"","external_name":"some_nil","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Null.new, \"IS NOT\")"}},{"id":"!=(any:Node):Node-instance-method","html_id":"!=(any:Node):Node-instance-method","name":"!=","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L48","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L48","def":{"name":"!=","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"<>\")"}},{"id":"!~(regexp:Regex):Node-instance-method","html_id":"!~(regexp:Regex):Node-instance-method","name":"!~","doc":null,"summary":null,"abstract":false,"args":[{"name":"regexp","doc":null,"default_value":"","external_name":"regexp","restriction":"Regex"}],"args_string":"(regexp : Regex) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L40","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L40","def":{"name":"!~","args":[{"name":"regexp","doc":null,"default_value":"","external_name":"regexp","restriction":"Regex"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"if regexp.options.ignore_case?\n  Node::DoubleOperator.new(self, Literal.new(regexp.source), \"!~*\")\nelse\n  Node::DoubleOperator.new(self, Literal.new(regexp.source), \"!~\")\nend"}},{"id":"!~(any:Node):Node-instance-method","html_id":"!~(any:Node):Node-instance-method","name":"!~","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L28","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L28","def":{"name":"!~","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"!~\")"}},{"id":"&(any:T):NodeforallT-instance-method","html_id":"&amp;(any:T):NodeforallT-instance-method","name":"&","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L52","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L52","def":{"name":"&","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"AND\")"}},{"id":"&(any:Node):Node-instance-method","html_id":"&amp;(any:Node):Node-instance-method","name":"&","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L52","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L52","def":{"name":"&","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"AND\")"}},{"id":"*(any:T):NodeforallT-instance-method","html_id":"*(any:T):NodeforallT-instance-method","name":"*","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":null,"source_link":null,"def":{"name":"*","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"*\")"}},{"id":"*(any:Node):Node-instance-method","html_id":"*(any:Node):Node-instance-method","name":"*","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":null,"source_link":null,"def":{"name":"*","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"*\")"}},{"id":"+(any:Node):Node-instance-method","html_id":"+(any:Node):Node-instance-method","name":"+","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":null,"source_link":null,"def":{"name":"+","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"+\")"}},{"id":"+(any:T):NodeforallT-instance-method","html_id":"+(any:T):NodeforallT-instance-method","name":"+","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":null,"source_link":null,"def":{"name":"+","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"+\")"}},{"id":"--instance-method","html_id":"--instance-method","name":"-","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L67","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L67","def":{"name":"-","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Node::Minus.new(self)"}},{"id":"-(any:T):NodeforallT-instance-method","html_id":"-(any:T):NodeforallT-instance-method","name":"-","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":null,"source_link":null,"def":{"name":"-","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"-\")"}},{"id":"-(any:Node):Node-instance-method","html_id":"-(any:Node):Node-instance-method","name":"-","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":null,"source_link":null,"def":{"name":"-","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"-\")"}},{"id":"/(any:Node):Node-instance-method","html_id":"/(any:Node):Node-instance-method","name":"/","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":null,"source_link":null,"def":{"name":"/","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"/\")"}},{"id":"/(any:T):NodeforallT-instance-method","html_id":"/(any:T):NodeforallT-instance-method","name":"/","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":null,"source_link":null,"def":{"name":"/","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"/\")"}},{"id":"<(any:T):NodeforallT-instance-method","html_id":"&lt;(any:T):NodeforallT-instance-method","name":"<","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":null,"source_link":null,"def":{"name":"<","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"<\")"}},{"id":"<(any:Node):Node-instance-method","html_id":"&lt;(any:Node):Node-instance-method","name":"<","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":null,"source_link":null,"def":{"name":"<","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"<\")"}},{"id":"<=(any:T):NodeforallT-instance-method","html_id":"&lt;=(any:T):NodeforallT-instance-method","name":"<=","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":null,"source_link":null,"def":{"name":"<=","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"<=\")"}},{"id":"<=(any:Node):Node-instance-method","html_id":"&lt;=(any:Node):Node-instance-method","name":"<=","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":null,"source_link":null,"def":{"name":"<=","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"<=\")"}},{"id":"==(some_nil:Nil):Node-instance-method","html_id":"==(some_nil:Nil):Node-instance-method","name":"==","doc":null,"summary":null,"abstract":false,"args":[{"name":"some_nil","doc":null,"default_value":"","external_name":"some_nil","restriction":"Nil"}],"args_string":"(some_nil : Nil) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L49","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L49","def":{"name":"==","args":[{"name":"some_nil","doc":null,"default_value":"","external_name":"some_nil","restriction":"Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Null.new, \"IS\")"}},{"id":"==(any:T):NodeforallT-instance-method","html_id":"==(any:T):NodeforallT-instance-method","name":"==","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L49","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L49","def":{"name":"==","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"=\")"}},{"id":"==(any:Node):Node-instance-method","html_id":"==(any:Node):Node-instance-method","name":"==","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L49","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L49","def":{"name":"==","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"=\")"}},{"id":"=~(any:Node):Node-instance-method","html_id":"=~(any:Node):Node-instance-method","name":"=~","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L24","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L24","def":{"name":"=~","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"~\")"}},{"id":"=~(regexp:Regex):Node-instance-method","html_id":"=~(regexp:Regex):Node-instance-method","name":"=~","doc":null,"summary":null,"abstract":false,"args":[{"name":"regexp","doc":null,"default_value":"","external_name":"regexp","restriction":"Regex"}],"args_string":"(regexp : Regex) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L32","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L32","def":{"name":"=~","args":[{"name":"regexp","doc":null,"default_value":"","external_name":"regexp","restriction":"Regex"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"if regexp.options.ignore_case?\n  Node::DoubleOperator.new(self, Literal.new(regexp.source), \"~*\")\nelse\n  Node::DoubleOperator.new(self, Literal.new(regexp.source), \"~\")\nend"}},{"id":">(any:Node):Node-instance-method","html_id":"&gt;(any:Node):Node-instance-method","name":">","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":null,"source_link":null,"def":{"name":">","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \">\")"}},{"id":">(any:T):NodeforallT-instance-method","html_id":"&gt;(any:T):NodeforallT-instance-method","name":">","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":null,"source_link":null,"def":{"name":">","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \">\")"}},{"id":">=(any:T):NodeforallT-instance-method","html_id":"&gt;=(any:T):NodeforallT-instance-method","name":">=","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":null,"source_link":null,"def":{"name":">=","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \">=\")"}},{"id":">=(any:Node):Node-instance-method","html_id":"&gt;=(any:Node):Node-instance-method","name":">=","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":null,"source_link":null,"def":{"name":">=","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \">=\")"}},{"id":"between(a,b)-instance-method","html_id":"between(a,b)-instance-method","name":"between","doc":null,"summary":null,"abstract":false,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"args_string":"(a, b)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L63","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L63","def":{"name":"between","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":""},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Node::Between.new(self, a, b)"}},{"id":"ilike(any:Node):Node-instance-method","html_id":"ilike(any:Node):Node-instance-method","name":"ilike","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L51","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L51","def":{"name":"ilike","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"ILIKE\")"}},{"id":"ilike(any:T):NodeforallT-instance-method","html_id":"ilike(any:T):NodeforallT-instance-method","name":"ilike","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L51","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L51","def":{"name":"ilike","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"ILIKE\")"}},{"id":"in?(arr:Array(T))forallT-instance-method","html_id":"in?(arr:Array(T))forallT-instance-method","name":"in?","doc":null,"summary":null,"abstract":false,"args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array(T)"}],"args_string":"(arr : Array(T)) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L55","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L55","def":{"name":"in?","args":[{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array(T)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Node::InArray.new(self, arr.map do |x|\n  Literal.new(x)\nend)"}},{"id":"in?(request:Clear::SQL::SelectBuilder)-instance-method","html_id":"in?(request:Clear::SQL::SelectBuilder)-instance-method","name":"in?","doc":null,"summary":null,"abstract":false,"args":[{"name":"request","doc":null,"default_value":"","external_name":"request","restriction":"::Clear::SQL::SelectBuilder"}],"args_string":"(request : Clear::SQL::SelectBuilder)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L59","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L59","def":{"name":"in?","args":[{"name":"request","doc":null,"default_value":"","external_name":"request","restriction":"::Clear::SQL::SelectBuilder"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Node::InSelect.new(self, request)"}},{"id":"like(any:Node):Node-instance-method","html_id":"like(any:Node):Node-instance-method","name":"like","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L50","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L50","def":{"name":"like","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"LIKE\")"}},{"id":"like(any:T):NodeforallT-instance-method","html_id":"like(any:T):NodeforallT-instance-method","name":"like","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L50","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L50","def":{"name":"like","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"LIKE\")"}},{"id":"resolve:String-instance-method","html_id":"resolve:String-instance-method","name":"resolve","doc":null,"summary":null,"abstract":true,"args":[],"args_string":" : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L75","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L75","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":""}},{"id":"|(any:Node):Node-instance-method","html_id":"|(any:Node):Node-instance-method","name":"|","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"args_string":"(any : Node) : Node","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L53","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L53","def":{"name":"|","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, any, \"OR\")"}},{"id":"|(any:T):NodeforallT-instance-method","html_id":"|(any:T):NodeforallT-instance-method","name":"|","doc":null,"summary":null,"abstract":false,"args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"args_string":"(any : T) : Node forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L53","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L53","def":{"name":"|","args":[{"name":"any","doc":null,"default_value":"","external_name":"any","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Node","visibility":"Public","body":"Node::DoubleOperator.new(self, Literal.new(any), \"OR\")"}},{"id":"~-instance-method","html_id":"~-instance-method","name":"~","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L71","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L71","def":{"name":"~","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Node::Not.new(self)"}}],"macros":[{"id":"define_operator(op_name,sql_name,null=false)-macro","html_id":"define_operator(op_name,sql_name,null=false)-macro","name":"define_operator","doc":null,"summary":null,"abstract":false,"args":[{"name":"op_name","doc":null,"default_value":"","external_name":"op_name","restriction":""},{"name":"sql_name","doc":null,"default_value":"","external_name":"sql_name","restriction":""},{"name":"null","doc":null,"default_value":"false","external_name":"null","restriction":""}],"args_string":"(op_name, sql_name, null = false)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/node.cr#L4","def":{"name":"define_operator","args":[{"name":"op_name","doc":null,"default_value":"","external_name":"op_name","restriction":""},{"name":"sql_name","doc":null,"default_value":"","external_name":"sql_name","restriction":""},{"name":"null","doc":null,"default_value":"false","external_name":"null","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    def \n{{ op_name.id }}\n(any : Node) : Node\n      Node::DoubleOperator.new(self, any, \"\n{{ sql_name.id }}\n\")\n    \nend\n\n    \n{% if null %}\n      def {{ op_name.id }}(some_nil : Nil) : Node\n        Node::DoubleOperator.new(self, Null.new, {{ null }} )\n      end\n    {% end %}\n\n\n    def \n{{ op_name.id }}\n(any : T) : Node forall T\n      Node::DoubleOperator.new(self, Literal.new(any), \"\n{{ sql_name.id }}\n\")\n    \nend\n  \n"}}],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Between","path":"Clear/Expression/Node/Between.html","kind":"class","full_name":"Clear::Expression::Node::Between","name":"Between","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/between.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/between.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(target:Node,starts:BetweenType,ends:BetweenType)-class-method","html_id":"new(target:Node,starts:BetweenType,ends:BetweenType)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"target","doc":null,"default_value":"","external_name":"target","restriction":"Node"},{"name":"starts","doc":null,"default_value":"","external_name":"starts","restriction":"BetweenType"},{"name":"ends","doc":null,"default_value":"","external_name":"ends","restriction":"BetweenType"}],"args_string":"(target : Node, starts : BetweenType, ends : BetweenType)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/between.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/between.cr#L6","def":{"name":"new","args":[{"name":"target","doc":null,"default_value":"","external_name":"target","restriction":"Node"},{"name":"starts","doc":null,"default_value":"","external_name":"starts","restriction":"BetweenType"},{"name":"ends","doc":null,"default_value":"","external_name":"ends","restriction":"BetweenType"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(target, starts, ends)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"resolve-instance-method","html_id":"resolve-instance-method","name":"resolve","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/between.cr#L9","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/between.cr#L9","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"(#{@target.resolve} BETWEEN \" + \"#{Clear::Expression.safe_literal(@starts)} AND #{Clear::Expression.safe_literal(@ends)})\""}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Between/BetweenType","path":"Clear/Expression/Node/Between/BetweenType.html","kind":"alias","full_name":"Clear::Expression::Node::Between::BetweenType","name":"BetweenType","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/expression/nodes/between.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/between.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"(Clear::Expression::Node | Float32 | Float64 | Int32 | Int64 | String | Time)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Between","kind":"class","full_name":"Clear::Expression::Node::Between","name":"Between"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/DoubleOperator","path":"Clear/Expression/Node/DoubleOperator.html","kind":"class","full_name":"Clear::Expression::Node::DoubleOperator","name":"DoubleOperator","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/double_operator.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/double_operator.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(a:Node,b:Node,op:String)-class-method","html_id":"new(a:Node,b:Node,op:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":"Node"},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":"Node"},{"name":"op","doc":null,"default_value":"","external_name":"op","restriction":"String"}],"args_string":"(a : Node, b : Node, op : String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/double_operator.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/double_operator.cr#L4","def":{"name":"new","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":"Node"},{"name":"b","doc":null,"default_value":"","external_name":"b","restriction":"Node"},{"name":"op","doc":null,"default_value":"","external_name":"op","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(a, b, op)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"resolve-instance-method","html_id":"resolve-instance-method","name":"resolve","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/double_operator.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/double_operator.cr#L6","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"(#{@a.resolve} #{@op} #{@b.resolve})\""}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/InArray","path":"Clear/Expression/Node/InArray.html","kind":"class","full_name":"Clear::Expression::Node::InArray","name":"InArray","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/in_array.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/in_array.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(target:Node,array:Array(Literal))-class-method","html_id":"new(target:Node,array:Array(Literal))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"target","doc":null,"default_value":"","external_name":"target","restriction":"Node"},{"name":"array","doc":null,"default_value":"","external_name":"array","restriction":"Array(Literal)"}],"args_string":"(target : Node, array : Array(Literal))","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/in_array.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/in_array.cr#L4","def":{"name":"new","args":[{"name":"target","doc":null,"default_value":"","external_name":"target","restriction":"Node"},{"name":"array","doc":null,"default_value":"","external_name":"array","restriction":"Array(Literal)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(target, array)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"resolve-instance-method","html_id":"resolve-instance-method","name":"resolve","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/in_array.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/in_array.cr#L6","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @array.size == 0\n  \"FALSE\"\nelse\n  \"#{@target.resolve} IN (#{@array.map do |x|\n    x.resolve\n  end.join(\", \")})\"\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/InSelect","path":"Clear/Expression/Node/InSelect.html","kind":"class","full_name":"Clear::Expression::Node::InSelect","name":"InSelect","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/in_select.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/in_select.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(target:Node,select:Clear::SQL::SelectBuilder)-class-method","html_id":"new(target:Node,select:Clear::SQL::SelectBuilder)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"target","doc":null,"default_value":"","external_name":"target","restriction":"Node"},{"name":"select","doc":null,"default_value":"","external_name":"select","restriction":"Clear::SQL::SelectBuilder"}],"args_string":"(target : Node, select : Clear::SQL::SelectBuilder)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/in_select.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/in_select.cr#L4","def":{"name":"new","args":[{"name":"target","doc":null,"default_value":"","external_name":"target","restriction":"Node"},{"name":"select","doc":null,"default_value":"","external_name":"select","restriction":"Clear::SQL::SelectBuilder"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(target, select)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"resolve-instance-method","html_id":"resolve-instance-method","name":"resolve","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/in_select.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/in_select.cr#L6","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"#{@target.resolve} IN ( #{@select.to_sql} )\""}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Literal","path":"Clear/Expression/Node/Literal.html","kind":"class","full_name":"Clear::Expression::Node::Literal","name":"Literal","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/literal.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/literal.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(lit:AvailableLiteral)-class-method","html_id":"new(lit:AvailableLiteral)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"lit","doc":null,"default_value":"","external_name":"lit","restriction":"AvailableLiteral"}],"args_string":"(lit : AvailableLiteral)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/literal.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/literal.cr#L4","def":{"name":"new","args":[{"name":"lit","doc":null,"default_value":"","external_name":"lit","restriction":"AvailableLiteral"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(lit)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"resolve:String-instance-method","html_id":"resolve:String-instance-method","name":"resolve","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/literal.cr#L7","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/literal.cr#L7","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"Clear::Expression[@lit]"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Minus","path":"Clear/Expression/Node/Minus.html","kind":"class","full_name":"Clear::Expression::Node::Minus","name":"Minus","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/minus.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/minus.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(a:Node)-class-method","html_id":"new(a:Node)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":"Node"}],"args_string":"(a : Node)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/minus.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/minus.cr#L4","def":{"name":"new","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(a)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"resolve-instance-method","html_id":"resolve-instance-method","name":"resolve","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/minus.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/minus.cr#L6","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"-#{@a.resolve}\""}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Not","path":"Clear/Expression/Node/Not.html","kind":"class","full_name":"Clear::Expression::Node::Not","name":"Not","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/not.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(a:Node)-class-method","html_id":"new(a:Node)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":"Node"}],"args_string":"(a : Node)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not.cr#L4","def":{"name":"new","args":[{"name":"a","doc":null,"default_value":"","external_name":"a","restriction":"Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(a)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"resolve-instance-method","html_id":"resolve-instance-method","name":"resolve","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not.cr#L6","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"NOT #{@a.resolve}\""}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/NotBetween","path":"Clear/Expression/Node/NotBetween.html","kind":"class","full_name":"Clear::Expression::Node::NotBetween","name":"NotBetween","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/not_between.cr","line_number":5,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not_between.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"doc":"##\n","summary":"<h2></h2>","class_methods":[],"constructors":[{"id":"new(target:Node,starts:BetweenType,ends:BetweenType)-class-method","html_id":"new(target:Node,starts:BetweenType,ends:BetweenType)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"target","doc":null,"default_value":"","external_name":"target","restriction":"Node"},{"name":"starts","doc":null,"default_value":"","external_name":"starts","restriction":"BetweenType"},{"name":"ends","doc":null,"default_value":"","external_name":"ends","restriction":"BetweenType"}],"args_string":"(target : Node, starts : BetweenType, ends : BetweenType)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not_between.cr#L8","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not_between.cr#L8","def":{"name":"new","args":[{"name":"target","doc":null,"default_value":"","external_name":"target","restriction":"Node"},{"name":"starts","doc":null,"default_value":"","external_name":"starts","restriction":"BetweenType"},{"name":"ends","doc":null,"default_value":"","external_name":"ends","restriction":"BetweenType"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(target, starts, ends)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"resolve-instance-method","html_id":"resolve-instance-method","name":"resolve","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not_between.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not_between.cr#L11","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"(#{@target.resolve} NOT BETWEEN #{Clear::Expression.safe_literal(@starts)} AND #{Clear::Expression.safe_literal(@ends)})\""}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/NotBetween/BetweenType","path":"Clear/Expression/Node/NotBetween/BetweenType.html","kind":"alias","full_name":"Clear::Expression::Node::NotBetween::BetweenType","name":"BetweenType","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/expression/nodes/not_between.cr","line_number":6,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/not_between.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"(Clear::Expression::Node | Float32 | Float64 | Int32 | Int64 | String | Time)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/NotBetween","kind":"class","full_name":"Clear::Expression::Node::NotBetween","name":"NotBetween"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Null","path":"Clear/Expression/Node/Null.html","kind":"class","full_name":"Clear::Expression::Node::Null","name":"Null","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/null.cr","line_number":6,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/null.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"doc":"##\nA simple NULL node.\n","summary":"<h2>A simple NULL node.</h2>","class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/null.cr#L7","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/null.cr#L7","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"resolve-instance-method","html_id":"resolve-instance-method","name":"resolve","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/null.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/null.cr#L10","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"\"NULL\""}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node/Variable","path":"Clear/Expression/Node/Variable.html","kind":"class","full_name":"Clear::Expression::Node::Variable","name":"Variable","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/nodes/variable.cr","line_number":17,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/variable.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression/Node","kind":"class","full_name":"Clear::Expression::Node","name":"Node"},"doc":"##\nA variable AST node.\nIt's what's created under the hood when you use a non-existent variable:\n\n```\nwhere { users.id != nil }\n\nwill produce this tree:\n\n# => double_operator('<>')\n#   # => variable('id', parent: 'users')\n#   # => null\n\n```","summary":"<h2>A variable AST node.</h2>","class_methods":[],"constructors":[{"id":"new(name:String,parent:Variable?=nil)-class-method","html_id":"new(name:String,parent:Variable?=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"parent","doc":null,"default_value":"nil","external_name":"parent","restriction":"Variable | ::Nil"}],"args_string":"(name : String, parent : Variable? = <span class=\"n\">nil</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/variable.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/variable.cr#L20","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"parent","doc":null,"default_value":"nil","external_name":"parent","restriction":"Variable | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, parent)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"resolve-instance-method","html_id":"resolve-instance-method","name":"resolve","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/variable.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/variable.cr#L31","def":{"name":"resolve","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"parent = @parent\nif parent\n  [parent.resolve, @name].join(\".\")\nelse\n  @name\nend\n"}}],"macros":[{"id":"method_missing(call)-macro","html_id":"method_missing(call)-macro","name":"method_missing","doc":null,"summary":null,"abstract":false,"args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"args_string":"(call)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/nodes/variable.cr#L22","def":{"name":"method_missing","args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% if call.args.size > 0 %}\n      args = {{ call.args }}.map{|x| Clear::Expression[x] }.join(\", \")\n      return Node::Variable.new(\"{{ call.name.id }}( #{args} )\", self)\n    {% else %}\n      return Node::Variable.new({{ call.name.id.stringify }}, self)\n    {% end %}\n\n  \n"}}],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Expression/UnsafeSql","path":"Clear/Expression/UnsafeSql.html","kind":"class","full_name":"Clear::Expression::UnsafeSql","name":"UnsafeSql","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/expression/expression.cr","line_number":62,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Expression","kind":"class","full_name":"Clear::Expression","name":"Expression"},"doc":"Wrap an unsafe string. Useful to cancel-out the\nsafe_literal function used internally.\nObviously, this can lead to SQL injection, so beware!","summary":"<p>Wrap an unsafe string.</p>","class_methods":[],"constructors":[{"id":"new(value)-class-method","html_id":"new(value)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(value)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L65","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L65","def":{"name":"new","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"to_s:String-instance-method","html_id":"to_s:String-instance-method","name":"to_s","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L68","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/expression/expression.cr#L68","def":{"name":"to_s","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@value"}}],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Migration","path":"Clear/Migration.html","kind":"module","full_name":"Clear::Migration","name":"Migration","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Helper","kind":"module","full_name":"Clear::Migration::Helper","name":"Helper"}],"locations":[{"filename":"clear/migration/direction.cr","line_number":24,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/direction.cr"},{"filename":"clear/migration/migration.cr","line_number":62,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr"},{"filename":"clear/migration/operation/operation.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/operation.cr"},{"filename":"clear/migration/operation/columns.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr"},{"filename":"clear/migration/operation/execute.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/execute.cr"},{"filename":"clear/migration/operation/indexes.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr"},{"filename":"clear/migration/operation/table.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Helper","kind":"module","full_name":"Clear::Migration::Helper","name":"Helper"}],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/DummyMigration","kind":"class","full_name":"DummyMigration","name":"DummyMigration"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear","kind":"module","full_name":"Clear","name":"Clear"},"doc":"##\n# Clear's migration system\n\nMigrations in Clear are very similar to active record's migrations.\nMigrations are two-way modification of the database.\n\nIt helps to keep a consistent database state during development lifecycle\nof your application.\n\n\nTo create a migration, two ways:\n\n## Clear command\n\n### TL;DR\n\nYou can create a new file which will be present in `src/db/migrate` using:\n\n`clear-cli migration:g migration_name`\n\nThus will create a migration in `src/db/migration/[:uid]_migration_name.cr`\n(with uid number) and a class `MigrationName`\n\n### Advanced options\n\nYou can use `clear-cli migration help` to get advanced options.\n\n## Manually\n\nYou can create a class following this naming convention:\n`Anything + Number.`\nThe number is then used to order the migration between each others and must be unique.\n\nFollowing the rule than inclusion is often better than inheritance, just\ninclude the module `Clear::Migration` to your class.\n\n## Methods of migration\n\n### Migration direction\n\nOnly one method must be overrided: `change`. In comparison to ActiveRecord, there's no\nup and down methods, instead you can put specific up/down code like this:\n\n```\ndef change(dir)\n  dir.down { irreversible! }\nend\n```\n\n```\ndef change(dir)\n  add_column :users, :full_name, :string\n\n  dir.up do\n    execute(\"UPDATE users SET full_name = (SELECT first_name || ' '  || last_name) from users\")\n  end\nend\n```\n\n\n##","summary":"<h2># Clear's migration system</h2>","class_methods":[],"constructors":[],"instance_methods":[{"id":"add_operation(op:Operation)-instance-method","html_id":"add_operation(op:Operation)-instance-method","name":"add_operation","doc":null,"summary":null,"abstract":false,"args":[{"name":"op","doc":null,"default_value":"","external_name":"op","restriction":"Operation"}],"args_string":"(op : Operation)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L119","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L119","def":{"name":"add_operation","args":[{"name":"op","doc":null,"default_value":"","external_name":"op","restriction":"Operation"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@operations << op"}},{"id":"apply(dir:Direction)-instance-method","html_id":"apply(dir:Direction)-instance-method","name":"apply","doc":"This will apply the migration in a given direction (up or down)","summary":"<p>This will apply the migration in a given direction (up or down)</p>","abstract":false,"args":[{"name":"dir","doc":null,"default_value":"","external_name":"dir","restriction":"Direction"}],"args_string":"(dir : Direction)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L128","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L128","def":{"name":"apply","args":[{"name":"dir","doc":null,"default_value":"","external_name":"dir","restriction":"Direction"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Clear::Migration::Manager.instance.ensure_ready\nClear::SQL.transaction do\n  Clear.logger.info(\"[#{dir.to_s}] #{self.class.name}\")\n  change(dir)\n  dir.up do\n    @operations.each do |op|\n      op.up.each do |x|\n        Clear::SQL.execute(x.as(String))\n      end\n    end\n    (SQL.insert(\"__clear_metadatas\", {metatype: \"migration\", value: uid.to_s})).execute\n  end\n  dir.down do\n    @operations.each do |op|\n      op.down.each do |x|\n        Clear::SQL.execute(x.as(String))\n      end\n    end\n    ((SQL.delete(\"__clear_metadatas\")).where({metatype: \"migration\", value: uid.to_s})).execute\n  end\n  self\nend\n"}},{"id":"change(dir)-instance-method","html_id":"change(dir)-instance-method","name":"change","doc":null,"summary":null,"abstract":true,"args":[{"name":"dir","doc":null,"default_value":"","external_name":"dir","restriction":""}],"args_string":"(dir)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L109","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L109","def":{"name":"change","args":[{"name":"dir","doc":null,"default_value":"","external_name":"dir","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"execute(x:String)-instance-method","html_id":"execute(x:String)-instance-method","name":"execute","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"args_string":"(x : String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L115","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L115","def":{"name":"execute","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"SQL.connection.execute(x)"}},{"id":"irreversible!-instance-method","html_id":"irreversible!-instance-method","name":"irreversible!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L123","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L123","def":{"name":"irreversible!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(IrreversibleMigration.new(\"Migration #{@name} is irreversible!\"))"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/AddColumn","path":"Clear/Migration/AddColumn.html","kind":"struct","full_name":"Clear::Migration::AddColumn","name":"AddColumn","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/columns.cr","line_number":2,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table,column,datatype)-class-method","html_id":"new(table,column,datatype)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"datatype","doc":null,"default_value":"","external_name":"datatype","restriction":""}],"args_string":"(table, column, datatype)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L7","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L7","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"datatype","doc":null,"default_value":"","external_name":"datatype","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, column, datatype)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"down-instance-method","html_id":"down-instance-method","name":"down","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L14","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"ALTER TABLE #{@table} DROP #{@column}\"]"}},{"id":"up-instance-method","html_id":"up-instance-method","name":"up","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L10","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"ALTER TABLE #{@table} ADD #{@column} #{@datatype}\"]"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/AddTable","path":"Clear/Migration/AddTable.html","kind":"struct","full_name":"Clear::Migration::AddTable","name":"AddTable","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/table.cr","line_number":167,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table)-class-method","html_id":"new(table)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L170","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L170","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"down-instance-method","html_id":"down-instance-method","name":"down","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L177","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L177","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"DROP TABLE #{@table}\"]"}},{"id":"up-instance-method","html_id":"up-instance-method","name":"up","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L173","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L173","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"CREATE TABLE #{@table}\"]"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/AlterColumn","path":"Clear/Migration/AlterColumn.html","kind":"struct","full_name":"Clear::Migration::AlterColumn","name":"AlterColumn","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/columns.cr","line_number":37,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table,column_name,column_type,new_column_name,new_column_type)-class-method","html_id":"new(table,column_name,column_type,new_column_name,new_column_type)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column_name","doc":null,"default_value":"","external_name":"column_name","restriction":""},{"name":"column_type","doc":null,"default_value":"","external_name":"column_type","restriction":""},{"name":"new_column_name","doc":null,"default_value":"","external_name":"new_column_name","restriction":""},{"name":"new_column_type","doc":null,"default_value":"","external_name":"new_column_type","restriction":""}],"args_string":"(table, column_name, column_type, new_column_name, new_column_type)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L46","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L46","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column_name","doc":null,"default_value":"","external_name":"column_name","restriction":""},{"name":"column_type","doc":null,"default_value":"","external_name":"column_type","restriction":""},{"name":"new_column_name","doc":null,"default_value":"","external_name":"new_column_name","restriction":""},{"name":"new_column_type","doc":null,"default_value":"","external_name":"new_column_type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, column_name, column_type, new_column_name, new_column_type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"down-instance-method","html_id":"down-instance-method","name":"down","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L64","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L64","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = [] of String\nif (@old_column_name && @new_column_name) && (@old_column_name != @new_column_name)\n  o << \"ALTER TABLE #{@table} RENAME COLUMN #{@new_column_name} TO #{@old_column_name};\"\nend\nif (@old_column_type && @new_column_type) && (@old_column_type != @new_column_type)\n  o << \"ALTER TABLE #{@table} ALTER COLUMN #{@old_column_name} SET DATA TYPE #{@old_column_type};\"\nend\no\n"}},{"id":"up-instance-method","html_id":"up-instance-method","name":"up","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L51","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L51","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = [] of String\nif (@old_column_name && @new_column_name) && (@old_column_name != @new_column_name)\n  o << \"ALTER TABLE #{@table} RENAME COLUMN #{@old_column_name} TO #{@new_column_name};\"\nend\nif (@old_column_type && @new_column_type) && (@old_column_type != @new_column_type)\n  o << \"ALTER TABLE #{@table} ALTER COLUMN #{@new_column_name} SET DATA TYPE #{@new_column_type};\"\nend\no\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/CreateIndex","path":"Clear/Migration/CreateIndex.html","kind":"struct","full_name":"Clear::Migration::CreateIndex","name":"CreateIndex","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/indexes.cr","line_number":2,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table,fields:Array(String),name=nil,using=nil,unique=false)-class-method","html_id":"new(table,fields:Array(String),name=nil,using=nil,unique=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"args_string":"(table, fields : Array(String), name = <span class=\"n\">nil</span>, using = <span class=\"n\">nil</span>, unique = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L9","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L9","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, fields, name, using, unique)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(table,field:String|Symbol,name=nil,using=nil,unique=false)-class-method","html_id":"new(table,field:String|Symbol,name=nil,using=nil,unique=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String | Symbol"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"args_string":"(table, field : String | Symbol, name = <span class=\"n\">nil</span>, using = <span class=\"n\">nil</span>, unique = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L17","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L17","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String | Symbol"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, field, name, using, unique)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"down-instance-method","html_id":"down-instance-method","name":"down","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L38","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L38","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"DROP INDEX IF EXISTS #{@name}\"]"}},{"id":"safe_name(x)-instance-method","html_id":"safe_name(x)-instance-method","name":"safe_name","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L13","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L13","def":{"name":"safe_name","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x.gsub(/[^A-Za-z_0-9]/, \"_\")"}},{"id":"up-instance-method","html_id":"up-instance-method","name":"up","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L34","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L34","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[[\"CREATE\", print_unique, \"INDEX\", safe_name(@name), \"ON\", @table, print_using, print_columns].compact.join(\" \")]"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Direction","path":"Clear/Migration/Direction.html","kind":"struct","full_name":"Clear::Migration::Direction","name":"Direction","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/direction.cr","line_number":25,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/direction.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"DOWN","value":"Direction.new(false)","doc":null,"summary":null},{"name":"UP","value":"Direction.new(true)","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"down(&block)-instance-method","html_id":"down(&amp;block)-instance-method","name":"down","doc":"Run the block given in parameter if the direction is a rollback","summary":"<p>Run the block given in parameter if the direction is a rollback</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/direction.cr#L46","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/direction.cr#L46","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"if @dir\nelse\n  yield\nend"}},{"id":"down?-instance-method","html_id":"down?-instance-method","name":"down?","doc":"Return true whether the migration is a rollback","summary":"<p>Return true whether the migration is a rollback</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/direction.cr#L51","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/direction.cr#L51","def":{"name":"down?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!@dir"}},{"id":"up(&block)-instance-method","html_id":"up(&amp;block)-instance-method","name":"up","doc":"Run the block given in parameter if the direction is a upstream","summary":"<p>Run the block given in parameter if the direction is a upstream</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/direction.cr#L36","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/direction.cr#L36","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"if @dir\n  yield\nend"}},{"id":"up?:Bool-instance-method","html_id":"up?:Bool-instance-method","name":"up?","doc":"Return true whether the migration is a upstream","summary":"<p>Return true whether the migration is a upstream</p>","abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/direction.cr#L41","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/direction.cr#L41","def":{"name":"up?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@dir"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/DropTable","path":"Clear/Migration/DropTable.html","kind":"struct","full_name":"Clear::Migration::DropTable","name":"DropTable","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/table.cr","line_number":182,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table)-class-method","html_id":"new(table)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L185","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L185","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"down-instance-method","html_id":"down-instance-method","name":"down","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L192","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L192","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"CREATE TABLE #{@table}\"]"}},{"id":"up-instance-method","html_id":"up-instance-method","name":"up","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L188","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L188","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"DROP TABLE #{@table}\"]"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Execute","path":"Clear/Migration/Execute.html","kind":"struct","full_name":"Clear::Migration::Execute","name":"Execute","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/execute.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/execute.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(up=nil,down=nil)-class-method","html_id":"new(up=nil,down=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"up","doc":null,"default_value":"nil","external_name":"up","restriction":""},{"name":"down","doc":null,"default_value":"nil","external_name":"down","restriction":""}],"args_string":"(up = <span class=\"n\">nil</span>, down = <span class=\"n\">nil</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/execute.cr#L8","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/execute.cr#L8","def":{"name":"new","args":[{"name":"up","doc":null,"default_value":"nil","external_name":"up","restriction":""},{"name":"down","doc":null,"default_value":"nil","external_name":"down","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(up, down)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"down-instance-method","html_id":"down-instance-method","name":"down","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/execute.cr#L15","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/execute.cr#L15","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[@down].compact"}},{"id":"up-instance-method","html_id":"up-instance-method","name":"up","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/execute.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/execute.cr#L11","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[@up].compact"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Helper","path":"Clear/Migration/Helper.html","kind":"module","full_name":"Clear::Migration::Helper","name":"Helper","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/migration/migration.cr","line_number":63,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr"},{"filename":"clear/migration/operation/columns.cr","line_number":78,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr"},{"filename":"clear/migration/operation/indexes.cr","line_number":61,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr"},{"filename":"clear/migration/operation/table.cr","line_number":197,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"add_column(table,column,datatype)-instance-method","html_id":"add_column(table,column,datatype)-instance-method","name":"add_column","doc":"Add a column to a specific table","summary":"<p>Add a column to a specific table</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"datatype","doc":null,"default_value":"","external_name":"datatype","restriction":""}],"args_string":"(table, column, datatype)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L80","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L80","def":{"name":"add_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"datatype","doc":null,"default_value":"","external_name":"datatype","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.add_operation(Clear::Migration::AddColumn.new(table, column, datatype))"}},{"id":"change_column_type(table,column,to,from=nil)-instance-method","html_id":"change_column_type(table,column,to,from=nil)-instance-method","name":"change_column_type","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"to","doc":null,"default_value":"","external_name":"to","restriction":""},{"name":"from","doc":null,"default_value":"nil","external_name":"from","restriction":""}],"args_string":"(table, column, to, from = <span class=\"n\">nil</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L94","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L94","def":{"name":"change_column_type","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"to","doc":null,"default_value":"","external_name":"to","restriction":""},{"name":"from","doc":null,"default_value":"nil","external_name":"from","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.add_operation(Clear::Migration::AlterColumn.new(table, column, from, nil, to))"}},{"id":"change_type_column(table,from,to)-instance-method","html_id":"change_type_column(table,from,to)-instance-method","name":"change_type_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":""},{"name":"to","doc":null,"default_value":"","external_name":"to","restriction":""}],"args_string":"(table, from, to)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L98","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L98","def":{"name":"change_type_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":""},{"name":"to","doc":null,"default_value":"","external_name":"to","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.add_operation(Clear::Migration::AddColumn.new(table, nil, from, nil, to))"}},{"id":"create_index(table,columns:Array(String),name=nil,using=nil,unique=false)-instance-method","html_id":"create_index(table,columns:Array(String),name=nil,using=nil,unique=false)-instance-method","name":"create_index","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":"Array(String)"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"args_string":"(table, columns : Array(String), name = <span class=\"n\">nil</span>, using = <span class=\"n\">nil</span>, unique = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L69","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L69","def":{"name":"create_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":"Array(String)"},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.add_operation(Clear::Migration::CreateIndex.new(table, fields: columns, name: name, using: using, unique: unique))"}},{"id":"create_index(table,column,name=nil,using=nil,unique=false)-instance-method","html_id":"create_index(table,column,name=nil,using=nil,unique=false)-instance-method","name":"create_index","doc":"Add a column to a specific table","summary":"<p>Add a column to a specific table</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"args_string":"(table, column, name = <span class=\"n\">nil</span>, using = <span class=\"n\">nil</span>, unique = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L63","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/indexes.cr#L63","def":{"name":"create_index","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.add_operation(Clear::Migration::CreateIndex.new(table, fields: [column], name: name, using: using, unique: unique))"}},{"id":"create_table(name,id=true,&block)-instance-method","html_id":"create_table(name,id=true,&amp;block)-instance-method","name":"create_table","doc":"\nHelper used in migration to create a new table.\n\nUsage:\n\n```\ncreate_table(:users) do |t|\n  t.string :first_name\n  t.string :last_name\n  t.email :email, unique: true\n  t.timestamps\nend\n```\n\nBy default, a column `id` of type `integer` will be created as primary key of the table.\nThis can be prevented using `primary: false`\n\n```\ncreate_table(:users, id: false) do |t|\n  t.integer :user_id, primary: true # Use custom name for the primary key\n\n  t.string :first_name\n  t.string :last_name\n  t.email :email, unique: true\n  t.timestamps\nend\n```\n","summary":"<p>Helper used in migration to create a new table.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"id","doc":null,"default_value":"true","external_name":"id","restriction":""}],"args_string":"(name, id = <span class=\"n\">true</span>, &block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L226","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L226","def":{"name":"create_table","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"id","doc":null,"default_value":"true","external_name":"id","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"table = Table.new(name.to_s, is_create: true)\nif id\n  table.bigserial(:id, primary: true)\nend\nyield table\nself.add_operation(table)\n"}},{"id":"drop_column(table,column,type)-instance-method","html_id":"drop_column(table,column,type)-instance-method","name":"drop_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"args_string":"(table, column, type)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L90","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L90","def":{"name":"drop_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.add_operation(Clear::Migration::RemoveColumn.new(table, column, type))"}},{"id":"rename_column(table,from,to)-instance-method","html_id":"rename_column(table,from,to)-instance-method","name":"rename_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":""},{"name":"to","doc":null,"default_value":"","external_name":"to","restriction":""}],"args_string":"(table, from, to)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L84","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L84","def":{"name":"rename_column","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":""},{"name":"to","doc":null,"default_value":"","external_name":"to","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.add_operation(Clear::Migration::AddColumn.new(table, from, nil, to, nil))"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/IrreversibleMigration","path":"Clear/Migration/IrreversibleMigration.html","kind":"class","full_name":"Clear::Migration::IrreversibleMigration","name":"IrreversibleMigration","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/migration.cr","line_number":68,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":"This error is throw when you try to revert a migration which is irreversible.","summary":"<p>This error is throw when you try to revert a migration which is irreversible.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Manager","path":"Clear/Migration/Manager.html","kind":"class","full_name":"Clear::Migration::Manager","name":"Manager","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/manager.cr","line_number":12,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"METADATA_VERSION","value":"\"1\"","doc":"Used to migrate between metadata version, in case we need it in the future.","summary":"<p>Used to migrate between metadata version, in case we need it in the future.</p>"}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":"\nThe migration manager is a singleton, it load all the migrations,\ncheck which one are `up` and `down`, and can trigger one or multiple\ndowngrade / upgrade of the database.\n\nThe migration system needs the creation of a table named `__clear_metadatas`\nin your database. This table will be created automatically on the first\ninitialization of the Migration Manager.\n","summary":"<p>The migration manager is a singleton, it load all the migrations, check which one are <code><a href=\"../../Clear/Migration/Manager.html#up%28number%3AInt64%29%3AVoid-instance-method\">#up</a></code> and <code><a href=\"../../Clear/Migration/Manager.html#down%28number%3AInt64%29%3AVoid-instance-method\">#down</a></code>, and can trigger one or multiple downgrade / upgrade of the database.</p>","class_methods":[{"id":"instance-class-method","html_id":"instance-class-method","name":"instance","doc":"To access to the manager\n```\nClear::Migration::Manager.instance\n```","summary":"<p>To access to the manager <code></code>` Clear::Migration::Manager.instance <code></code>`</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L20","def":{"name":"instance","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@instance || (@@instance = Manager.new)"}}],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L36","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L36","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"apply_all-instance-method","html_id":"apply_all-instance-method","name":"apply_all","doc":"Apply all the migrations not yet applied.","summary":"<p>Apply all the migrations not yet applied.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L136","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L136","def":{"name":"apply_all","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ensure_ready\nlist_of_migrations = @migrations.sort do |a, b|\n  a.uid <=> b.uid\nend\nlist_of_migrations.reject! do |x|\n  @migrations_up.includes?(x.uid)\nend\nlist_of_migrations.each do |migration|\n  migration.apply(Clear::Migration::Direction::UP)\n  @migrations_up.add(migration.uid)\nend\n"}},{"id":"apply_to(version,direction=:both)-instance-method","html_id":"apply_to(version,direction=:both)-instance-method","name":"apply_to","doc":null,"summary":null,"abstract":false,"args":[{"name":"version","doc":null,"default_value":"","external_name":"version","restriction":""},{"name":"direction","doc":null,"default_value":":both","external_name":"direction","restriction":""}],"args_string":"(version, direction = <span class=\"n\">:both</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L62","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L62","def":{"name":"apply_to","args":[{"name":"version","doc":null,"default_value":"","external_name":"version","restriction":""},{"name":"direction","doc":null,"default_value":":both","external_name":"direction","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ensure_ready\nlist_of_migrations = @migrations.sort do |a, b|\n  a.uid <=> b.uid\nend\ncurrent_version = self.current_version\nif version < 0\n  if current_version.nil?\n    raise(\"Cannot revert HEAD-#{version}, because no migrations are loaded yet.\")\n  end\n  if list_of_migrations.size == 1\n    version = 0\n  else\n    version = list_of_migrations[version - 1].uid\n  end\nend\noperations = [] of ::Tuple(Int64, Migration::Direction)\nuid_to_apply = list_of_migrations.map(&.uid).reject(&.>(version)) - @migrations_up.to_a\nuid_to_apply.each do |uid|\n  operations << ({uid, Migration::Direction::UP})\nend\nuid_to_apply = list_of_migrations.map(&.uid).select(&.>(version)) & @migrations_up.to_a\nuid_to_apply.each do |uid|\n  operations << ({uid, Migration::Direction::DOWN})\nend\noperations.sort! do |a, b|\n  if a[1].up?\n    if b[1].down?\n      1\n    else\n      a[0] <=> b[0]\n    end\n  else\n    if b[1].down?\n      b[0] <=> a[0]\n    else\n      0\n    end\n  end\nend\nClear.logger.debug(\"Migrations will be applied (in this order):\")\noperations.each do |__arg5|\n  uid = __arg5[0]\n  d = __arg5[1]\n  Clear.logger.debug(\"#{d.up? ? \"^\" : \"V\"} #{uid}\")\nend\noperations.each do |__arg6|\n  uid = __arg6[0]\n  d = __arg6[1]\n  if (direction == (:both)) || (direction == (:up))\n    d.up do\n      up(uid)\n    end\n  end\n  if (direction == (:both)) || (direction == (:down))\n    d.down do\n      down(uid)\n    end\n  end\nend\n"}},{"id":"commited?(m:Clear::Migration)-instance-method","html_id":"commited?(m:Clear::Migration)-instance-method","name":"commited?","doc":"\nReturn `true` if the migration has been commited (already applied into the database)\nor `false` otherwise","summary":"<p>Return <code>true</code> if the migration has been commited (already applied into the database) or <code>false</code> otherwise</p>","abstract":false,"args":[{"name":"m","doc":null,"default_value":"","external_name":"m","restriction":"Clear::Migration"}],"args_string":"(m : Clear::Migration)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L151","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L151","def":{"name":"commited?","args":[{"name":"m","doc":null,"default_value":"","external_name":"m","restriction":"Clear::Migration"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@migrations_up.includes?(m.uid)"}},{"id":"current_version-instance-method","html_id":"current_version-instance-method","name":"current_version","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L44","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L44","def":{"name":"current_version","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ensure_ready\nif @migrations_up.any?\n  @migrations_up.max\nelse\n  nil\nend\n"}},{"id":"down(number:Int64):Void-instance-method","html_id":"down(number:Int64):Void-instance-method","name":"down","doc":"Force down a migration; throw error if the mgiration is already down","summary":"<p>Force down a migration; throw error if the mgiration is already down</p>","abstract":false,"args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":"Int64"}],"args_string":"(number : Int64) : Void","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L245","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L245","def":{"name":"down","args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":"Int64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Void","visibility":"Public","body":"m = find(number)\nif migrations_up.includes?(number)\nelse\n  raise(\"Migration already down: #{number}\")\nend\nm.apply(Clear::Migration::Direction::DOWN)\n@migrations_up.delete(m.uid)\n"}},{"id":"ensure_ready-instance-method","html_id":"ensure_ready-instance-method","name":"ensure_ready","doc":"Create if needed the metadata table\nto save the migrations.","summary":"<p>Create if needed the metadata table to save the migrations.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L157","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L157","def":{"name":"ensure_ready","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @loaded\nelse\n  Clear::SQL.execute(\"  CREATE TABLE IF NOT EXISTS __clear_metadatas ( metatype text NOT NULL, value text NOT NULL );\")\n  Clear::SQL.execute(\"  CREATE UNIQUE INDEX IF NOT EXISTS __clear_metadatas_idx ON __clear_metadatas (metatype, value);\")\n  load_existing_migrations\n  ensure_unicity!\n  @loaded = true\nend"}},{"id":"find(number)-instance-method","html_id":"find(number)-instance-method","name":"find","doc":"Fetch the migration instance with the selected number","summary":"<p>Fetch the migration instance with the selected number</p>","abstract":false,"args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":""}],"args_string":"(number)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L228","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L228","def":{"name":"find","args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"number = Int64.new(number)\n@migrations.find do |__arg8|\n  __arg8.uid == number\nend || (raise(\"Migration not found: #{number}\"))\n"}},{"id":"load_existing_migrations-instance-method","html_id":"load_existing_migrations-instance-method","name":"load_existing_migrations","doc":"Fetch all the migrations already activated on the database.","summary":"<p>Fetch all the migrations already activated on the database.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L213","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L213","def":{"name":"load_existing_migrations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@migrations_up.clear\n(((Clear::SQL.select(\"*\")).from(\"__clear_metadatas\")).where({metatype: \"migration\"})).to_a.map do |m|\n  @migrations_up.add(Int64.new(m[\"value\"].as(String)))\nend\n"}},{"id":"max_version-instance-method","html_id":"max_version-instance-method","name":"max_version","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L54","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L54","def":{"name":"max_version","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @migrations.size > 0\n  @migrations.map(&.uid).max\nelse\n  nil\nend"}},{"id":"migrations_up-instance-method","html_id":"migrations_up-instance-method","name":"migrations_up","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L31","def":{"name":"migrations_up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ensure_ready\n@migrations_up\n"}},{"id":"print_status:String-instance-method","html_id":"print_status:String-instance-method","name":"print_status","doc":"Print out the status ( up | down ) of all migrations found by the manager.","summary":"<p>Print out the status ( up | down ) of all migrations found by the manager.</p>","abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L255","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L255","def":{"name":"print_status","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"ensure_ready\n@migrations.sort do |a, b|\n  (a.as(Clear::Migration)).uid <=> (b.as(Clear::Migration)).uid\nend.map do |m|\n  active = @migrations_up.includes?(m.uid)\n  \"[#{active ? \"✓\".colorize.green : \"✗\".colorize.red}] #{m.uid} - #{m.class.name}\"\nend.join(\"\\n\")\n"}},{"id":"refresh-instance-method","html_id":"refresh-instance-method","name":"refresh","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L223","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L223","def":{"name":"refresh","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"load_existing_migrations"}},{"id":"reinit!-instance-method","html_id":"reinit!-instance-method","name":"reinit!","doc":"Force reloading the migration system\nRecheck all the current up migrations\nand the metadata table.\nThis is useful if you access to the migration process\nthrough another program, or during specs","summary":"<p>Force reloading the migration system Recheck all the current up migrations and the metadata table.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L179","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L179","def":{"name":"reinit!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@loaded = false\nensure_ready\nself\n"}},{"id":"up(number:Int64):Void-instance-method","html_id":"up(number:Int64):Void-instance-method","name":"up","doc":"Force up a migration; throw error if the migration is already up","summary":"<p>Force up a migration; throw error if the migration is already up</p>","abstract":false,"args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":"Int64"}],"args_string":"(number : Int64) : Void","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L234","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/manager.cr#L234","def":{"name":"up","args":[{"name":"number","doc":null,"default_value":"","external_name":"number","restriction":"Int64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Void","visibility":"Public","body":"m = find(number)\nif migrations_up.includes?(number)\n  raise(\"Migration already up: #{number}\")\nelse\n  m.apply(Clear::Migration::Direction::UP)\n  @migrations_up.add(m.uid)\nend\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","path":"Clear/Migration/Operation.html","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation","abstract":true,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/operation.cr","line_number":2,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/operation.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/AddColumn","kind":"struct","full_name":"Clear::Migration::AddColumn","name":"AddColumn"},{"html_id":"github.com/anykeyh/clear/Clear/Migration/AddTable","kind":"struct","full_name":"Clear::Migration::AddTable","name":"AddTable"},{"html_id":"github.com/anykeyh/clear/Clear/Migration/AlterColumn","kind":"struct","full_name":"Clear::Migration::AlterColumn","name":"AlterColumn"},{"html_id":"github.com/anykeyh/clear/Clear/Migration/CreateIndex","kind":"struct","full_name":"Clear::Migration::CreateIndex","name":"CreateIndex"},{"html_id":"github.com/anykeyh/clear/Clear/Migration/DropTable","kind":"struct","full_name":"Clear::Migration::DropTable","name":"DropTable"},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Execute","kind":"struct","full_name":"Clear::Migration::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/Migration/RemoveColumn","kind":"struct","full_name":"Clear::Migration::RemoveColumn","name":"RemoveColumn"},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Table","kind":"struct","full_name":"Clear::Migration::Table","name":"Table"}],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/operation.cr#L2","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/operation.cr#L2","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}}],"instance_methods":[{"id":"down:Array(String)-instance-method","html_id":"down:Array(String)-instance-method","name":"down","doc":null,"summary":null,"abstract":true,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/operation.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/operation.cr#L4","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":""}},{"id":"up:Array(String)-instance-method","html_id":"up:Array(String)-instance-method","name":"up","doc":null,"summary":null,"abstract":true,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/operation.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/operation.cr#L3","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/RemoveColumn","path":"Clear/Migration/RemoveColumn.html","kind":"struct","full_name":"Clear::Migration::RemoveColumn","name":"RemoveColumn","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/columns.cr","line_number":19,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(table,column,datatype=nil)-class-method","html_id":"new(table,column,datatype=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"datatype","doc":null,"default_value":"nil","external_name":"datatype","restriction":""}],"args_string":"(table, column, datatype = <span class=\"n\">nil</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L24","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L24","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"datatype","doc":null,"default_value":"nil","external_name":"datatype","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, column, datatype)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"down-instance-method","html_id":"down-instance-method","name":"down","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L31","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @datatype.nil?\n  raise(IrreversibleMigration.new(\"Cannot revert column drop, because datatype is unknown\"))\nend\n[\"ALTER TABLE #{@table} ADD #{@column} #{@datatype}\"]\n"}},{"id":"up-instance-method","html_id":"up-instance-method","name":"up","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L27","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/columns.cr#L27","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[\"ALTER TABLE #{@table} DROP #{@column}\"]"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Table","path":"Clear/Migration/Table.html","kind":"struct","full_name":"Clear::Migration::Table","name":"Table","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Operation","kind":"struct","full_name":"Clear::Migration::Operation","name":"Operation"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/table.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},"doc":"Helper to create or alter table.","summary":"<p>Helper to create or alter table.</p>","class_methods":[],"constructors":[{"id":"new(name,is_create)-class-method","html_id":"new(name,is_create)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"is_create","doc":null,"default_value":"","external_name":"is_create","restriction":""}],"args_string":"(name, is_create)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L20","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"is_create","doc":null,"default_value":"","external_name":"is_create","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, is_create)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"add_column(column,type,default=nil,null=true,primary=false,index=false,unique=false)-instance-method","html_id":"add_column(column,type,default=nil,null=true,primary=false,index=false,unique=false)-instance-method","name":"add_column","doc":"Add/alter a column for this table.","summary":"<p>Add/alter a column for this table.</p>","abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"default","doc":null,"default_value":"nil","external_name":"default","restriction":""},{"name":"null","doc":null,"default_value":"true","external_name":"null","restriction":""},{"name":"primary","doc":null,"default_value":"false","external_name":"primary","restriction":""},{"name":"index","doc":null,"default_value":"false","external_name":"index","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"args_string":"(column, type, default = <span class=\"n\">nil</span>, null = <span class=\"n\">true</span>, primary = <span class=\"n\">false</span>, index = <span class=\"n\">false</span>, unique = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L49","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L49","def":{"name":"add_column","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"default","doc":null,"default_value":"nil","external_name":"default","restriction":""},{"name":"null","doc":null,"default_value":"true","external_name":"null","restriction":""},{"name":"primary","doc":null,"default_value":"false","external_name":"primary","restriction":""},{"name":"index","doc":null,"default_value":"false","external_name":"index","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.column_operations << ColumnOperation.new(column: column.to_s, type: type.to_s, default: default, null: null, primary: primary)\nif unique\n  add_index(field: column, unique: true)\nelse\n  if index\n    add_index(field: column, unique: false)\n  end\nend\n"}},{"id":"add_fkey(fields:Array(String),table:String,foreign_fields:Array(String),on_delete:String,primary:Bool)-instance-method","html_id":"add_fkey(fields:Array(String),table:String,foreign_fields:Array(String),on_delete:String,primary:Bool)-instance-method","name":"add_fkey","doc":null,"summary":null,"abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"foreign_fields","doc":null,"default_value":"","external_name":"foreign_fields","restriction":"Array(String)"},{"name":"on_delete","doc":null,"default_value":"","external_name":"on_delete","restriction":"String"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"Bool"}],"args_string":"(fields : Array(String), table : String, foreign_fields : Array(String), on_delete : String, primary : Bool)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L42","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L42","def":{"name":"add_fkey","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"foreign_fields","doc":null,"default_value":"","external_name":"foreign_fields","restriction":"Array(String)"},{"name":"on_delete","doc":null,"default_value":"","external_name":"on_delete","restriction":"String"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.fkey_operations << FkeyOperation.new(fields: fields, table: table, foreign_fields: foreign_fields, on_delete: on_delete, primary: primary)"}},{"id":"column_operations:Array(ColumnOperation)-instance-method","html_id":"column_operations:Array(ColumnOperation)-instance-method","name":"column_operations","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(ColumnOperation)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L16","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L16","def":{"name":"column_operations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(ColumnOperation)","visibility":"Public","body":"@column_operations"}},{"id":"down-instance-method","html_id":"down-instance-method","name":"down","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L92","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L92","def":{"name":"down","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"[(if is_create?\n  [\"DROP TABLE\", @name].join(\" \")\nend)]"}},{"id":"fkey_operations:Array(FkeyOperation)-instance-method","html_id":"fkey_operations:Array(FkeyOperation)-instance-method","name":"fkey_operations","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(FkeyOperation)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L18","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L18","def":{"name":"fkey_operations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(FkeyOperation)","visibility":"Public","body":"@fkey_operations"}},{"id":"index(field,name=nil,using=nil,unique=false)-instance-method","html_id":"index(field,name=nil,using=nil,unique=false)-instance-method","name":"index","doc":"Add or replace an index for this table.\nAlias for `add_index`","summary":"<p>Add or replace an index for this table.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"args_string":"(field, name = <span class=\"n\">nil</span>, using = <span class=\"n\">nil</span>, unique = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L62","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L62","def":{"name":"index","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":""},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":""},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"add_index(field, name, using, unique)"}},{"id":"index_operations:Array(IndexOperation)-instance-method","html_id":"index_operations:Array(IndexOperation)-instance-method","name":"index_operations","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(IndexOperation)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L17","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L17","def":{"name":"index_operations","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(IndexOperation)","visibility":"Public","body":"@index_operations"}},{"id":"is_create?:Bool-instance-method","html_id":"is_create?:Bool-instance-method","name":"is_create?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L14","def":{"name":"is_create?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@is_create"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L13","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L13","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}},{"id":"references(to,name:String?=nil,on_delete=&quot;restrict&quot;,type=&quot;bigint&quot;,null=false,foreign_key=&quot;id&quot;,primary=false)-instance-method","html_id":"references(to,name:String?=nil,on_delete=&amp;quot;restrict&amp;quot;,type=&amp;quot;bigint&amp;quot;,null=false,foreign_key=&amp;quot;id&amp;quot;,primary=false)-instance-method","name":"references","doc":null,"summary":null,"abstract":false,"args":[{"name":"to","doc":null,"default_value":"","external_name":"to","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"on_delete","doc":null,"default_value":"\"restrict\"","external_name":"on_delete","restriction":""},{"name":"type","doc":null,"default_value":"\"bigint\"","external_name":"type","restriction":""},{"name":"null","doc":null,"default_value":"false","external_name":"null","restriction":""},{"name":"foreign_key","doc":null,"default_value":"\"id\"","external_name":"foreign_key","restriction":""},{"name":"primary","doc":null,"default_value":"false","external_name":"primary","restriction":""}],"args_string":"(to, name : String? = <span class=\"n\">nil</span>, on_delete = <span class=\"s\">&quot;restrict&quot;</span>, type = <span class=\"s\">&quot;bigint&quot;</span>, null = <span class=\"n\">false</span>, foreign_key = <span class=\"s\">&quot;id&quot;</span>, primary = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L32","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L32","def":{"name":"references","args":[{"name":"to","doc":null,"default_value":"","external_name":"to","restriction":""},{"name":"name","doc":null,"default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"on_delete","doc":null,"default_value":"\"restrict\"","external_name":"on_delete","restriction":""},{"name":"type","doc":null,"default_value":"\"bigint\"","external_name":"type","restriction":""},{"name":"null","doc":null,"default_value":"false","external_name":"null","restriction":""},{"name":"foreign_key","doc":null,"default_value":"\"id\"","external_name":"foreign_key","restriction":""},{"name":"primary","doc":null,"default_value":"false","external_name":"primary","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"name || (name = to.singularize.underscore + \"_id\")\nadd_column(name, type, null: null, index: true)\nadd_fkey(fields: [name.to_s], table: to.to_s, foreign_fields: [foreign_key.to_s], on_delete: on_delete.to_s, primary: primary)\n"}},{"id":"timestamps(null=false)-instance-method","html_id":"timestamps(null=false)-instance-method","name":"timestamps","doc":"Add the timestamps to the field.","summary":"<p>Add the timestamps to the field.</p>","abstract":false,"args":[{"name":"null","doc":null,"default_value":"false","external_name":"null","restriction":""}],"args_string":"(null = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L25","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L25","def":{"name":"timestamps","args":[{"name":"null","doc":null,"default_value":"false","external_name":"null","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"add_column(:created_at, \"timestamp without time zone\", null: null, default: \"NOW()\")\nadd_column(:updated_at, \"timestamp without time zone\", null: null, default: \"NOW()\")\nadd_index(:created_at)\nadd_index(:updated_at)\n"}},{"id":"up-instance-method","html_id":"up-instance-method","name":"up","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L82","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L82","def":{"name":"up","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"columns_and_fkeys = print_columns + print_fkeys\nif columns_and_fkeys.empty?\nelse\n  content = \"(#{columns_and_fkeys.join(\", \")})\"\nend\n[(if is_create?\n  [\"CREATE TABLE\", @name, content].reject do |__arg0|\n    __arg0.nil?\n  end.join(\" \")\nend)] + print_indexes\n"}}],"macros":[{"id":"method_missing(caller)-macro","html_id":"method_missing(caller)-macro","name":"method_missing","doc":"\nMethod missing is used to generate add_column using the method name as\ncolumn type (ActiveRecord's style)","summary":"<p>Method missing is used to generate add_column using the method name as column type (ActiveRecord's style)</p>","abstract":false,"args":[{"name":"caller","doc":null,"default_value":"","external_name":"caller","restriction":""}],"args_string":"(caller)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L141","def":{"name":"method_missing","args":[{"name":"caller","doc":null,"default_value":"","external_name":"caller","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      type = \n{{ caller.name.stringify }}\n\n\n      type = case type\n      when \"string\"\n        \"text\"\n      when \"int32\", \"integer\"\n        \"integer\"\n      when \"int64\", \"long\"\n        \"bigint\"\n      when \"datetime\"\n        \"timestamp without time zone\"\n      when \"datetimetz\"\n        \"timestamp with time zone\"\n      \nelse\n        type\n      \nend\n\n      \n{% if caller.named_args.is_a?(Nop) %}\n        self.add_column( {{ caller.args[0] }}.to_s, type: type )\n      {% else %}\n        self.add_column( {{ caller.args[0] }}.to_s, type: type, {{ (caller.named_args.join(\", \")).id }} )\n      {% end %}\n\n    \n"}}],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Migration/Table/ColumnOperation","path":"Clear/Migration/Table/ColumnOperation.html","kind":"struct","full_name":"Clear::Migration::Table::ColumnOperation","name":"ColumnOperation","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/table.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Table","kind":"struct","full_name":"Clear::Migration::Table","name":"Table"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(column:String,type:String,null:Bool=false,default:SQL::Any=nil,primary:Bool=false)-class-method","html_id":"new(column:String,type:String,null:Bool=false,default:SQL::Any=nil,primary:Bool=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"String"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String"},{"name":"null","doc":null,"default_value":"false","external_name":"null","restriction":"Bool"},{"name":"default","doc":null,"default_value":"nil","external_name":"default","restriction":"SQL::Any"},{"name":"primary","doc":null,"default_value":"false","external_name":"primary","restriction":"Bool"}],"args_string":"(column : String, type : String, null : Bool = <span class=\"n\">false</span>, default : SQL::Any = <span class=\"n\">nil</span>, primary : Bool = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L4","def":{"name":"new","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"String"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String"},{"name":"null","doc":null,"default_value":"false","external_name":"null","restriction":"Bool"},{"name":"default","doc":null,"default_value":"nil","external_name":"default","restriction":"SQL::Any"},{"name":"primary","doc":null,"default_value":"false","external_name":"primary","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(column, type, null, default, primary)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L4","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"ColumnOperation.new(@column.clone, @type.clone, @null.clone, @default.clone, @primary.clone)"}},{"id":"column:String-instance-method","html_id":"column:String-instance-method","name":"column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@column"}},{"id":"default:SQL::Any-instance-method","html_id":"default:SQL::Any-instance-method","name":"default","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : SQL::Any","source_link":null,"source_link":null,"def":{"name":"default","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"SQL::Any","visibility":"Public","body":"@default"}},{"id":"null:Bool-instance-method","html_id":"null:Bool-instance-method","name":"null","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"null","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@null"}},{"id":"primary:Bool-instance-method","html_id":"primary:Bool-instance-method","name":"primary","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@primary"}},{"id":"type:String-instance-method","html_id":"type:String-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@type"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Table/FkeyOperation","path":"Clear/Migration/Table/FkeyOperation.html","kind":"struct","full_name":"Clear::Migration::Table::FkeyOperation","name":"FkeyOperation","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/table.cr","line_number":10,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Table","kind":"struct","full_name":"Clear::Migration::Table","name":"Table"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(fields:Array(String),table:String,foreign_fields:Array(String),on_delete:String,primary:Bool)-class-method","html_id":"new(fields:Array(String),table:String,foreign_fields:Array(String),on_delete:String,primary:Bool)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"foreign_fields","doc":null,"default_value":"","external_name":"foreign_fields","restriction":"Array(String)"},{"name":"on_delete","doc":null,"default_value":"","external_name":"on_delete","restriction":"String"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"Bool"}],"args_string":"(fields : Array(String), table : String, foreign_fields : Array(String), on_delete : String, primary : Bool)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L10","def":{"name":"new","args":[{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"Array(String)"},{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"String"},{"name":"foreign_fields","doc":null,"default_value":"","external_name":"foreign_fields","restriction":"Array(String)"},{"name":"on_delete","doc":null,"default_value":"","external_name":"on_delete","restriction":"String"},{"name":"primary","doc":null,"default_value":"","external_name":"primary","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(fields, table, foreign_fields, on_delete, primary)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L10","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"FkeyOperation.new(@fields.clone, @table.clone, @foreign_fields.clone, @on_delete.clone, @primary.clone)"}},{"id":"fields:Array(String)-instance-method","html_id":"fields:Array(String)-instance-method","name":"fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":null,"source_link":null,"def":{"name":"fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@fields"}},{"id":"foreign_fields:Array(String)-instance-method","html_id":"foreign_fields:Array(String)-instance-method","name":"foreign_fields","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":null,"source_link":null,"def":{"name":"foreign_fields","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@foreign_fields"}},{"id":"on_delete:String-instance-method","html_id":"on_delete:String-instance-method","name":"on_delete","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"on_delete","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@on_delete"}},{"id":"primary:Bool-instance-method","html_id":"primary:Bool-instance-method","name":"primary","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"primary","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@primary"}},{"id":"table:String-instance-method","html_id":"table:String-instance-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Table/IndexOperation","path":"Clear/Migration/Table/IndexOperation.html","kind":"struct","full_name":"Clear::Migration::Table::IndexOperation","name":"IndexOperation","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/operation/table.cr","line_number":7,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Migration/Table","kind":"struct","full_name":"Clear::Migration::Table","name":"Table"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(field:String,name:String,using:String?=nil,unique:Bool=false)-class-method","html_id":"new(field:String,name:String,using:String?=nil,unique:Bool=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":"String | ::Nil"},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":"Bool"}],"args_string":"(field : String, name : String, using : String? = <span class=\"n\">nil</span>, unique : Bool = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L7","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L7","def":{"name":"new","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"using","doc":null,"default_value":"nil","external_name":"using","restriction":"String | ::Nil"},{"name":"unique","doc":null,"default_value":"false","external_name":"unique","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(field, name, using, unique)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L7","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/operation/table.cr#L7","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"IndexOperation.new(@field.clone, @name.clone, @using.clone, @unique.clone)"}},{"id":"field:String-instance-method","html_id":"field:String-instance-method","name":"field","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"field","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@field"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}},{"id":"unique:Bool-instance-method","html_id":"unique:Bool-instance-method","name":"unique","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"unique","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@unique"}},{"id":"using:String?-instance-method","html_id":"using:String?-instance-method","name":"using","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":null,"source_link":null,"def":{"name":"using","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@using"}}],"macros":[],"types":[]}]}]},{"html_id":"github.com/anykeyh/clear/Clear/Model","path":"Clear/Model.html","kind":"module","full_name":"Clear::Model","name":"Model","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Model/ClassMethods","kind":"module","full_name":"Clear::Model::ClassMethods","name":"ClassMethods"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasScope","kind":"module","full_name":"Clear::Model::HasScope","name":"HasScope"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasRelations","kind":"module","full_name":"Clear::Model::HasRelations","name":"HasRelations"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasValidation","kind":"module","full_name":"Clear::Model::HasValidation","name":"HasValidation"},{"html_id":"github.com/anykeyh/clear/Clear/Validation/Helper","kind":"module","full_name":"Clear::Validation::Helper","name":"Helper"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasSaving","kind":"module","full_name":"Clear::Model::HasSaving","name":"HasSaving"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasSerialPkey","kind":"module","full_name":"Clear::Model::HasSerialPkey","name":"HasSerialPkey"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasTimestamps","kind":"module","full_name":"Clear::Model::HasTimestamps","name":"HasTimestamps"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasHooks","kind":"module","full_name":"Clear::Model::HasHooks","name":"HasHooks"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasColumns","kind":"module","full_name":"Clear::Model::HasColumns","name":"HasColumns"}],"locations":[{"filename":"clear/model/collection.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr"},{"filename":"clear/model/errors.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/errors.cr"},{"filename":"clear/model/model.cr","line_number":8,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/model.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/Model/ClassMethods","kind":"module","full_name":"Clear::Model::ClassMethods","name":"ClassMethods"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasColumns","kind":"module","full_name":"Clear::Model::HasColumns","name":"HasColumns"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasHooks","kind":"module","full_name":"Clear::Model::HasHooks","name":"HasHooks"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasRelations","kind":"module","full_name":"Clear::Model::HasRelations","name":"HasRelations"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasSaving","kind":"module","full_name":"Clear::Model::HasSaving","name":"HasSaving"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasScope","kind":"module","full_name":"Clear::Model::HasScope","name":"HasScope"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasSerialPkey","kind":"module","full_name":"Clear::Model::HasSerialPkey","name":"HasSerialPkey"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasTimestamps","kind":"module","full_name":"Clear::Model::HasTimestamps","name":"HasTimestamps"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasValidation","kind":"module","full_name":"Clear::Model::HasValidation","name":"HasValidation"}],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Column","kind":"class","full_name":"Clear::Reflection::Column","name":"Column"},{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Table","kind":"class","full_name":"Clear::Reflection::Table","name":"Table"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear","kind":"module","full_name":"Clear","name":"Clear"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"cache:Clear::Model::QueryCache?-instance-method","html_id":"cache:Clear::Model::QueryCache?-instance-method","name":"cache","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::QueryCache?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/model.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/model.cr#L19","def":{"name":"cache","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::QueryCache | ::Nil","visibility":"Public","body":"@cache"}}],"macros":[{"id":"scope(name)-macro","html_id":"scope(name)-macro","name":"scope","doc":"A scope allow you to filter in a very human way a set of data.\n\nUsage:\n\n```\n scope(\"admin\"){ where({role: \"admin\"}) }\n```\n\nfor example, instead of writing:\n\n```\n  User.query.where{ (role == \"admin\") & (active == true) }\n```\n\nYou can write:\n\n```\n  User.admin.active\n```\n\nScope can be used for other purpose than just filter (e.g. ordering),\nbut I would not recommend it.","summary":"<p>A scope allow you to filter in a very human way a set of data.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/model.cr#L16","def":{"name":"scope","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""},"visibility":"Public","body":"      def self.\n{{ name.id }}\n\n        query.\n{{ name.id }}\n\n      \nend\n\n      class Collection < Clear::Model::CollectionBase(\n{{ @type }}\n);\n        def \n{{ name.id }}\n\n          \n{{ yield }}\n\n        \nend\n      \nend\n    \n"}}],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Model/ClassMethods","path":"Clear/Model/ClassMethods.html","kind":"module","full_name":"Clear::Model::ClassMethods","name":"ClassMethods","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/modules/class_methods.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/class_methods.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},{"html_id":"github.com/anykeyh/clear/Clear/View","kind":"module","full_name":"Clear::View","name":"View"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/CollectionBase","path":"Clear/Model/CollectionBase.html","kind":"class","full_name":"Clear::Model::CollectionBase(T)","name":"CollectionBase","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/CTE","kind":"module","full_name":"Clear::SQL::Query::CTE","name":"CTE"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/BeforeQuery","kind":"module","full_name":"Clear::SQL::Query::BeforeQuery","name":"BeforeQuery"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Fetch","kind":"module","full_name":"Clear::SQL::Query::Fetch","name":"Fetch"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Lock","kind":"module","full_name":"Clear::SQL::Query::Lock","name":"Lock"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OffsetLimit","kind":"module","full_name":"Clear::SQL::Query::OffsetLimit","name":"OffsetLimit"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/GroupBy","kind":"module","full_name":"Clear::SQL::Query::GroupBy","name":"GroupBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OrderBy","kind":"module","full_name":"Clear::SQL::Query::OrderBy","name":"OrderBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Join","kind":"module","full_name":"Clear::SQL::Query::Join","name":"Join"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/From","kind":"module","full_name":"Clear::SQL::Query::From","name":"From"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Select","kind":"module","full_name":"Clear::SQL::Query::Select","name":"Select"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/collection.cr","line_number":7,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"extended_modules":[],"subclasses":[{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Column/Collection","kind":"class","full_name":"Clear::Reflection::Column::Collection","name":"Collection"},{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Table/Collection","kind":"class","full_name":"Clear::Reflection::Table::Collection","name":"Collection"}],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":"The query collection system\nEvery time a collection is created when you call `Model.query`\nor call any defined scope","summary":"<p>The query collection system Every time a collection is created when you call <code>Model.query</code> or call any defined scope</p>","class_methods":[],"constructors":[{"id":"new(cte={}ofString=>Clear::SQL::Query::CTE::CTEAuthorized,columns=[]ofSQL::Column,froms=[]ofSQL::From,joins=[]ofSQL::Join,wheres=[]ofClear::Expression::Node,havings=[]ofClear::Expression::Node,group_bys=[]ofSQL::Column,order_bys=[]ofString,limit=nil,offset=nil,lock=nil,tags={}ofString=>Clear::SQL::Any,before_query_triggers=[]of(->Void),cache=Clear::Model::QueryCache.new,cached_result=nil)-class-method","html_id":"new(cte={}ofString=&gt;Clear::SQL::Query::CTE::CTEAuthorized,columns=[]ofSQL::Column,froms=[]ofSQL::From,joins=[]ofSQL::Join,wheres=[]ofClear::Expression::Node,havings=[]ofClear::Expression::Node,group_bys=[]ofSQL::Column,order_bys=[]ofString,limit=nil,offset=nil,lock=nil,tags={}ofString=&gt;Clear::SQL::Any,before_query_triggers=[]of(-&gt;Void),cache=Clear::Model::QueryCache.new,cached_result=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"cte","doc":null,"default_value":"{} of String => Clear::SQL::Query::CTE::CTEAuthorized","external_name":"cte","restriction":""},{"name":"columns","doc":null,"default_value":"[] of SQL::Column","external_name":"columns","restriction":""},{"name":"froms","doc":null,"default_value":"[] of SQL::From","external_name":"froms","restriction":""},{"name":"joins","doc":null,"default_value":"[] of SQL::Join","external_name":"joins","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""},{"name":"havings","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"havings","restriction":""},{"name":"group_bys","doc":null,"default_value":"[] of SQL::Column","external_name":"group_bys","restriction":""},{"name":"order_bys","doc":null,"default_value":"[] of String","external_name":"order_bys","restriction":""},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":""},{"name":"offset","doc":null,"default_value":"nil","external_name":"offset","restriction":""},{"name":"lock","doc":null,"default_value":"nil","external_name":"lock","restriction":""},{"name":"tags","doc":null,"default_value":"{} of String => Clear::SQL::Any","external_name":"tags","restriction":""},{"name":"before_query_triggers","doc":null,"default_value":"[] of (-> Void)","external_name":"before_query_triggers","restriction":""},{"name":"cache","doc":null,"default_value":"Clear::Model::QueryCache.new","external_name":"cache","restriction":""},{"name":"cached_result","doc":null,"default_value":"nil","external_name":"cached_result","restriction":""}],"args_string":"(cte = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Query</span><span class=\"t\">::</span><span class=\"t\">CTE</span><span class=\"t\">::</span><span class=\"t\">CTEAuthorized</span>, columns = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Column</span>, froms = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">From</span>, joins = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Join</span>, wheres = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Expression</span><span class=\"t\">::</span><span class=\"t\">Node</span>, havings = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Expression</span><span class=\"t\">::</span><span class=\"t\">Node</span>, group_bys = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Column</span>, order_bys = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, limit = <span class=\"n\">nil</span>, offset = <span class=\"n\">nil</span>, lock = <span class=\"n\">nil</span>, tags = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Any</span>, before_query_triggers = <span class=\"o\">[]</span> <span class=\"k\">of</span> (-> <span class=\"t\">Void</span>), cache = <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Model</span><span class=\"t\">::</span><span class=\"t\">QueryCache</span>.<span class=\"k\">new</span>, cached_result = <span class=\"n\">nil</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L22","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L22","def":{"name":"new","args":[{"name":"cte","doc":null,"default_value":"{} of String => Clear::SQL::Query::CTE::CTEAuthorized","external_name":"cte","restriction":""},{"name":"columns","doc":null,"default_value":"[] of SQL::Column","external_name":"columns","restriction":""},{"name":"froms","doc":null,"default_value":"[] of SQL::From","external_name":"froms","restriction":""},{"name":"joins","doc":null,"default_value":"[] of SQL::Join","external_name":"joins","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""},{"name":"havings","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"havings","restriction":""},{"name":"group_bys","doc":null,"default_value":"[] of SQL::Column","external_name":"group_bys","restriction":""},{"name":"order_bys","doc":null,"default_value":"[] of String","external_name":"order_bys","restriction":""},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":""},{"name":"offset","doc":null,"default_value":"nil","external_name":"offset","restriction":""},{"name":"lock","doc":null,"default_value":"nil","external_name":"lock","restriction":""},{"name":"tags","doc":null,"default_value":"{} of String => Clear::SQL::Any","external_name":"tags","restriction":""},{"name":"before_query_triggers","doc":null,"default_value":"[] of (-> Void)","external_name":"before_query_triggers","restriction":""},{"name":"cache","doc":null,"default_value":"Clear::Model::QueryCache.new","external_name":"cache","restriction":""},{"name":"cached_result","doc":null,"default_value":"nil","external_name":"cached_result","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = CollectionBase(T).allocate\n_.initialize(cte, columns, froms, joins, wheres, havings, group_bys, order_bys, limit, offset, lock, tags, before_query_triggers, cache, cached_result)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](off):T-instance-method","html_id":"[](off):T-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"off","doc":null,"default_value":"","external_name":"off","restriction":""}],"args_string":"(off) : T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L165","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L165","def":{"name":"[]","args":[{"name":"off","doc":null,"default_value":"","external_name":"off","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"self[off]?.not_nil!"}},{"id":"[]?(off):T?-instance-method","html_id":"[]?(off):T?-instance-method","name":"[]?","doc":null,"summary":null,"abstract":false,"args":[{"name":"off","doc":null,"default_value":"","external_name":"off","restriction":""}],"args_string":"(off) : T?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L169","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L169","def":{"name":"[]?","args":[{"name":"off","doc":null,"default_value":"","external_name":"off","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T | ::Nil","visibility":"Public","body":"(self.offset(off)).first"}},{"id":"agg(field,x:T.class)forallT-instance-method","html_id":"agg(field,x:T.class)forallT-instance-method","name":"agg","doc":"Call an aggregation function.","summary":"<p>Call an aggregation function.</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T.class"}],"args_string":"(field, x : T.class) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L145","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L145","def":{"name":"agg","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(self.clear_select.select(field)).scalar.as(T)"}},{"id":"any?-instance-method","html_id":"any?-instance-method","name":"any?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L120","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L120","def":{"name":"any?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"cr = @cached_result\nif cr\n  return cr.any?\nend\n((self.clear_select.select(\"1\")).limit(1)).fetch do |_|\n  return true\nend\nreturn false\n"}},{"id":"avg(field,x:T.class)forallT-instance-method","html_id":"avg(field,x:T.class)forallT-instance-method","name":"avg","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T.class"}],"args_string":"(field, x : T.class) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L149","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L149","def":{"name":"avg","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"agg(\"AVG(#{field})\", T)"}},{"id":"build:T-instance-method","html_id":"build:T-instance-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L111","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L111","def":{"name":"build","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"pp(@tags)\nT.new(@tags, persisted: false)\n"}},{"id":"build(x:NamedTuple):T-instance-method","html_id":"build(x:NamedTuple):T-instance-method","name":"build","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"args_string":"(x : NamedTuple) : T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L116","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L116","def":{"name":"build","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"T.new(@tags.merge(x.to_h), persisted: false)"}},{"id":"cached(cache:Clear::Model::QueryCache)-instance-method","html_id":"cached(cache:Clear::Model::QueryCache)-instance-method","name":"cached","doc":"We can pass a cache to the models which are going to be instantiated\nThis cache is used for relation calling of thoses models","summary":"<p>We can pass a cache to the models which are going to be instantiated This cache is used for relation calling of thoses models</p>","abstract":false,"args":[{"name":"cache","doc":null,"default_value":"","external_name":"cache","restriction":"Clear::Model::QueryCache"}],"args_string":"(cache : Clear::Model::QueryCache)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L43","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L43","def":{"name":"cached","args":[{"name":"cache","doc":null,"default_value":"","external_name":"cache","restriction":"Clear::Model::QueryCache"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cache = cache\nself\n"}},{"id":"change!-instance-method","html_id":"change!-instance-method","name":"change!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L59","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L59","def":{"name":"change!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clear_cached_result"}},{"id":"clear_cached_result-instance-method","html_id":"clear_cached_result-instance-method","name":"clear_cached_result","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L54","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L54","def":{"name":"clear_cached_result","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cached_result = nil\nself\n"}},{"id":"clear_tags-instance-method","html_id":"clear_tags-instance-method","name":"clear_tags","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L76","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L76","def":{"name":"clear_tags","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tags = {} of String => Clear::SQL::Any\nself\n"}},{"id":"count(what=&quot;*&quot;):Int64-instance-method","html_id":"count(what=&amp;quot;*&amp;quot;):Int64-instance-method","name":"count","doc":null,"summary":null,"abstract":false,"args":[{"name":"what","doc":null,"default_value":"\"*\"","external_name":"what","restriction":""}],"args_string":"(what = <span class=\"s\">&quot;*&quot;</span>) : Int64","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L136","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L136","def":{"name":"count","args":[{"name":"what","doc":null,"default_value":"\"*\"","external_name":"what","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"cr = @cached_result\nif cr\n  return Int64.new(cr.size)\nend\n(self.clear_select.select(\"COUNT(#{what})\")).scalar(Int64)\n"}},{"id":"each(fetch_columns=false,&block:T->)-instance-method","html_id":"each(fetch_columns=false,&amp;block:T-&gt;)-instance-method","name":"each","doc":null,"summary":null,"abstract":false,"args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"args_string":"(fetch_columns = <span class=\"n\">false</span>, &block : T -> )","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L81","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L81","def":{"name":"each","args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(T -> )"},"return_type":"","visibility":"Public","body":"cr = @cached_result\nif cr\n  cr.each(&block)\nelse\n  fetch(fetch_all: true) do |hash|\n    yield T.new(hash, persisted: true, fetch_columns: fetch_columns, cache: @cache)\n  end\nend\n"}},{"id":"each_with_cursor(batch=1000,fetch_columns=false,&block:T->)-instance-method","html_id":"each_with_cursor(batch=1000,fetch_columns=false,&amp;block:T-&gt;)-instance-method","name":"each_with_cursor","doc":null,"summary":null,"abstract":false,"args":[{"name":"batch","doc":null,"default_value":"1000","external_name":"batch","restriction":""},{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"args_string":"(batch = <span class=\"n\">1000</span>, fetch_columns = <span class=\"n\">false</span>, &block : T -> )","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L99","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L99","def":{"name":"each_with_cursor","args":[{"name":"batch","doc":null,"default_value":"1000","external_name":"batch","restriction":""},{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(T -> )"},"return_type":"","visibility":"Public","body":"cr = @cached_result\nif cr\n  cr.each(&block)\nelse\n  self.fetch_with_cursor(count: batch) do |hash|\n    yield T.new(hash, persisted: true, fetch_columns: fetch_columns, cache: @cache)\n  end\nend\n"}},{"id":"empty?-instance-method","html_id":"empty?-instance-method","name":"empty?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L132","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L132","def":{"name":"empty?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"not(any?)"}},{"id":"find(tuple:NamedTuple):T?-instance-method","html_id":"find(tuple:NamedTuple):T?-instance-method","name":"find","doc":null,"summary":null,"abstract":false,"args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"args_string":"(tuple : NamedTuple) : T?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L178","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L178","def":{"name":"find","args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T | ::Nil","visibility":"Public","body":"(where(tuple)).first"}},{"id":"find(&block):T?-instance-method","html_id":"find(&amp;block):T?-instance-method","name":"find","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block) : T?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L173","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L173","def":{"name":"find","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"T | ::Nil","visibility":"Public","body":"x = Clear::Expression.to_node(with Clear::Expression.new yield)\n(where(x)).first\n"}},{"id":"find!(tuple:NamedTuple):T-instance-method","html_id":"find!(tuple:NamedTuple):T-instance-method","name":"find!","doc":null,"summary":null,"abstract":false,"args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"args_string":"(tuple : NamedTuple) : T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L187","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L187","def":{"name":"find!","args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"(where(tuple)).first.not_nil!"}},{"id":"find!(&block):T-instance-method","html_id":"find!(&amp;block):T-instance-method","name":"find!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block) : T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L182","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L182","def":{"name":"find!","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"T","visibility":"Public","body":"x = Clear::Expression.to_node(with Clear::Expression.new yield)\n(where(x)).first!\n"}},{"id":"find_or_build(tuple:NamedTuple,&block:T->Void):T-instance-method","html_id":"find_or_build(tuple:NamedTuple,&amp;block:T-&gt;Void):T-instance-method","name":"find_or_build","doc":null,"summary":null,"abstract":false,"args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"args_string":"(tuple : NamedTuple, &block : T -> Void) : T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L191","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L191","def":{"name":"find_or_build","args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(T -> Void)"},"return_type":"T","visibility":"Public","body":"r = (where(tuple)).first\nif r\n  return r\nend\nstr_hash = {} of String => Clear::SQL::Any\ntuple.map do |k, v|\n  str_hash[k.to_s] = v\nend\nstr_hash.merge!(@tags)\nr = T.new(str_hash)\nyield r\nr\n"}},{"id":"find_or_create(tuple:NamedTuple,&block:T->Void):T-instance-method","html_id":"find_or_create(tuple:NamedTuple,&amp;block:T-&gt;Void):T-instance-method","name":"find_or_create","doc":null,"summary":null,"abstract":false,"args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"args_string":"(tuple : NamedTuple, &block : T -> Void) : T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L207","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L207","def":{"name":"find_or_create","args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(T -> Void)"},"return_type":"T","visibility":"Public","body":"r = find_or_build(tuple, &block)\nr.save\nr\n"}},{"id":"first:T?-instance-method","html_id":"first:T?-instance-method","name":"first","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : T?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L217","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L217","def":{"name":"first","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T | ::Nil","visibility":"Public","body":"pp(T)\npp(T.pkey)\nif T.pkey.nil?\nelse\n  order_by(\"#{T.pkey} ASC\")\nend\n(limit(1)).fetch do |hash|\n  return T.new(hash, persisted: true, cache: @cache)\nend\nreturn nil\n"}},{"id":"first!:T-instance-method","html_id":"first!:T-instance-method","name":"first!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L213","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L213","def":{"name":"first!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"first.not_nil!"}},{"id":"map(fetch_columns=false,&block:T->X):Array(X)forallX-instance-method","html_id":"map(fetch_columns=false,&amp;block:T-&gt;X):Array(X)forallX-instance-method","name":"map","doc":null,"summary":null,"abstract":false,"args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"args_string":"(fetch_columns = <span class=\"n\">false</span>, &block : T -> X) : Array(X) forall X","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L93","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L93","def":{"name":"map","args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(T -> X)"},"return_type":"Array(X)","visibility":"Public","body":"o = [] of X\neach(fetch_columns) do |mdl|\n  o << (block.call(mdl))\nend\no\n"}},{"id":"max(field,x:T.class)forallT-instance-method","html_id":"max(field,x:T.class)forallT-instance-method","name":"max","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T.class"}],"args_string":"(field, x : T.class) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L149","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L149","def":{"name":"max","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"agg(\"MAX(#{field})\", T)"}},{"id":"min(field,x:T.class)forallT-instance-method","html_id":"min(field,x:T.class)forallT-instance-method","name":"min","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T.class"}],"args_string":"(field, x : T.class) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L149","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L149","def":{"name":"min","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"agg(\"MIN(#{field})\", T)"}},{"id":"tags(x:NamedTuple)-instance-method","html_id":"tags(x:NamedTuple)-instance-method","name":"tags","doc":"Tags are used for building\n from relations","summary":"<p>Tags are used for building  from relations</p>","abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"args_string":"(x : NamedTuple)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L66","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L66","def":{"name":"tags","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tags.merge!(x.to_h)\nself\n"}},{"id":"tags(x:Hash(String,X))forallX-instance-method","html_id":"tags(x:Hash(String,X))forallX-instance-method","name":"tags","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Hash(String, X)"}],"args_string":"(x : Hash(String, X)) forall X","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L71","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L71","def":{"name":"tags","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Hash(String, X)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@tags.merge!(x.to_h)\nself\n"}},{"id":"to_a(fetch_columns=false):Array(T)-instance-method","html_id":"to_a(fetch_columns=false):Array(T)-instance-method","name":"to_a","doc":null,"summary":null,"abstract":false,"args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"args_string":"(fetch_columns = <span class=\"n\">false</span>) : Array(T)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L155","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L155","def":{"name":"to_a","args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T)","visibility":"Public","body":"cr = @cached_result\nif cr\n  return cr\nend\nout = [] of T\neach(fetch_columns: fetch_columns) do |m|\n  out << m\nend\nout\n"}},{"id":"with_cached_result(r:Array(T))-instance-method","html_id":"with_cached_result(r:Array(T))-instance-method","name":"with_cached_result","doc":"we can set the result of this request here.","summary":"<p>we can set the result of this request here.</p>","abstract":false,"args":[{"name":"r","doc":null,"default_value":"","external_name":"r","restriction":"Array(T)"}],"args_string":"(r : Array(T))","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L49","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L49","def":{"name":"with_cached_result","args":[{"name":"r","doc":null,"default_value":"","external_name":"r","restriction":"Array(T)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cached_result = r\nself\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Column","path":"Clear/Model/Column.html","kind":"class","full_name":"Clear::Model::Column(T)","name":"Column","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/column.cr","line_number":9,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"UNKNOWN","value":"UnknownClass.new","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":"A column of a Model\nProvide some methods like:\n  - Informations persistance (value before, value changed?)\n  - Raise error if we try to access the value of a field\n    which is not gathered through the query system (uninitialized column).\n    Or use the `get_def` to get with default value","summary":"<p>A column of a Model Provide some methods like:   - Informations persistance (value before, value changed?)   - Raise error if we try to access the value of a field     which is not gathered through the query system (uninitialized column).</p>","class_methods":[],"constructors":[{"id":"new(name:String,value:T|UnknownClass=UNKNOWN,has_db_default=false)-class-method","html_id":"new(name:String,value:T|UnknownClass=UNKNOWN,has_db_default=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"value","doc":null,"default_value":"UNKNOWN","external_name":"value","restriction":"T | UnknownClass"},{"name":"has_db_default","doc":null,"default_value":"false","external_name":"has_db_default","restriction":""}],"args_string":"(name : String, value : T | UnknownClass = <span class=\"t\">UNKNOWN</span>, has_db_default = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L21","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L21","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"value","doc":null,"default_value":"UNKNOWN","external_name":"value","restriction":"T | UnknownClass"},{"name":"has_db_default","doc":null,"default_value":"false","external_name":"has_db_default","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = Column(T).allocate\n_.initialize(name, value, has_db_default)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"changed?:Bool-instance-method","html_id":"changed?:Bool-instance-method","name":"changed?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L18","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L18","def":{"name":"changed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@changed"}},{"id":"clear-instance-method","html_id":"clear-instance-method","name":"clear","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L100","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L100","def":{"name":"clear","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.value = UNKNOWN\n@old_value = UNKNOWN\n"}},{"id":"clear_change_flag-instance-method","html_id":"clear_change_flag-instance-method","name":"clear_change_flag","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L109","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L109","def":{"name":"clear_change_flag","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@changed = false"}},{"id":"defined?-instance-method","html_id":"defined?-instance-method","name":"defined?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L90","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L90","def":{"name":"defined?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@value != UNKNOWN"}},{"id":"dirty!-instance-method","html_id":"dirty!-instance-method","name":"dirty!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L105","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L105","def":{"name":"dirty!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@changed = true"}},{"id":"failed_to_be_present?-instance-method","html_id":"failed_to_be_present?-instance-method","name":"failed_to_be_present?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L94","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L94","def":{"name":"failed_to_be_present?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"((!nilable?) && (!defined?)) && (!has_db_default?)"}},{"id":"has_db_default?:Bool-instance-method","html_id":"has_db_default?:Bool-instance-method","name":"has_db_default?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L19","def":{"name":"has_db_default?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@has_db_default"}},{"id":"inspect-instance-method","html_id":"inspect-instance-method","name":"inspect","doc":"If a column is not loaded (e.g. not defined once), it will show \"#undef\".\nIf a column is dirty (e.g. change hasn't be saved), it will show a \"*\" after the value.","summary":"<p>If a column is not loaded (e.g.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L82","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L82","def":{"name":"inspect","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if defined?\n  @value.inspect + (changed? ? \"*\" : \"\")\nelse\n  \"#undef\"\nend"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L17","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L17","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}},{"id":"nilable?-instance-method","html_id":"nilable?-instance-method","name":"nilable?","doc":"Return if the value can be nilable or not,\nto check the presence during validation","summary":"<p>Return if the value can be nilable or not, to check the presence during validation</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L76","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L76","def":{"name":"nilable?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"T.nilable?"}},{"id":"old_value:T|UnknownClass-instance-method","html_id":"old_value:T|UnknownClass-instance-method","name":"old_value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : T | UnknownClass","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L16","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L16","def":{"name":"old_value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T | UnknownClass","visibility":"Public","body":"@old_value"}},{"id":"reset(x:T?)-instance-method","html_id":"reset(x:T?)-instance-method","name":"reset","doc":"Reset the current field.\nRestore the `old_value` state to current value.\nReset the flag `changed` to false.","summary":"<p>Reset the current field.</p>","abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T | ::Nil"}],"args_string":"(x : T?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L46","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L46","def":{"name":"reset","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@changed = false\nif T.nilable?\n  @value = x.as(T)\nelse\n  if x.nil?\n    raise(\"Your field `#{@name}` is declared as `#{T}` but `NULL` value has been found in the database.\n\" + \"Maybe declaring it as `#{T}?` would fix the mess !\")\n  end\n  @value = x.not_nil!\nend\n@old_value = @value\n"}},{"id":"revert-instance-method","html_id":"revert-instance-method","name":"revert","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L36","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L36","def":{"name":"revert","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (@value != @old_value) && (@old_value != UNKNOWN)\n  @changed = true\n  @value = @old_value\nend"}},{"id":"value:T-instance-method","html_id":"value:T-instance-method","name":"value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L25","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L25","def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"if defined?\nelse\n  raise(\"You cannot access to the field `#{name}` \" + \"because it never has been initialized\")\nend\n@value.as(T)\n"}},{"id":"value(default:X):T|XforallX-instance-method","html_id":"value(default:X):T|XforallX-instance-method","name":"value","doc":null,"summary":null,"abstract":false,"args":[{"name":"default","doc":null,"default_value":"","external_name":"default","restriction":"X"}],"args_string":"(default : X) : T | X forall X","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L32","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L32","def":{"name":"value","args":[{"name":"default","doc":null,"default_value":"","external_name":"default","restriction":"X"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T | X","visibility":"Public","body":"defined? ? @value.as(T) : default"}},{"id":"value=(x:T)-instance-method","html_id":"value=(x:T)-instance-method","name":"value=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T"}],"args_string":"(x : T)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L65","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L65","def":{"name":"value=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @value != x\n  @value = x\n  @changed = (  @old_value != @value)\nend\n@value\n"}},{"id":"value=(x:UnknownClass)-instance-method","html_id":"value=(x:UnknownClass)-instance-method","name":"value=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UnknownClass"}],"args_string":"(x : UnknownClass)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L60","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L60","def":{"name":"value=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UnknownClass"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@value = UNKNOWN\n@changed = false\n"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Model/Column/UnknownClass","path":"Clear/Model/Column/UnknownClass.html","kind":"struct","full_name":"Clear::Model::Column::UnknownClass","name":"UnknownClass","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/column.cr","line_number":10,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Column","kind":"class","full_name":"Clear::Model::Column(T)","name":"Column"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/column.cr#L10","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}}],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","path":"Clear/Model/Converter.html","kind":"module","full_name":"Clear::Model::Converter","name":"Converter","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/converter/bool_converter.cr","line_number":11,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/bool_converter.cr"},{"filename":"clear/model/converter/number_converters.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"number_converter(t)-macro","html_id":"number_converter(t)-macro","name":"number_converter","doc":"Macro used to generate fast all conversion for\nnumbers (different bitsize, signed/unsigned etc...)","summary":"<p>Macro used to generate fast all conversion for numbers (different bitsize, signed/unsigned etc...)</p>","abstract":false,"args":[{"name":"t","doc":null,"default_value":"","external_name":"t","restriction":""}],"args_string":"(t)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L4","def":{"name":"number_converter","args":[{"name":"t","doc":null,"default_value":"","external_name":"t","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    class ::Clear::Model::Converter::\n{{ t }}\nConverter\n      def self.to_column(x : ::Clear::SQL::Any) : \n{{ t }}\n?\n        case x\n        when Nil\n          nil\n        when Number\n          \n{{ t }}\n.new(x)\n        \nelse\n          \n{{ t }}\n.new(x.to_s)\n        \nend\n      \nend\n\n      def self.to_db(x : \n{{ t }}\n?)\n        x\n      \nend\n    \nend\n  \n"}}],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/BigFloatConverter","path":"Clear/Model/Converter/BigFloatConverter.html","kind":"class","full_name":"Clear::Model::Converter::BigFloatConverter","name":"BigFloatConverter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":37,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):BigFloat?-class-method","html_id":"to_column(x:Clear::SQL::Any):BigFloat?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : BigFloat?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L37","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L37","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"BigFloat | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  BigFloat.new(x)\nelse\n  BigFloat.new(x.to_s)\nend"}},{"id":"to_db(x:BigFloat?)-class-method","html_id":"to_db(x:BigFloat?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"BigFloat | ::Nil"}],"args_string":"(x : BigFloat?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L37","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L37","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"BigFloat | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/BigIntConverter","path":"Clear/Model/Converter/BigIntConverter.html","kind":"class","full_name":"Clear::Model::Converter::BigIntConverter","name":"BigIntConverter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":36,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):BigInt?-class-method","html_id":"to_column(x:Clear::SQL::Any):BigInt?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : BigInt?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L36","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L36","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"BigInt | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  BigInt.new(x)\nelse\n  BigInt.new(x.to_s)\nend"}},{"id":"to_db(x:BigInt?)-class-method","html_id":"to_db(x:BigInt?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"BigInt | ::Nil"}],"args_string":"(x : BigInt?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L36","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L36","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"BigInt | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/BoolConverter","path":"Clear/Model/Converter/BoolConverter.html","kind":"class","full_name":"Clear::Model::Converter::BoolConverter","name":"BoolConverter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/bool_converter.cr","line_number":11,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/bool_converter.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":"Convert the column to a boolean\nBoolean are true if:\n\nThey are boolean and true (obviously)\nThey are number and not `0`\nThey are string and downcased value is not `f`, `false`, empty or `0`\nAnything else is considered true\n","summary":"<p>Convert the column to a boolean Boolean are true if:</p>","class_methods":[{"id":"to_column(x:Clear::SQL::Any):Bool?-class-method","html_id":"to_column(x:Clear::SQL::Any):Bool?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : Bool?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/bool_converter.cr#L12","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/bool_converter.cr#L12","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Bool\n  x\nwhen Number\n  x != 0\nwhen String\n  x = x.downcase\n  (((x != \"f\") && (x != \"false\")) && (x != \"\")) && (x != \"0\")\nelse\n  true\nend"}},{"id":"to_db(x:Bool?)-class-method","html_id":"to_db(x:Bool?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Bool | ::Nil"}],"args_string":"(x : Bool?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/bool_converter.cr#L28","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/bool_converter.cr#L28","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Bool | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x ? \"t\" : \"f\""}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/Float32Converter","path":"Clear/Model/Converter/Float32Converter.html","kind":"class","full_name":"Clear::Model::Converter::Float32Converter","name":"Float32Converter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":33,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):Float32?-class-method","html_id":"to_column(x:Clear::SQL::Any):Float32?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : Float32?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L33","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L33","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float32 | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  Float32.new(x)\nelse\n  Float32.new(x.to_s)\nend"}},{"id":"to_db(x:Float32?)-class-method","html_id":"to_db(x:Float32?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Float32 | ::Nil"}],"args_string":"(x : Float32?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L33","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L33","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Float32 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/Float64Converter","path":"Clear/Model/Converter/Float64Converter.html","kind":"class","full_name":"Clear::Model::Converter::Float64Converter","name":"Float64Converter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":34,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):Float64?-class-method","html_id":"to_column(x:Clear::SQL::Any):Float64?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : Float64?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L34","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L34","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Float64 | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  Float64.new(x)\nelse\n  Float64.new(x.to_s)\nend"}},{"id":"to_db(x:Float64?)-class-method","html_id":"to_db(x:Float64?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Float64 | ::Nil"}],"args_string":"(x : Float64?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L34","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L34","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Float64 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/Int16Converter","path":"Clear/Model/Converter/Int16Converter.html","kind":"class","full_name":"Clear::Model::Converter::Int16Converter","name":"Int16Converter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":24,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):Int16?-class-method","html_id":"to_column(x:Clear::SQL::Any):Int16?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : Int16?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L24","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L24","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int16 | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  Int16.new(x)\nelse\n  Int16.new(x.to_s)\nend"}},{"id":"to_db(x:Int16?)-class-method","html_id":"to_db(x:Int16?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int16 | ::Nil"}],"args_string":"(x : Int16?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L24","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L24","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int16 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/Int32Converter","path":"Clear/Model/Converter/Int32Converter.html","kind":"class","full_name":"Clear::Model::Converter::Int32Converter","name":"Int32Converter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":25,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):Int32?-class-method","html_id":"to_column(x:Clear::SQL::Any):Int32?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : Int32?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L25","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L25","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32 | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  Int32.new(x)\nelse\n  Int32.new(x.to_s)\nend"}},{"id":"to_db(x:Int32?)-class-method","html_id":"to_db(x:Int32?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int32 | ::Nil"}],"args_string":"(x : Int32?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L25","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L25","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int32 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/Int64Converter","path":"Clear/Model/Converter/Int64Converter.html","kind":"class","full_name":"Clear::Model::Converter::Int64Converter","name":"Int64Converter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":26,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):Int64?-class-method","html_id":"to_column(x:Clear::SQL::Any):Int64?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : Int64?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L26","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L26","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64 | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  Int64.new(x)\nelse\n  Int64.new(x.to_s)\nend"}},{"id":"to_db(x:Int64?)-class-method","html_id":"to_db(x:Int64?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int64 | ::Nil"}],"args_string":"(x : Int64?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L26","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L26","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int64 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/Int8Converter","path":"Clear/Model/Converter/Int8Converter.html","kind":"class","full_name":"Clear::Model::Converter::Int8Converter","name":"Int8Converter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":23,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):Int8?-class-method","html_id":"to_column(x:Clear::SQL::Any):Int8?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : Int8?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L23","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L23","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int8 | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  Int8.new(x)\nelse\n  Int8.new(x.to_s)\nend"}},{"id":"to_db(x:Int8?)-class-method","html_id":"to_db(x:Int8?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int8 | ::Nil"}],"args_string":"(x : Int8?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L23","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L23","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int8 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/JSON","path":"Clear/Model/Converter/JSON.html","kind":"module","full_name":"Clear::Model::Converter::JSON","name":"JSON","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/converter/json_any_converter.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/json_any_converter.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/JSON/AnyConverter","path":"Clear/Model/Converter/JSON/AnyConverter.html","kind":"class","full_name":"Clear::Model::Converter::JSON::AnyConverter","name":"AnyConverter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/json_any_converter.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/json_any_converter.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/JSON","kind":"module","full_name":"Clear::Model::Converter::JSON","name":"JSON"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):::JSON::Any?-class-method","html_id":"to_column(x:Clear::SQL::Any):::JSON::Any?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : ::JSON::Any?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/json_any_converter.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/json_any_converter.cr#L4","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::JSON::Any | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen ::JSON::Any\n  x\nelse\n  ::JSON.parse(x.to_s)\nend"}},{"id":"to_db(x:::JSON::Any?)-class-method","html_id":"to_db(x:::JSON::Any?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::JSON::Any | ::Nil"}],"args_string":"(x : ::JSON::Any?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/json_any_converter.cr#L15","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/json_any_converter.cr#L15","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::JSON::Any | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x.to_json"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/StringConverter","path":"Clear/Model/Converter/StringConverter.html","kind":"class","full_name":"Clear::Model::Converter::StringConverter","name":"StringConverter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/string_converter.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/string_converter.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):String?-class-method","html_id":"to_column(x:Clear::SQL::Any):String?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : String?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/string_converter.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/string_converter.cr#L4","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Slice(UInt8)\n  String.new(x)\nelse\n  x.to_s\nend"}},{"id":"to_db(x:String?)-class-method","html_id":"to_db(x:String?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String | ::Nil"}],"args_string":"(x : String?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/string_converter.cr#L15","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/string_converter.cr#L15","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/TimeConverter","path":"Clear/Model/Converter/TimeConverter.html","kind":"class","full_name":"Clear::Model::Converter::TimeConverter","name":"TimeConverter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/time_converter.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/time_converter.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):Time?-class-method","html_id":"to_column(x:Clear::SQL::Any):Time?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : Time?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/time_converter.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/time_converter.cr#L4","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Time\n  x.to_local\nelse\n  (Time.parse(x.to_s, \"%F %X.%L\")).to_local\nend"}},{"id":"to_db(x:Time?)-class-method","html_id":"to_db(x:Time?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Time | ::Nil"}],"args_string":"(x : Time?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/time_converter.cr#L15","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/time_converter.cr#L15","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Time | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case x\nwhen Nil\n  nil\nelse\n  x.to_utc.to_s(Clear::Expression::DATABASE_DATE_TIME_FORMAT)\nend"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/UInt16Converter","path":"Clear/Model/Converter/UInt16Converter.html","kind":"class","full_name":"Clear::Model::Converter::UInt16Converter","name":"UInt16Converter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":29,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):UInt16?-class-method","html_id":"to_column(x:Clear::SQL::Any):UInt16?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : UInt16?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L29","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L29","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"UInt16 | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  UInt16.new(x)\nelse\n  UInt16.new(x.to_s)\nend"}},{"id":"to_db(x:UInt16?)-class-method","html_id":"to_db(x:UInt16?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UInt16 | ::Nil"}],"args_string":"(x : UInt16?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L29","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L29","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UInt16 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/UInt32Converter","path":"Clear/Model/Converter/UInt32Converter.html","kind":"class","full_name":"Clear::Model::Converter::UInt32Converter","name":"UInt32Converter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":30,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):UInt32?-class-method","html_id":"to_column(x:Clear::SQL::Any):UInt32?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : UInt32?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L30","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L30","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"UInt32 | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  UInt32.new(x)\nelse\n  UInt32.new(x.to_s)\nend"}},{"id":"to_db(x:UInt32?)-class-method","html_id":"to_db(x:UInt32?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UInt32 | ::Nil"}],"args_string":"(x : UInt32?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L30","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L30","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UInt32 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/UInt64Converter","path":"Clear/Model/Converter/UInt64Converter.html","kind":"class","full_name":"Clear::Model::Converter::UInt64Converter","name":"UInt64Converter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":31,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):UInt64?-class-method","html_id":"to_column(x:Clear::SQL::Any):UInt64?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : UInt64?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L31","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"UInt64 | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  UInt64.new(x)\nelse\n  UInt64.new(x.to_s)\nend"}},{"id":"to_db(x:UInt64?)-class-method","html_id":"to_db(x:UInt64?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UInt64 | ::Nil"}],"args_string":"(x : UInt64?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L31","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UInt64 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter/UInt8Converter","path":"Clear/Model/Converter/UInt8Converter.html","kind":"class","full_name":"Clear::Model::Converter::UInt8Converter","name":"UInt8Converter","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/converter/number_converters.cr","line_number":28,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/Converter","kind":"module","full_name":"Clear::Model::Converter","name":"Converter"},"doc":null,"summary":null,"class_methods":[{"id":"to_column(x:Clear::SQL::Any):UInt8?-class-method","html_id":"to_column(x:Clear::SQL::Any):UInt8?-class-method","name":"to_column","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"args_string":"(x : Clear::SQL::Any) : UInt8?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L28","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L28","def":{"name":"to_column","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"::Clear::SQL::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"UInt8 | ::Nil","visibility":"Public","body":"case x\nwhen Nil\n  nil\nwhen Number\n  UInt8.new(x)\nelse\n  UInt8.new(x.to_s)\nend"}},{"id":"to_db(x:UInt8?)-class-method","html_id":"to_db(x:UInt8?)-class-method","name":"to_db","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UInt8 | ::Nil"}],"args_string":"(x : UInt8?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L28","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/converter/number_converters.cr#L28","def":{"name":"to_db","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"UInt8 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Model/Error","path":"Clear/Model/Error.html","kind":"class","full_name":"Clear::Model::Error","name":"Error","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/errors.cr","line_number":2,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/errors.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/anykeyh/clear/Clear/Model/InvalidModelError","kind":"class","full_name":"Clear::Model::InvalidModelError","name":"InvalidModelError"},{"html_id":"github.com/anykeyh/clear/Clear/Model/ReadOnlyModelError","kind":"class","full_name":"Clear::Model::ReadOnlyModelError","name":"ReadOnlyModelError"}],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasColumns","path":"Clear/Model/HasColumns.html","kind":"module","full_name":"Clear::Model::HasColumns","name":"HasColumns","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/modules/has_columns.cr","line_number":5,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_columns.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},{"html_id":"github.com/anykeyh/clear/Clear/View","kind":"module","full_name":"Clear::View","name":"View"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":"This module declare all the methods and macro related to columns in `Clear::Model`","summary":"<p>This module declare all the methods and macro related to columns in <code><a href=\"../../Clear/Model.html\">Clear::Model</a></code></p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"[](x):Clear::SQL::Any-instance-method","html_id":"[](x):Clear::SQL::Any-instance-method","name":"[]","doc":"Access to direct SQL attributes given by the request used to build the model.\nAccess is read only and updating the model columns will not apply change to theses columns.","summary":"<p>Access to direct SQL attributes given by the request used to build the model.</p>","abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x) : Clear::SQL::Any","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_columns.cr#L17","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_columns.cr#L17","def":{"name":"[]","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Clear::SQL::Any","visibility":"Public","body":"attributes[x]"}},{"id":"[]?(x):Clear::SQL::Any-instance-method","html_id":"[]?(x):Clear::SQL::Any-instance-method","name":"[]?","doc":"Access to direct SQL attributes given by the request  used to build the model\nor Nil if not found.\nAccess is read only and updating the model columns will not apply change to theses columns.","summary":"<p>Access to direct SQL attributes given by the request  used to build the model or Nil if not found.</p>","abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x) : Clear::SQL::Any","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_columns.cr#L24","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_columns.cr#L24","def":{"name":"[]?","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"::Clear::SQL::Any","visibility":"Public","body":"attributes[x]?"}}],"macros":[{"id":"__generate_columns-macro","html_id":"__generate_columns-macro","name":"__generate_columns","doc":"Used internally to gather the columns","summary":"<p>Used internally to gather the columns</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_columns.cr#L83","def":{"name":"__generate_columns","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% for name, settings in COLUMNS %}\n      {% type = settings[:type] %}\n      {% has_db_default = !settings[:presence] %}\n      @{{ name }}_column : Clear::Model::Column({{ type }}) = Clear::Model::Column({{ type }}).new(\"{{ name }}\",\n        has_db_default: {{ has_db_default }} )\n\n      def {{ name }}_column : Clear::Model::Column({{ type }})\n        @{{ name }}_column\n      end\n\n      def {{ name }} : {{ type }}\n        @{{ name }}_column.value\n      end\n\n      def {{ name }}=(x : {{ type }})\n        @{{ name }}_column.value = x\n      end\n\n      {% if settings[:primary] %}\n        @@pkey = \"{{ name }}\"\n\n        def pkey\n          @{{ name }}_column.value\n        end\n      {% end %}\n    {% end %}\n\n\n    def set( t : NamedTuple )\n      set(t.to_h)\n    \nend\n\n    \n# Set the columns from hash\n\n    def set( h : Hash(Symbol, ::Clear::SQL::Any) )\n      \n{% for name, settings in COLUMNS %}\n        v = h.fetch(:{{ settings[:column_name] }}){ Column::UNKNOWN }\n        @{{ name }}_column.reset({{ settings[:converter] }}.to_column(v)) unless v.is_a?(Column::UnknownClass)\n      {% end %}\n\n    \nend\n\n    \n# Generate the hash for update request (like during save)\n\n    def update_h : Hash(String, ::Clear::SQL::Any)\n      out = \n{} of String => ::Clear::SQL::Any\n\n      \n{% for name, settings in COLUMNS %}\n        if @{{ name }}_column.defined? &&\n           @{{ name }}_column.changed?\n          out[{{ settings[:column_name] }}] = {{ settings[:converter] }}.to_db(@{{ name }}_column.value)\n        end\n      {% end %}\n\n\n      out\n    \nend\n\n    \n# For each column, ensure than when needed the column has present\n\n    \n# information into it.\n\n    \n# This method is called on validation.\n\n    def validate_fields_presence\n      \n{% for name, settings in COLUMNS %}\n        unless persisted?\n          if @{{ name }}_column.failed_to_be_present?\n            add_error({{ name.stringify }}, \"must be present\")\n          end\n        end\n      {% end %}\n\n    \nend\n\n    \n# Reset the `changed?` flag on all columns\n\n    \n#\n\n    \n# The model behave like its not dirty anymore\n\n    \n# and call to save would apply no changes.\n\n    def clear_change_flags\n      \n{% for name, settings in COLUMNS %}\n        @{{ name }}_column.clear_change_flag\n      {% end %}\n\n    \nend\n\n    \n# Return a hash version of the columns of this model.\n\n    def to_h : Hash(String, ::Clear::SQL::Any)\n      out = \n{} of String => ::Clear::SQL::Any\n\n      \n{% for name, settings in COLUMNS %}\n        if @{{ name }}_column.defined?\n          out[{{ settings[:column_name] }}] = {{ settings[:converter] }}.to_db(@{{ name }}_column.value(nil))\n        end\n      {% end %}\n\n\n      out\n    \nend\n\n    \n# Return `true` if the model is dirty (e.g. one or more fields\n\n    \n#   have been changed.). Return `false` otherwise.\n\n    def changed?\n      \n{% for name, settings in COLUMNS %}\n          return true if @{{ name }}_column.changed?\n      {% end %}\n\n\n      return false\n    \nend\n\n    \n# Set the model fields from hash\n\n    def set( h : Hash(String, ::Clear::SQL::Any) )\n      \n{% for name, settings in COLUMNS %}\n        if h.has_key?({{ settings[:column_name] }})\n          @{{ name }}_column.reset({{ settings[:converter] }}.to_column(h[{{ settings[:column_name] }}]))\n        end\n      {% end %}\n\n    \nend\n\n  \n"}},{"id":"column(name,primary=false,converter=nil,column_name=nil,presence=true)-macro","html_id":"column(name,primary=false,converter=nil,column_name=nil,presence=true)-macro","name":"column","doc":"Bind a column to the model.\n\nSimple example:\n```\nclass MyModel\n  include Clear::Model\n\n  column some_id : Int32, primary: true\n  column nullable_column : String?\nend\n```\noptions:\n\n* `primary : Bool`: Let Clear ORM know which column is the primary key.\nCurrently compound primary key are not compatible with Clear ORM.\n\n* `converter : Class | Module`: Use this class to convert the data from the\nSQL. This class must possess the class methods\n`to_column(::Clear::SQL::Any) : T` and `to_db(T) : ::Clear::SQL::Any`\nwith `T` the type of the column.\n\n* `column_name : String`: If the name of the column in the model doesn't fit the name of the\n  column in the SQL, you can use the parameter `column_name` to tell Clear about\n  which db column is linked to current field.\n\n* `presence : Bool (default = true)`: Use this option to let know Clear that\n  your column is not nullable but with default value generated by the database\n  on insert (e.g. serial)\nDuring validation before saving, the presence will not be checked on this field\n  and Clear will try to insert without the field value.\n","summary":"<p>Bind a column to the model.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"primary","doc":null,"default_value":"false","external_name":"primary","restriction":""},{"name":"converter","doc":null,"default_value":"nil","external_name":"converter","restriction":""},{"name":"column_name","doc":null,"default_value":"nil","external_name":"column_name","restriction":""},{"name":"presence","doc":null,"default_value":"true","external_name":"presence","restriction":""}],"args_string":"(name, primary = false, converter = nil, column_name = nil, presence = true)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_columns.cr#L59","def":{"name":"column","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"primary","doc":null,"default_value":"false","external_name":"primary","restriction":""},{"name":"converter","doc":null,"default_value":"nil","external_name":"converter","restriction":""},{"name":"column_name","doc":null,"default_value":"nil","external_name":"column_name","restriction":""},{"name":"presence","doc":null,"default_value":"true","external_name":"presence","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% _type = name.type %}\n\n    \n{% if converter\nelse\n  if _type.is_a?(Path)\n    converter = ((\"Clear::Model::Converter::\" + _type.stringify) + \"Converter\").id\n  else\n    if _type.is_a?(Generic)\n      converter = ((\"Clear::Model::Converter::\" + (_type.type_vars.map(&.stringify).sort.reject do |x|\n        x == \"::Nil\"\n      end.join(\"\"))) + \"Converter\").id\n    else\n      converter = ((\"Clear::Model::Converter::\" + (_type.types.map(&.stringify).sort.reject do |x|\n        x == \"::Nil\"\n      end.join(\"\"))) + \"Converter\").id\n    end\n  end\nend %}\n\n\n    \n{% COLUMNS[name.var] = {type: _type, primary: primary, converter: converter, column_name: \"#{(column_name || name.var)}\", presence: presence} %}\n\n\n  \n"}}],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasHooks","path":"Clear/Model/HasHooks.html","kind":"module","full_name":"Clear::Model::HasHooks","name":"HasHooks","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/modules/has_hooks.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_hooks.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasRelations","path":"Clear/Model/HasRelations.html","kind":"module","full_name":"Clear::Model::HasRelations","name":"HasRelations","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/modules/has_relations.cr","line_number":10,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_relations.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},{"html_id":"github.com/anykeyh/clear/Clear/View","kind":"module","full_name":"Clear::View","name":"View"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":"```\nclass Model\n  include Clear::Model\n\n  has_many posts : Post, [ foreign_key: Model.underscore_name + \"_id\", no_cache : false]\n\n  has_one passport : Passport\n  has_many posts\n```","summary":"<pre><code class='language-class Model   include Clear::Model'></code></pre>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"belongs_to(name,foreign_key=nil,no_cache=false,primary=false,key_type=::Union(Int64,::Nil))-macro","html_id":"belongs_to(name,foreign_key=nil,no_cache=false,primary=false,key_type=::Union(Int64,::Nil))-macro","name":"belongs_to","doc":"```\nclass Model\n  include Clear::Model\n  belongs_to user : User, foreign_key: \"the_user_id\"\n\n```","summary":"<pre><code class='language-class Model   include Clear::Model   belongs_to user : User, foreign_key: \"the_user_id\"'></code></pre>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign_key","doc":null,"default_value":"nil","external_name":"foreign_key","restriction":""},{"name":"no_cache","doc":null,"default_value":"false","external_name":"no_cache","restriction":""},{"name":"primary","doc":null,"default_value":"false","external_name":"primary","restriction":""},{"name":"key_type","doc":null,"default_value":"::Union(Int64, ::Nil)","external_name":"key_type","restriction":""}],"args_string":"(name, foreign_key = nil, no_cache = false, primary = false, key_type = ::Union(Int64, ::Nil))","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_relations.cr#L230","def":{"name":"belongs_to","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign_key","doc":null,"default_value":"nil","external_name":"foreign_key","restriction":""},{"name":"no_cache","doc":null,"default_value":"false","external_name":"no_cache","restriction":""},{"name":"primary","doc":null,"default_value":"false","external_name":"primary","restriction":""},{"name":"key_type","doc":null,"default_value":"::Union(Int64, ::Nil)","external_name":"key_type","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% relation_type = name.type %}\n\n    \n{% method_name = name.var.id %}\n\n    \n{% foreign_key = foreign_key || (relation_type.stringify.underscore + \"_id\") %}\n\n\n    column \n{{ foreign_key.id }}\n : \n{{ key_type }}\n, primary: \n{{ primary }}\n\n\n    \n# The method \n{{ method_name }}\n is a `belongs_to` relation\n\n    \n#   to \n{{ relation_type }}\n\n\n    def \n{{ method_name }}\n : \n{{ relation_type }}\n?\n\n      cache = @cache\n\n      if cache && cache.active? \"\n{{ method_name }}\n\"\n        cache.hit(\"\n{{ method_name }}\n\", self.\n{{ foreign_key.id }}\n, \n{{ relation_type }}\n).first?\n      \nelse\n        \n{{ relation_type }}\n.query.where\n{ raw(\n{{ relation_type }}\n.pkey) == self.\n{{ foreign_key.id }}\n }.first\n      \nend\n    \nend\n\n    def \n{{ method_name }}\n! : \n{{ relation_type }}\n\n      \n{{ method_name }}\n.not_nil!\n    \nend\n\n    def \n{{ method_name }}\n=(x : \n{{ relation_type }}\n?)\n      @\n{{ foreign_key.id }}\n_field.value = x.pkey\n    \nend\n\n    \n# Adding the eager loading\n\n    class Collection\n      def with_\n{{ method_name }}\n(fetch_columns = false, &block : \n{{ relation_type }}\n::Collection -> ) : self\n        before_query do\n          sub_query = self.dup.clear_select.select(\n{{ foreign_key.id.stringify }}\n)\n\n          cached_qry = \n{{ relation_type }}\n.query.where\n{ raw(\n{{ relation_type }}\n.pkey).in?(sub_query) }\n\n          block.call(cached_qry)\n\n          @cache.active \"\n{{ method_name }}\n\"\n\n          cached_qry.each(fetch_columns: fetch_columns) do |mdl|\n            @cache.set(\"\n{{ method_name }}\n\", mdl.pkey, [mdl])\n          \nend\n        \nend\n\n        self\n      \nend\n\n      def with_\n{{ method_name }}\n(fetch_columns = false) : self\n        with_\n{{ method_name }}\n(fetch_columns)\n{}\n        self\n      \nend\n\n    \nend\n\n  \n"}},{"id":"has_many(name,through,own_key=nil,foreign_key=nil)-macro","html_id":"has_many(name,through,own_key=nil,foreign_key=nil)-macro","name":"has_many","doc":"has_many through \\o/","summary":"<p>has_many through \\o/</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"through","doc":null,"default_value":"","external_name":"through","restriction":""},{"name":"own_key","doc":null,"default_value":"nil","external_name":"own_key","restriction":""},{"name":"foreign_key","doc":null,"default_value":"nil","external_name":"foreign_key","restriction":""}],"args_string":"(name, through, own_key = nil, foreign_key = nil)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_relations.cr#L72","def":{"name":"has_many","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"through","doc":null,"default_value":"","external_name":"through","restriction":""},{"name":"own_key","doc":null,"default_value":"nil","external_name":"own_key","restriction":""},{"name":"foreign_key","doc":null,"default_value":"nil","external_name":"foreign_key","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% relation_type = name.type %}\n\n    \n{% method_name = name.var.id %}\n\n\n    def \n{{ method_name }}\n : \n{{ relation_type }}\n::Collection\n      \n%final_table\n = \n{{ relation_type }}\n.table\n      \n%final_pkey\n = \n{{ relation_type }}\n.pkey\n      \n%through_table\n = \n{{ through }}\n.table\n      \n%through_key\n = \n{{ foreign_key }}\n || \n{{ relation_type }}\n.table.to_s.singularize + \"_id\"\n      \n%own_key\n = \n{{ own_key }}\n || \n{{ @type }}\n.table.to_s.singularize + \"_id\"\n\n      cache = @cache\n\n      qry = \n{{ relation_type }}\n.query.join(\n%through_table\n)\n{\n          var(\"#{\n%through_table\n}.#{\n%through_key\n}\") == var(\"#{\n%final_table\n}.#{\n%final_pkey\n}\")\n        }.where\n{\n          \n# FIXME: self.id or self.pkey ?\n\n          var(\"#{\n%through_table\n}.#{\n%own_key\n}\") == self.id\n        }.distinct.select(\"#{\n%final_table\n}.*\")\n\n\n      if cache && cache.active?(\"\n{{ method_name }}\n\")\n        arr = cache.hit(\"\n{{ method_name }}\n\", self.pkey, \n{{ relation_type }}\n)\n        qry.with_cached_result(arr)\n      \nend\n\n      qry\n    \nend\n\n    \n# Addition of the method for eager loading and N+1 avoidance.\n\n    class Collection\n      \n# Eager load the relation \n{{ method_name }}\n.\n\n      \n# Use it to avoid N+1 queries.\n\n      def with_\n{{ method_name }}\n(&block : \n{{ relation_type }}\n::Collection -> ) : self\n        before_query do\n          \n%final_table\n = \n{{ relation_type }}\n.table\n          \n%final_pkey\n = \n{{ relation_type }}\n.pkey\n          \n%through_table\n = \n{{ through }}\n.table\n          \n%through_key\n = \n{{ foreign_key }}\n || \n{{ relation_type }}\n.table.to_s.singularize + \"_id\"\n          \n%own_key\n = \n{{ own_key }}\n || \n{{ @type }}\n.table.to_s.singularize + \"_id\"\n          self_type = \n{{ @type }}\n\n\n          @cache.active \"\n{{ method_name }}\n\"\n\n          sub_query = self.dup.clear_select.select(self_type.pkey)\n\n          qry = \n{{ relation_type }}\n.query.join(\n%through_table\n)\n{\n            var(\"#{\n%through_table\n}.#{\n%through_key\n}\") == var(\"#{\n%final_table\n}.#{\n%final_pkey\n}\")\n          }.where\n{\n            var(\"#{\n%through_table\n}.#{\n%own_key\n}\").in?(sub_query)\n          }.distinct.select( \"#{\n%final_table\n}.*\",\n            \"#{\n%through_table\n}.#{\n%own_key\n} AS __own_id\"\n          )\n\n          block.call(qry)\n\n          h = \n{} of Clear::SQL::Any => Array(\n{{ relation_type }}\n)\n\n          qry.each(fetch_columns: true) do |mdl|\n            unless h[mdl.attributes[\"__own_id\"]]?\n              h[mdl.attributes[\"__own_id\"]] = [] of \n{{ relation_type }}\n\n            \nend\n\n            h[mdl.attributes[\"__own_id\"]] << mdl\n          \nend\n\n          h.each do |key, value|\n            @cache.set(\"\n{{ method_name }}\n\", key, value)\n          \nend\n        \nend\n\n        self\n      \nend\n\n      def with_\n{{ method_name }}\n\n        with_\n{{ method_name }}\n{}\n      \nend\n\n    \nend\n\n  \n"}},{"id":"has_many(name,foreign_key=nil,primary_key=nil)-macro","html_id":"has_many(name,foreign_key=nil,primary_key=nil)-macro","name":"has_many","doc":"has many","summary":"<p>has many</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign_key","doc":null,"default_value":"nil","external_name":"foreign_key","restriction":""},{"name":"primary_key","doc":null,"default_value":"nil","external_name":"primary_key","restriction":""}],"args_string":"(name, foreign_key = nil, primary_key = nil)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_relations.cr#L155","def":{"name":"has_many","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign_key","doc":null,"default_value":"nil","external_name":"foreign_key","restriction":""},{"name":"primary_key","doc":null,"default_value":"nil","external_name":"primary_key","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% relation_type = name.type %}\n\n    \n{% method_name = name.var.id %}\n\n\n    \n# The method \n{{ method_name }}\n is a `has_many` relation\n\n    \n#   to \n{{ relation_type }}\n\n\n    def \n{{ method_name }}\n : \n{{ relation_type }}\n::Collection\n      \n%primary_key\n = \n{{ (primary_key || \"pkey\").id }}\n\n      \n%foreign_key\n =  \n{{ foreign_key }}\n || ( self.class.table.to_s.singularize + \"_id\" )\n\n\n      cache = @cache\n      if cache && cache.active?(\"\n{{ method_name }}\n\")\n        arr = cache.hit(\"\n{{ method_name }}\n\", \n%primary_key\n, \n{{ relation_type }}\n)\n\n        \n# This relation will trigger the cache if it exists\n\n        \n{{ relation_type }}\n.query \\\n          .tags(\n{ \"#{\n%foreign_key\n}\" => \"#{\n%primary_key\n}\" }) \\\n          .where\n{ raw(\n%foreign_key\n) == \n%primary_key\n }\n          .with_cached_result(arr)\n      \nelse\n        \n{{ relation_type }}\n.query \\\n          .tags(\n{ \"#{\n%foreign_key\n}\" => \"#{\n%primary_key\n}\" }) \\\n          .where\n{ raw(\n%foreign_key\n) == \n%primary_key\n }\n      \nend\n      \n#end\n\n    \nend\n\n    \n# Addition of the method for eager loading and N+1 avoidance.\n\n    class Collection\n      \n# Eager load the relation \n{{ method_name }}\n.\n\n      \n# Use it to avoid N+1 queries.\n\n      def with_\n{{ method_name }}\n(fetch_columns = false, &block : \n{{ relation_type }}\n::Collection -> ) : self\n        before_query do\n          \n%primary_key\n = \n{{ (primary_key || \"#{relation_type}.pkey\").id }}\n\n          \n%foreign_key\n =  \n{{ foreign_key }}\n || ( \n{{ @type }}\n.table.to_s.singularize + \"_id\" )\n\n          \n#SELECT * FROM foreign WHERE foreign_key IN ( SELECT primary_key FROM users )\n\n          sub_query = self.dup.clear_select.select(\"#{\n%primary_key\n}\")\n\n          qry = \n{{ relation_type }}\n.query.where\n{ raw(\n%foreign_key\n).in?(sub_query) }\n          block.call(qry)\n\n          @cache.active \"\n{{ method_name }}\n\"\n\n          h = \n{} of Clear::SQL::Any => Array(\n{{ relation_type }}\n)\n\n          qry.each(fetch_columns: true) do |mdl|\n            unless h[mdl.attributes[\n%foreign_key\n]]?\n              h[mdl.attributes[\n%foreign_key\n]] = [] of \n{{ relation_type }}\n\n            \nend\n\n            h[mdl.attributes[\n%foreign_key\n]] << mdl\n          \nend\n\n          h.each do |key, value|\n            @cache.set(\"\n{{ method_name }}\n\", key, value)\n          \nend\n        \nend\n\n        self\n      \nend\n\n      def with_\n{{ method_name }}\n(fetch_columns = false)\n        with_\n{{ method_name }}\n(fetch_columns)\n{|q|} \n#empty block\n\n      \nend\n    \nend\n  \n"}},{"id":"has_one(name,foreign_key=nil,primary_key=nil)-macro","html_id":"has_one(name,foreign_key=nil,primary_key=nil)-macro","name":"has_one","doc":"The method `has_one` declare a relation 1 to [0,1]\nwhere the current model primary key is stored in the foreign table.\n`primary_key` method (default: `self#pkey`) and `foreign_key` method\n(default: table_name in singular, plus \"_id\" appended)\ncan be redefined\n\nExamples:\n```\nmodel Passport\n  column id : Int32, primary : true\n  has_one user : User It assumes the table `users` have a field `passport_id`\nend\n\nmodel Passport\n  column id : Int32, primary : true\n  has_one owner : User # It assumes the table `users` have a field `passport_id`\nend\n```","summary":"<p>The method <code><a href=\"../../Clear/Model/HasRelations.html#has_one%28name%2Cforeign_key%3Dnil%2Cprimary_key%3Dnil%29-macro\">has_one</a></code> declare a relation 1 to [0,1] where the current model primary key is stored in the foreign table.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign_key","doc":null,"default_value":"nil","external_name":"foreign_key","restriction":""},{"name":"primary_key","doc":null,"default_value":"nil","external_name":"primary_key","restriction":""}],"args_string":"(name, foreign_key = nil, primary_key = nil)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_relations.cr#L29","def":{"name":"has_one","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"foreign_key","doc":null,"default_value":"nil","external_name":"foreign_key","restriction":""},{"name":"primary_key","doc":null,"default_value":"nil","external_name":"primary_key","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    \n{% relation_type = name.type %}\n\n    \n{% method_name = name.var.id %}\n\n\n    \n# `\n{{ method_name }}\n` is of type `has_one` relation to \n{{ relation_type }}\n\n\n    def \n{{ method_name }}\n : \n{{ relation_type }}\n?\n      \n%primary_key\n = \n{{ (primary_key || \"pkey\").id }}\n\n      \n%foreign_key\n =  \n{{ foreign_key }}\n || ( self.class.table.to_s.singularize + \"_id\" )\n\n      \n{{ relation_type }}\n.query.where\n{ raw(\n%foreign_key\n) == \n%primary_key\n }.first\n    \nend\n\n    def \n{{ method_name }}\n! : \n{{ relation_type }}\n\n      \n{{ method_name }}\n.not_nil!\n    \nend\n\n    \n# Addition of the method for eager loading and N+1 avoidance.\n\n    class Collection\n      \n# Eager load the relation \n{{ method_name }}\n.\n\n      \n# Use it to avoid N+1 queries.\n\n      def with_\n{{ method_name }}\n(fetch_columns = false) : self\n        before_query do\n          \n%primary_key\n = \n{{ (primary_key || \"#{relation_type}.pkey\").id }}\n\n          \n%foreign_key\n =  \n{{ foreign_key }}\n || ( \n{{ @type }}\n.table.to_s.singularize + \"_id\" )\n\n          \n#SELECT * FROM foreign WHERE foreign_key IN ( SELECT primary_key FROM users )\n\n          sub_query = self.dup.clear_select.select(\"#{\n%primary_key\n}\")\n\n          @cache.active \"\n{{ method_name }}\n\"\n\n          \n{{ relation_type }}\n.query.where\n{ raw(\n%foreign_key\n).in?(sub_query) }.each(fetch_columns: true) do |mdl|\n            @cache.set(\n              \"\n{{ @type }}\n.\n{{ method_name }}\n\", mdl.attributes[\n%foreign_key\n], [mdl]\n            )\n          \nend\n        \nend\n\n        self\n      \nend\n    \nend\n  \n"}}],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasSaving","path":"Clear/Model/HasSaving.html","kind":"module","full_name":"Clear::Model::HasSaving","name":"HasSaving","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/modules/has_saving.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_saving.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"delete-instance-method","html_id":"delete-instance-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_saving.cr#L49","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_saving.cr#L49","def":{"name":"delete","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if persisted?\nelse\n  return false\nend\nwith_triggers(:delete) do\n  (Clear::SQL::DeleteQuery.new.from(self.class.table)).where do\n    (var(\"#{self.class.pkey}\")) == pkey\n  end.execute\n  @persisted = false\n  clear_change_flags\nend\nreturn true\n"}},{"id":"persisted?:Bool-instance-method","html_id":"persisted?:Bool-instance-method","name":"persisted?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_saving.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_saving.cr#L10","def":{"name":"persisted?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@persisted"}},{"id":"save-instance-method","html_id":"save-instance-method","name":"save","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_saving.cr#L12","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_saving.cr#L12","def":{"name":"save","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if self.class.read_only?\n  raise(Clear::Model::ReadOnlyModelError.new(\"The model is read-only\"))\nend\nwith_triggers(:save) do\n  if valid?\n    if persisted?\n      h = update_h\n      if h.any?\n        ((Clear::SQL.update(self.class.table)).set(update_h)).where do\n          (var(\"#{self.class.pkey}\")) == pkey\n        end.execute\n      end\n    else\n      @persisted = true\n      hash = ((Clear::SQL.insert_into(self.class.table, to_h)).returning(\"*\")).execute\n      self.set(hash)\n    end\n    self.clear_change_flags\n    return true\n  else\n    return false\n  end\nend\nreturn true\n"}},{"id":"save!-instance-method","html_id":"save!-instance-method","name":"save!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_saving.cr#L40","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_saving.cr#L40","def":{"name":"save!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"with_triggers(:save) do\n  if save\n  else\n    raise(Clear::Model::InvalidModelError.new(\"Validation of the model failed:\n #{print_errors}\"))\n  end\nend\nreturn self\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasScope","path":"Clear/Model/HasScope.html","kind":"module","full_name":"Clear::Model::HasScope","name":"HasScope","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/modules/has_scope.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_scope.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},{"html_id":"github.com/anykeyh/clear/Clear/View","kind":"module","full_name":"Clear::View","name":"View"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasSerialPkey","path":"Clear/Model/HasSerialPkey.html","kind":"module","full_name":"Clear::Model::HasSerialPkey","name":"HasSerialPkey","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/modules/has_serial_pkey.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_serial_pkey.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"with_serial_pkey(name=\"id\")-macro","html_id":"with_serial_pkey(name=&quot;id&quot;)-macro","name":"with_serial_pkey","doc":"Helper for lazy developers, to add longint primary key.","summary":"<p>Helper for lazy developers, to add longint primary key.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"\"id\"","external_name":"name","restriction":""}],"args_string":"(name = \"id\")","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_serial_pkey.cr#L3","def":{"name":"with_serial_pkey","args":[{"name":"name","doc":null,"default_value":"\"id\"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    column \n{{ name.id }}\n : UInt64, primary: true, presence: false\n  \n"}}],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasTimestamps","path":"Clear/Model/HasTimestamps.html","kind":"module","full_name":"Clear::Model::HasTimestamps","name":"HasTimestamps","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/modules/has_timestamps.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_timestamps.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"timestamps-macro","html_id":"timestamps-macro","name":"timestamps","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_timestamps.cr#L2","def":{"name":"timestamps","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"    column( updated_at : Time )\n    column( created_at : Time )\n\n    before(:validate) do |model|\n      model = model.as(self)\n\n      unless model.persisted?\n        now = Time.now\n        model.created_at = now\n        model.updated_at = now\n      \nend\n    \nend\n\n    after(:validate) do |model|\n      model = model.as(self)\n\n      \n# In the case the updated_at has been changed, we do not override.\n\n      \n# It happens on first insert, in the before validation setup.\n\n      if model.changed? && !model.updated_at_column.changed?\n        model.updated_at = Time.now\n      \nend\n\n    \nend\n\n  \n"}}],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasValidation","path":"Clear/Model/HasValidation.html","kind":"module","full_name":"Clear::Model::HasValidation","name":"HasValidation","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Validation/Helper","kind":"module","full_name":"Clear::Validation::Helper","name":"Helper"}],"locations":[{"filename":"clear/model/modules/has_validation.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/Validation/Helper","kind":"module","full_name":"Clear::Validation::Helper","name":"Helper"}],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"add_error(column,reason)-instance-method","html_id":"add_error(column,reason)-instance-method","name":"add_error","doc":"Add validation error related to a specific column","summary":"<p>Add validation error related to a specific column</p>","abstract":false,"args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"reason","doc":null,"default_value":"","external_name":"reason","restriction":""}],"args_string":"(column, reason)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L14","def":{"name":"add_error","args":[{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":""},{"name":"reason","doc":null,"default_value":"","external_name":"reason","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@errors << Error.new(reason: reason, column: column.to_s)"}},{"id":"add_error(reason)-instance-method","html_id":"add_error(reason)-instance-method","name":"add_error","doc":"Add validation error not related to a specific column","summary":"<p>Add validation error not related to a specific column</p>","abstract":false,"args":[{"name":"reason","doc":null,"default_value":"","external_name":"reason","restriction":""}],"args_string":"(reason)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L9","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L9","def":{"name":"add_error","args":[{"name":"reason","doc":null,"default_value":"","external_name":"reason","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@errors << Error.new(reason: reason, column: nil)"}},{"id":"clear_errors-instance-method","html_id":"clear_errors-instance-method","name":"clear_errors","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L22","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L22","def":{"name":"clear_errors","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@errors.clear"}},{"id":"error?-instance-method","html_id":"error?-instance-method","name":"error?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L18","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L18","def":{"name":"error?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@errors.any?"}},{"id":"errors:Array(Error)-instance-method","html_id":"errors:Array(Error)-instance-method","name":"errors","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Error)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L6","def":{"name":"errors","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Error)","visibility":"Public","body":"@errors"}},{"id":"print_errors-instance-method","html_id":"print_errors-instance-method","name":"print_errors","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L26","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L26","def":{"name":"print_errors","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@errors.group_by(&.column).to_a.sort do |__arg1, __arg2|\n  f1 = __arg1[0]\n  f2 = __arg2[0]\n  (f1 || \"\") <=> (f2 || \"\")\nend.map do |column, errors|\n  [column, errors.map(&.reason).join(\", \")].compact.join(\": \")\nend.join(\"\\n\")"}},{"id":"valid!-instance-method","html_id":"valid!-instance-method","name":"valid!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L36","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L36","def":{"name":"valid!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if valid?\nelse\n  raise(InvalidModelError.new(\"Model is invalid: #{print_errors}\"))\nend\nself\n"}},{"id":"valid?-instance-method","html_id":"valid?-instance-method","name":"valid?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L41","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L41","def":{"name":"valid?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clear_errors\nwith_triggers(:validate) do\n  validate_fields_presence\n  validate\nend\n!error?\n"}},{"id":"validate-instance-method","html_id":"validate-instance-method","name":"validate","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L32","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L32","def":{"name":"validate","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Model/HasValidation/Error","path":"Clear/Model/HasValidation/Error.html","kind":"struct","full_name":"Clear::Model::HasValidation::Error","name":"Error","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/modules/has_validation.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/HasValidation","kind":"module","full_name":"Clear::Model::HasValidation","name":"HasValidation"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(reason:String,column:String?)-class-method","html_id":"new(reason:String,column:String?)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"reason","doc":null,"default_value":"","external_name":"reason","restriction":"String"},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"String | ::Nil"}],"args_string":"(reason : String, column : String?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L4","def":{"name":"new","args":[{"name":"reason","doc":null,"default_value":"","external_name":"reason","restriction":"String"},{"name":"column","doc":null,"default_value":"","external_name":"column","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(reason, column)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/modules/has_validation.cr#L4","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Error.new(@reason.clone, @column.clone)"}},{"id":"column:String?-instance-method","html_id":"column:String?-instance-method","name":"column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":null,"source_link":null,"def":{"name":"column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@column"}},{"id":"reason:String-instance-method","html_id":"reason:String-instance-method","name":"reason","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"reason","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@reason"}}],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Model/InvalidModelError","path":"Clear/Model/InvalidModelError.html","kind":"class","full_name":"Clear::Model::InvalidModelError","name":"InvalidModelError","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Model/Error","kind":"class","full_name":"Clear::Model::Error","name":"Error"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Model/Error","kind":"class","full_name":"Clear::Model::Error","name":"Error"},{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/errors.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/errors.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Model/QueryCache","path":"Clear/Model/QueryCache.html","kind":"class","full_name":"Clear::Model::QueryCache","name":"QueryCache","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/query_cache.cr","line_number":5,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":"This is a fire-and-forget cache\n\nThis cache can be plugged on model instance (one cache for a set of models)\n... (TODO: explain and document)","summary":"<p>This is a fire-and-forget cache</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"active(relation_name)-instance-method","html_id":"active(relation_name)-instance-method","name":"active","doc":null,"summary":null,"abstract":false,"args":[{"name":"relation_name","doc":null,"default_value":"","external_name":"relation_name","restriction":""}],"args_string":"(relation_name)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L15","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L15","def":{"name":"active","args":[{"name":"relation_name","doc":null,"default_value":"","external_name":"relation_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cache_activation.add(relation_name)"}},{"id":"active?(relation_name)-instance-method","html_id":"active?(relation_name)-instance-method","name":"active?","doc":null,"summary":null,"abstract":false,"args":[{"name":"relation_name","doc":null,"default_value":"","external_name":"relation_name","restriction":""}],"args_string":"(relation_name)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L19","def":{"name":"active?","args":[{"name":"relation_name","doc":null,"default_value":"","external_name":"relation_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cache_activation.includes?(relation_name)"}},{"id":"clear-instance-method","html_id":"clear-instance-method","name":"clear","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L46","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L46","def":{"name":"clear","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cache.clear\n@cache_activation.clear\n"}},{"id":"fetch-instance-method","html_id":"fetch-instance-method","name":"fetch","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L11","def":{"name":"fetch","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query"}},{"id":"hit(relation_name,relation_value,klass:T.class):Array(T)forallT-instance-method","html_id":"hit(relation_name,relation_value,klass:T.class):Array(T)forallT-instance-method","name":"hit","doc":"Try to hit the cache. If an array is found, it will be returned.\nOtherwise, the block will be called and must return an array.","summary":"<p>Try to hit the cache.</p>","abstract":false,"args":[{"name":"relation_name","doc":null,"default_value":"","external_name":"relation_name","restriction":""},{"name":"relation_value","doc":null,"default_value":"","external_name":"relation_value","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"args_string":"(relation_name, relation_value, klass : T.class) : Array(T) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L25","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L25","def":{"name":"hit","args":[{"name":"relation_name","doc":null,"default_value":"","external_name":"relation_name","restriction":""},{"name":"relation_value","doc":null,"default_value":"","external_name":"relation_value","restriction":""},{"name":"klass","doc":null,"default_value":"","external_name":"klass","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T)","visibility":"Public","body":"(@cache.fetch(CacheKey.new(relation_name, relation_value, T.name)) do\n  [] of T\nend).unsafe_as(Array(T))"}},{"id":"set(relation_name,relation_value,arr:Array(T))forallT-instance-method","html_id":"set(relation_name,relation_value,arr:Array(T))forallT-instance-method","name":"set","doc":"Set the cached array for a specific key `{relation_name,relation_value}`","summary":"<p>Set the cached array for a specific key <code>{relation_name,relation_value}</code></p>","abstract":false,"args":[{"name":"relation_name","doc":null,"default_value":"","external_name":"relation_name","restriction":""},{"name":"relation_value","doc":null,"default_value":"","external_name":"relation_value","restriction":""},{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array(T)"}],"args_string":"(relation_name, relation_value, arr : Array(T)) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L32","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L32","def":{"name":"set","args":[{"name":"relation_name","doc":null,"default_value":"","external_name":"relation_name","restriction":""},{"name":"relation_value","doc":null,"default_value":"","external_name":"relation_value","restriction":""},{"name":"arr","doc":null,"default_value":"","external_name":"arr","restriction":"Array(T)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cache[CacheKey.new(relation_name, relation_value, T.name)] = arr.unsafe_as(Pointer(Void))"}},{"id":"with_cache(&block)-instance-method","html_id":"with_cache(&amp;block)-instance-method","name":"with_cache","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L41","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L41","def":{"name":"with_cache","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"yield\nclear\n"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Model/QueryCache/CacheKey","path":"Clear/Model/QueryCache/CacheKey.html","kind":"struct","full_name":"Clear::Model::QueryCache::CacheKey","name":"CacheKey","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/query_cache.cr","line_number":6,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model/QueryCache","kind":"class","full_name":"Clear::Model::QueryCache","name":"QueryCache"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(relation_name:String,relation_value:Clear::SQL::Any,relation_model:String)-class-method","html_id":"new(relation_name:String,relation_value:Clear::SQL::Any,relation_model:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"relation_name","doc":null,"default_value":"","external_name":"relation_name","restriction":"String"},{"name":"relation_value","doc":null,"default_value":"","external_name":"relation_value","restriction":"Clear::SQL::Any"},{"name":"relation_model","doc":null,"default_value":"","external_name":"relation_model","restriction":"String"}],"args_string":"(relation_name : String, relation_value : Clear::SQL::Any, relation_model : String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L6","def":{"name":"new","args":[{"name":"relation_name","doc":null,"default_value":"","external_name":"relation_name","restriction":"String"},{"name":"relation_value","doc":null,"default_value":"","external_name":"relation_value","restriction":"Clear::SQL::Any"},{"name":"relation_model","doc":null,"default_value":"","external_name":"relation_model","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(relation_name, relation_value, relation_model)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clone-instance-method","html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/query_cache.cr#L6","def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"CacheKey.new(@relation_name.clone, @relation_value.clone, @relation_model.clone)"}},{"id":"relation_model:String-instance-method","html_id":"relation_model:String-instance-method","name":"relation_model","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"relation_model","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@relation_model"}},{"id":"relation_name:String-instance-method","html_id":"relation_name:String-instance-method","name":"relation_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"relation_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@relation_name"}},{"id":"relation_value:Clear::SQL::Any-instance-method","html_id":"relation_value:Clear::SQL::Any-instance-method","name":"relation_value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::SQL::Any","source_link":null,"source_link":null,"def":{"name":"relation_value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::SQL::Any","visibility":"Public","body":"@relation_value"}}],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Model/ReadOnlyModelError","path":"Clear/Model/ReadOnlyModelError.html","kind":"class","full_name":"Clear::Model::ReadOnlyModelError","name":"ReadOnlyModelError","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Model/Error","kind":"class","full_name":"Clear::Model::Error","name":"Error"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Model/Error","kind":"class","full_name":"Clear::Model::Error","name":"Error"},{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/errors.cr","line_number":6,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/errors.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Reflection","path":"Clear/Reflection.html","kind":"module","full_name":"Clear::Reflection","name":"Reflection","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/reflection/column.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear","kind":"module","full_name":"Clear","name":"Clear"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Column","path":"Clear/Reflection/Column.html","kind":"class","full_name":"Clear::Reflection::Column","name":"Column","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},{"html_id":"github.com/anykeyh/clear/Clear/Model/ClassMethods","kind":"module","full_name":"Clear::Model::ClassMethods","name":"ClassMethods"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasScope","kind":"module","full_name":"Clear::Model::HasScope","name":"HasScope"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasRelations","kind":"module","full_name":"Clear::Model::HasRelations","name":"HasRelations"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasValidation","kind":"module","full_name":"Clear::Model::HasValidation","name":"HasValidation"},{"html_id":"github.com/anykeyh/clear/Clear/Validation/Helper","kind":"module","full_name":"Clear::Validation::Helper","name":"Helper"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasSaving","kind":"module","full_name":"Clear::Model::HasSaving","name":"HasSaving"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasSerialPkey","kind":"module","full_name":"Clear::Model::HasSerialPkey","name":"HasSerialPkey"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasTimestamps","kind":"module","full_name":"Clear::Model::HasTimestamps","name":"HasTimestamps"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasHooks","kind":"module","full_name":"Clear::Model::HasHooks","name":"HasHooks"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasColumns","kind":"module","full_name":"Clear::Model::HasColumns","name":"HasColumns"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/reflection/column.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"COLUMNS","value":"{table_catalog => {type: String, primary: false, converter: Clear::Model::Converter::StringConverter, column_name: \"table_catalog\", presence: true}, table_schema => {type: String, primary: false, converter: Clear::Model::Converter::StringConverter, column_name: \"table_schema\", presence: true}, table_name => {type: String, primary: false, converter: Clear::Model::Converter::StringConverter, column_name: \"table_name\", presence: true}, column_name => {type: String, primary: true, converter: Clear::Model::Converter::StringConverter, column_name: \"column_name\", presence: true}} of Nil => Nil","doc":null,"summary":null},{"name":"EVENTS_AFTER","value":"{} of Symbol => Array(HookFunction)","doc":null,"summary":null},{"name":"EVENTS_BEFORE","value":"{} of Symbol => Array(HookFunction)","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Reflection","kind":"module","full_name":"Clear::Reflection","name":"Reflection"},"doc":"Reflection of the columns using information_schema in postgreSQL.\nTODO: Usage of view instead of model","summary":"<p>Reflection of the columns using information_schema in postgreSQL.</p>","class_methods":[{"id":"after(event_name,&block:HookFunction)-class-method","html_id":"after(event_name,&amp;block:HookFunction)-class-method","name":"after","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"args_string":"(event_name, &block : HookFunction)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"after","args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"HookFunction"},"return_type":"","visibility":"Public","body":"if EVENTS_AFTER[event_name]?\nelse\n  EVENTS_AFTER[event_name] = [] of HookFunction\nend\nEVENTS_AFTER[event_name] << block\n"}},{"id":"before(event_name,&block:HookFunction)-class-method","html_id":"before(event_name,&amp;block:HookFunction)-class-method","name":"before","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"args_string":"(event_name, &block : HookFunction)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"before","args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"HookFunction"},"return_type":"","visibility":"Public","body":"if EVENTS_BEFORE[event_name]?\nelse\n  EVENTS_BEFORE[event_name] = [] of HookFunction\nend\nEVENTS_BEFORE[event_name] << block\n"}},{"id":"columns-class-method","html_id":"columns-class-method","name":"columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@columns"}},{"id":"create(x:Array(NamedTuple)):Array(self)-class-method","html_id":"create(x:Array(NamedTuple)):Array(self)-class-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Array(NamedTuple)"}],"args_string":"(x : Array(NamedTuple)) : Array(self)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"create","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Array(NamedTuple)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(self)","visibility":"Public","body":"x.map do |elm|\n  create(elm)\nend"}},{"id":"create!(x:Array(NamedTuple)):Array(self)-class-method","html_id":"create!(x:Array(NamedTuple)):Array(self)-class-method","name":"create!","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Array(NamedTuple)"}],"args_string":"(x : Array(NamedTuple)) : Array(self)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"create!","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Array(NamedTuple)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(self)","visibility":"Public","body":"x.map do |elm|\n  create!(elm)\nend"}},{"id":"find(x)-class-method","html_id":"find(x)-class-method","name":"find","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"find","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query.where do\n  (raw(pkey)) == x\nend.first"}},{"id":"find!(x)-class-method","html_id":"find!(x)-class-method","name":"find!","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"find!","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(find(x)).not_nil!"}},{"id":"pkey:String-class-method","html_id":"pkey:String-class-method","name":"pkey","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"pkey","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@@pkey"}},{"id":"pkey=(pkey:String)-class-method","html_id":"pkey=(pkey:String)-class-method","name":"pkey=","doc":null,"summary":null,"abstract":false,"args":[{"name":"pkey","doc":null,"default_value":"","external_name":"pkey","restriction":"String"}],"args_string":"(pkey : String)","source_link":null,"source_link":null,"def":{"name":"pkey=","args":[{"name":"pkey","doc":null,"default_value":"","external_name":"pkey","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@pkey = pkey"}},{"id":"query-class-method","html_id":"query-class-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Collection.new.from(table)"}},{"id":"read_only=(read_only:Bool)-class-method","html_id":"read_only=(read_only:Bool)-class-method","name":"read_only=","doc":null,"summary":null,"abstract":false,"args":[{"name":"read_only","doc":null,"default_value":"","external_name":"read_only","restriction":"Bool"}],"args_string":"(read_only : Bool)","source_link":null,"source_link":null,"def":{"name":"read_only=","args":[{"name":"read_only","doc":null,"default_value":"","external_name":"read_only","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@read_only = read_only"}},{"id":"read_only?:Bool-class-method","html_id":"read_only?:Bool-class-method","name":"read_only?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"read_only?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@@read_only"}},{"id":"table:Clear::SQL::Symbolic-class-method","html_id":"table:Clear::SQL::Symbolic-class-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::SQL::Symbolic","source_link":null,"source_link":null,"def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::SQL::Symbolic","visibility":"Public","body":"@@table"}},{"id":"table=(table:Clear::SQL::Symbolic)-class-method","html_id":"table=(table:Clear::SQL::Symbolic)-class-method","name":"table=","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"Clear::SQL::Symbolic"}],"args_string":"(table : Clear::SQL::Symbolic)","source_link":null,"source_link":null,"def":{"name":"table=","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"Clear::SQL::Symbolic"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@table = table"}}],"constructors":[{"id":"create:self-class-method","html_id":"create:self-class-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"create","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"mdl = self.new\nmdl.save\nmdl\n"}},{"id":"create(x:NamedTuple):self-class-method","html_id":"create(x:NamedTuple):self-class-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"args_string":"(x : NamedTuple) : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"create","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"mdl = self.new(x)\nmdl.save\nmdl\n"}},{"id":"create!:self-class-method","html_id":"create!:self-class-method","name":"create!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"create!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"mdl = self.new\nmdl.save!\nmdl\n"}},{"id":"create!(x:NamedTuple):self-class-method","html_id":"create!(x:NamedTuple):self-class-method","name":"create!","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"args_string":"(x : NamedTuple) : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"create!","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"mdl = self.new(x)\nmdl.save!\nmdl\n"}},{"id":"new(h:Hash(String,Clear::SQL::Any),cache:Clear::Model::QueryCache?=nil,persisted=false,fetch_columns=false)-class-method","html_id":"new(h:Hash(String,Clear::SQL::Any),cache:Clear::Model::QueryCache?=nil,persisted=false,fetch_columns=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(String, ::Clear::SQL::Any)"},{"name":"cache","doc":null,"default_value":"nil","external_name":"cache","restriction":"Clear::Model::QueryCache | ::Nil"},{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""},{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"args_string":"(h : Hash(String, Clear::SQL::Any), cache : Clear::Model::QueryCache? = <span class=\"n\">nil</span>, persisted = <span class=\"n\">false</span>, fetch_columns = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"new","args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(String, ::Clear::SQL::Any)"},{"name":"cache","doc":null,"default_value":"nil","external_name":"cache","restriction":"Clear::Model::QueryCache | ::Nil"},{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""},{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(h, cache, persisted, fetch_columns)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(t:NamedTuple,persisted=false)-class-method","html_id":"new(t:NamedTuple,persisted=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"t","doc":null,"default_value":"","external_name":"t","restriction":"NamedTuple"},{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""}],"args_string":"(t : NamedTuple, persisted = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"new","args":[{"name":"t","doc":null,"default_value":"","external_name":"t","restriction":"NamedTuple"},{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(t, persisted)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(persisted=false)-class-method","html_id":"new(persisted=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""}],"args_string":"(persisted = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"new","args":[{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(persisted)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"attributes:Hash(String,Clear::SQL::Any)-instance-method","html_id":"attributes:Hash(String,Clear::SQL::Any)-instance-method","name":"attributes","doc":"Attributes, used if fetch_columns is true","summary":"<p>Attributes, used if fetch_columns is true</p>","abstract":false,"args":[],"args_string":" : Hash(String, Clear::SQL::Any)","source_link":null,"source_link":null,"def":{"name":"attributes","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, ::Clear::SQL::Any)","visibility":"Public","body":"@attributes"}},{"id":"cache:Clear::Model::QueryCache?-instance-method","html_id":"cache:Clear::Model::QueryCache?-instance-method","name":"cache","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::QueryCache?","source_link":null,"source_link":null,"def":{"name":"cache","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::QueryCache | ::Nil","visibility":"Public","body":"@cache"}},{"id":"changed?-instance-method","html_id":"changed?-instance-method","name":"changed?","doc":"Return `true` if the model is dirty (e.g. one or more fields\n  have been changed.). Return `false` otherwise.","summary":"<p>Return <code>true</code> if the model is dirty (e.g.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"changed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @table_catalog_column.changed?\n  return true\nend\nif @table_schema_column.changed?\n  return true\nend\nif @table_name_column.changed?\n  return true\nend\nif @column_name_column.changed?\n  return true\nend\nreturn false\n"}},{"id":"clear_change_flags-instance-method","html_id":"clear_change_flags-instance-method","name":"clear_change_flags","doc":"Reset the `changed?` flag on all columns\n\nThe model behave like its not dirty anymore\nand call to save would apply no changes.","summary":"<p>Reset the <code><a href=\"../../Clear/Reflection/Column.html#changed%3F-instance-method\">#changed?</a></code> flag on all columns</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"clear_change_flags","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_catalog_column.clear_change_flag\n@table_schema_column.clear_change_flag\n@table_name_column.clear_change_flag\n@column_name_column.clear_change_flag\n"}},{"id":"column_name:String-instance-method","html_id":"column_name:String-instance-method","name":"column_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"column_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@column_name_column.value"}},{"id":"column_name=(x:String)-instance-method","html_id":"column_name=(x:String)-instance-method","name":"column_name=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"args_string":"(x : String)","source_link":null,"source_link":null,"def":{"name":"column_name=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@column_name_column.value = x"}},{"id":"column_name_column:Clear::Model::Column(String)-instance-method","html_id":"column_name_column:Clear::Model::Column(String)-instance-method","name":"column_name_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::Column(String)","source_link":null,"source_link":null,"def":{"name":"column_name_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::Column(String)","visibility":"Public","body":"@column_name_column"}},{"id":"pkey-instance-method","html_id":"pkey-instance-method","name":"pkey","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"pkey","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@column_name_column.value"}},{"id":"set(h:Hash(String,Clear::SQL::Any))-instance-method","html_id":"set(h:Hash(String,Clear::SQL::Any))-instance-method","name":"set","doc":"Set the model fields from hash","summary":"<p>Set the model fields from hash</p>","abstract":false,"args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(String, ::Clear::SQL::Any)"}],"args_string":"(h : Hash(String, Clear::SQL::Any))","source_link":null,"source_link":null,"def":{"name":"set","args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(String, ::Clear::SQL::Any)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if h.has_key?(\"table_catalog\")\n  @table_catalog_column.reset(Clear::Model::Converter::StringConverter.to_column(h[\"table_catalog\"]))\nend\nif h.has_key?(\"table_schema\")\n  @table_schema_column.reset(Clear::Model::Converter::StringConverter.to_column(h[\"table_schema\"]))\nend\nif h.has_key?(\"table_name\")\n  @table_name_column.reset(Clear::Model::Converter::StringConverter.to_column(h[\"table_name\"]))\nend\nif h.has_key?(\"column_name\")\n  @column_name_column.reset(Clear::Model::Converter::StringConverter.to_column(h[\"column_name\"]))\nend\n"}},{"id":"set(h:Hash(Symbol,Clear::SQL::Any))-instance-method","html_id":"set(h:Hash(Symbol,Clear::SQL::Any))-instance-method","name":"set","doc":"Set the columns from hash","summary":"<p>Set the columns from hash</p>","abstract":false,"args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(Symbol, ::Clear::SQL::Any)"}],"args_string":"(h : Hash(Symbol, Clear::SQL::Any))","source_link":null,"source_link":null,"def":{"name":"set","args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(Symbol, ::Clear::SQL::Any)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"v = h.fetch(:table_catalog) do\n  Column::UNKNOWN\nend\nif v.is_a?(Column::UnknownClass)\nelse\n  @table_catalog_column.reset(Clear::Model::Converter::StringConverter.to_column(v))\nend\nv = h.fetch(:table_schema) do\n  Column::UNKNOWN\nend\nif v.is_a?(Column::UnknownClass)\nelse\n  @table_schema_column.reset(Clear::Model::Converter::StringConverter.to_column(v))\nend\nv = h.fetch(:table_name) do\n  Column::UNKNOWN\nend\nif v.is_a?(Column::UnknownClass)\nelse\n  @table_name_column.reset(Clear::Model::Converter::StringConverter.to_column(v))\nend\nv = h.fetch(:column_name) do\n  Column::UNKNOWN\nend\nif v.is_a?(Column::UnknownClass)\nelse\n  @column_name_column.reset(Clear::Model::Converter::StringConverter.to_column(v))\nend\n"}},{"id":"set(t:NamedTuple)-instance-method","html_id":"set(t:NamedTuple)-instance-method","name":"set","doc":null,"summary":null,"abstract":false,"args":[{"name":"t","doc":null,"default_value":"","external_name":"t","restriction":"NamedTuple"}],"args_string":"(t : NamedTuple)","source_link":null,"source_link":null,"def":{"name":"set","args":[{"name":"t","doc":null,"default_value":"","external_name":"t","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"set(t.to_h)"}},{"id":"table:Clear::Reflection::Table?-instance-method","html_id":"table:Clear::Reflection::Table?-instance-method","name":"table","doc":"The method table is a `belongs_to` relation\n  to Clear::Reflection::Table","summary":"<p>The method table is a <code>belongs_to</code> relation   to Clear::Reflection::Table</p>","abstract":false,"args":[],"args_string":" : Clear::Reflection::Table?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L14","def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Reflection::Table | ::Nil","visibility":"Public","body":"cache = @cache\nif cache && (cache.active?(\"table\"))\n  (cache.hit(\"table\", self.table_name, Clear::Reflection::Table)).first?\nelse\n  Clear::Reflection::Table.query.where do\n    (raw(Clear::Reflection::Table.pkey)) == self.table_name\n  end.first\nend\n"}},{"id":"table!:Clear::Reflection::Table-instance-method","html_id":"table!:Clear::Reflection::Table-instance-method","name":"table!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Reflection::Table","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L14","def":{"name":"table!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Reflection::Table","visibility":"Public","body":"table.not_nil!"}},{"id":"table=(x:Clear::Reflection::Table?)-instance-method","html_id":"table=(x:Clear::Reflection::Table?)-instance-method","name":"table=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Clear::Reflection::Table | ::Nil"}],"args_string":"(x : Clear::Reflection::Table?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L14","def":{"name":"table=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Clear::Reflection::Table | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_name_field.value = x.pkey"}},{"id":"table_catalog:String-instance-method","html_id":"table_catalog:String-instance-method","name":"table_catalog","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"table_catalog","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table_catalog_column.value"}},{"id":"table_catalog=(x:String)-instance-method","html_id":"table_catalog=(x:String)-instance-method","name":"table_catalog=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"args_string":"(x : String)","source_link":null,"source_link":null,"def":{"name":"table_catalog=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_catalog_column.value = x"}},{"id":"table_catalog_column:Clear::Model::Column(String)-instance-method","html_id":"table_catalog_column:Clear::Model::Column(String)-instance-method","name":"table_catalog_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::Column(String)","source_link":null,"source_link":null,"def":{"name":"table_catalog_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::Column(String)","visibility":"Public","body":"@table_catalog_column"}},{"id":"table_name:String-instance-method","html_id":"table_name:String-instance-method","name":"table_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table_name_column.value"}},{"id":"table_name=(x:String)-instance-method","html_id":"table_name=(x:String)-instance-method","name":"table_name=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"args_string":"(x : String)","source_link":null,"source_link":null,"def":{"name":"table_name=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_name_column.value = x"}},{"id":"table_name_column:Clear::Model::Column(String)-instance-method","html_id":"table_name_column:Clear::Model::Column(String)-instance-method","name":"table_name_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::Column(String)","source_link":null,"source_link":null,"def":{"name":"table_name_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::Column(String)","visibility":"Public","body":"@table_name_column"}},{"id":"table_schema:String-instance-method","html_id":"table_schema:String-instance-method","name":"table_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"table_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table_schema_column.value"}},{"id":"table_schema=(x:String)-instance-method","html_id":"table_schema=(x:String)-instance-method","name":"table_schema=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"args_string":"(x : String)","source_link":null,"source_link":null,"def":{"name":"table_schema=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_schema_column.value = x"}},{"id":"table_schema_column:Clear::Model::Column(String)-instance-method","html_id":"table_schema_column:Clear::Model::Column(String)-instance-method","name":"table_schema_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::Column(String)","source_link":null,"source_link":null,"def":{"name":"table_schema_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::Column(String)","visibility":"Public","body":"@table_schema_column"}},{"id":"to_h:Hash(String,Clear::SQL::Any)-instance-method","html_id":"to_h:Hash(String,Clear::SQL::Any)-instance-method","name":"to_h","doc":"Return a hash version of the columns of this model.","summary":"<p>Return a hash version of the columns of this model.</p>","abstract":false,"args":[],"args_string":" : Hash(String, Clear::SQL::Any)","source_link":null,"source_link":null,"def":{"name":"to_h","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, ::Clear::SQL::Any)","visibility":"Public","body":"out = {} of String => ::Clear::SQL::Any\nif @table_catalog_column.defined?\n  out[\"table_catalog\"] = Clear::Model::Converter::StringConverter.to_db(@table_catalog_column.value(nil))\nend\nif @table_schema_column.defined?\n  out[\"table_schema\"] = Clear::Model::Converter::StringConverter.to_db(@table_schema_column.value(nil))\nend\nif @table_name_column.defined?\n  out[\"table_name\"] = Clear::Model::Converter::StringConverter.to_db(@table_name_column.value(nil))\nend\nif @column_name_column.defined?\n  out[\"column_name\"] = Clear::Model::Converter::StringConverter.to_db(@column_name_column.value(nil))\nend\nout\n"}},{"id":"update_h:Hash(String,Clear::SQL::Any)-instance-method","html_id":"update_h:Hash(String,Clear::SQL::Any)-instance-method","name":"update_h","doc":"Generate the hash for update request (like during save)","summary":"<p>Generate the hash for update request (like during save)</p>","abstract":false,"args":[],"args_string":" : Hash(String, Clear::SQL::Any)","source_link":null,"source_link":null,"def":{"name":"update_h","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, ::Clear::SQL::Any)","visibility":"Public","body":"out = {} of String => ::Clear::SQL::Any\nif @table_catalog_column.defined? && @table_catalog_column.changed?\n  out[\"table_catalog\"] = Clear::Model::Converter::StringConverter.to_db(@table_catalog_column.value)\nend\nif @table_schema_column.defined? && @table_schema_column.changed?\n  out[\"table_schema\"] = Clear::Model::Converter::StringConverter.to_db(@table_schema_column.value)\nend\nif @table_name_column.defined? && @table_name_column.changed?\n  out[\"table_name\"] = Clear::Model::Converter::StringConverter.to_db(@table_name_column.value)\nend\nif @column_name_column.defined? && @column_name_column.changed?\n  out[\"column_name\"] = Clear::Model::Converter::StringConverter.to_db(@column_name_column.value)\nend\nout\n"}},{"id":"validate_fields_presence-instance-method","html_id":"validate_fields_presence-instance-method","name":"validate_fields_presence","doc":"For each column, ensure than when needed the column has present\ninformation into it.\nThis method is called on validation.","summary":"<p>For each column, ensure than when needed the column has present information into it.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"validate_fields_presence","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if persisted?\nelse\n  if @table_catalog_column.failed_to_be_present?\n    add_error(\"table_catalog\", \"must be present\")\n  end\nend\nif persisted?\nelse\n  if @table_schema_column.failed_to_be_present?\n    add_error(\"table_schema\", \"must be present\")\n  end\nend\nif persisted?\nelse\n  if @table_name_column.failed_to_be_present?\n    add_error(\"table_name\", \"must be present\")\n  end\nend\nif persisted?\nelse\n  if @column_name_column.failed_to_be_present?\n    add_error(\"column_name\", \"must be present\")\n  end\nend\n"}},{"id":"with_triggers(event_name,&block)-instance-method","html_id":"with_triggers(event_name,&amp;block)-instance-method","name":"with_triggers","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"args_string":"(event_name, &block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"with_triggers","args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"EVENTS_BEFORE[event_name]?.try(&.each(&.call(self)))\nyield\nEVENTS_AFTER[event_name]?.try(&.each(&.call(self)))\n"}}],"macros":[{"id":"after(event_name,method)-macro","html_id":"after(event_name,method)-macro","name":"after","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""},{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""}],"args_string":"(event_name, method)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"after","args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""},{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        after(:\"\n{{ event_name.id }}\n\")\n{ |mdl| mdl.as(Clear::Reflection::Column).\n{{ method }}\n  }\n      \n"}},{"id":"before(event_name,method)-macro","html_id":"before(event_name,method)-macro","name":"before","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""},{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""}],"args_string":"(event_name, method)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L4","def":{"name":"before","args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""},{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        before(:\"\n{{ event_name.id }}\n\")\n{ |mdl| mdl.as(Clear::Reflection::Column).\n{{ method }}\n  }\n      \n"}}],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Column/Collection","path":"Clear/Reflection/Column/Collection.html","kind":"class","full_name":"Clear::Reflection::Column::Collection","name":"Collection","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Model/CollectionBase","kind":"class","full_name":"Clear::Model::CollectionBase","name":"CollectionBase"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Model/CollectionBase","kind":"class","full_name":"Clear::Model::CollectionBase","name":"CollectionBase"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/CTE","kind":"module","full_name":"Clear::SQL::Query::CTE","name":"CTE"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/BeforeQuery","kind":"module","full_name":"Clear::SQL::Query::BeforeQuery","name":"BeforeQuery"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Fetch","kind":"module","full_name":"Clear::SQL::Query::Fetch","name":"Fetch"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Lock","kind":"module","full_name":"Clear::SQL::Query::Lock","name":"Lock"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OffsetLimit","kind":"module","full_name":"Clear::SQL::Query::OffsetLimit","name":"OffsetLimit"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/GroupBy","kind":"module","full_name":"Clear::SQL::Query::GroupBy","name":"GroupBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OrderBy","kind":"module","full_name":"Clear::SQL::Query::OrderBy","name":"OrderBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Join","kind":"module","full_name":"Clear::SQL::Query::Join","name":"Join"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/From","kind":"module","full_name":"Clear::SQL::Query::From","name":"From"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Select","kind":"module","full_name":"Clear::SQL::Query::Select","name":"Select"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/reflection/column.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr"},{"filename":"clear/model/reflection/column.cr","line_number":14,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Column","kind":"class","full_name":"Clear::Reflection::Column","name":"Column"},"doc":"Adding the eager loading","summary":"<p>Adding the eager loading</p>","class_methods":[],"constructors":[{"id":"new(cte={}ofString=>Clear::SQL::Query::CTE::CTEAuthorized,columns=[]ofSQL::Column,froms=[]ofSQL::From,joins=[]ofSQL::Join,wheres=[]ofClear::Expression::Node,havings=[]ofClear::Expression::Node,group_bys=[]ofSQL::Column,order_bys=[]ofString,limit=nil,offset=nil,lock=nil,tags={}ofString=>Clear::SQL::Any,before_query_triggers=[]of(->Void),cache=Clear::Model::QueryCache.new,cached_result=nil)-class-method","html_id":"new(cte={}ofString=&gt;Clear::SQL::Query::CTE::CTEAuthorized,columns=[]ofSQL::Column,froms=[]ofSQL::From,joins=[]ofSQL::Join,wheres=[]ofClear::Expression::Node,havings=[]ofClear::Expression::Node,group_bys=[]ofSQL::Column,order_bys=[]ofString,limit=nil,offset=nil,lock=nil,tags={}ofString=&gt;Clear::SQL::Any,before_query_triggers=[]of(-&gt;Void),cache=Clear::Model::QueryCache.new,cached_result=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"cte","doc":null,"default_value":"{} of String => Clear::SQL::Query::CTE::CTEAuthorized","external_name":"cte","restriction":""},{"name":"columns","doc":null,"default_value":"[] of SQL::Column","external_name":"columns","restriction":""},{"name":"froms","doc":null,"default_value":"[] of SQL::From","external_name":"froms","restriction":""},{"name":"joins","doc":null,"default_value":"[] of SQL::Join","external_name":"joins","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""},{"name":"havings","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"havings","restriction":""},{"name":"group_bys","doc":null,"default_value":"[] of SQL::Column","external_name":"group_bys","restriction":""},{"name":"order_bys","doc":null,"default_value":"[] of String","external_name":"order_bys","restriction":""},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":""},{"name":"offset","doc":null,"default_value":"nil","external_name":"offset","restriction":""},{"name":"lock","doc":null,"default_value":"nil","external_name":"lock","restriction":""},{"name":"tags","doc":null,"default_value":"{} of String => Clear::SQL::Any","external_name":"tags","restriction":""},{"name":"before_query_triggers","doc":null,"default_value":"[] of (-> Void)","external_name":"before_query_triggers","restriction":""},{"name":"cache","doc":null,"default_value":"Clear::Model::QueryCache.new","external_name":"cache","restriction":""},{"name":"cached_result","doc":null,"default_value":"nil","external_name":"cached_result","restriction":""}],"args_string":"(cte = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Query</span><span class=\"t\">::</span><span class=\"t\">CTE</span><span class=\"t\">::</span><span class=\"t\">CTEAuthorized</span>, columns = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Column</span>, froms = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">From</span>, joins = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Join</span>, wheres = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Expression</span><span class=\"t\">::</span><span class=\"t\">Node</span>, havings = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Expression</span><span class=\"t\">::</span><span class=\"t\">Node</span>, group_bys = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Column</span>, order_bys = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, limit = <span class=\"n\">nil</span>, offset = <span class=\"n\">nil</span>, lock = <span class=\"n\">nil</span>, tags = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Any</span>, before_query_triggers = <span class=\"o\">[]</span> <span class=\"k\">of</span> (-> <span class=\"t\">Void</span>), cache = <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Model</span><span class=\"t\">::</span><span class=\"t\">QueryCache</span>.<span class=\"k\">new</span>, cached_result = <span class=\"n\">nil</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L22","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L22","def":{"name":"new","args":[{"name":"cte","doc":null,"default_value":"{} of String => Clear::SQL::Query::CTE::CTEAuthorized","external_name":"cte","restriction":""},{"name":"columns","doc":null,"default_value":"[] of SQL::Column","external_name":"columns","restriction":""},{"name":"froms","doc":null,"default_value":"[] of SQL::From","external_name":"froms","restriction":""},{"name":"joins","doc":null,"default_value":"[] of SQL::Join","external_name":"joins","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""},{"name":"havings","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"havings","restriction":""},{"name":"group_bys","doc":null,"default_value":"[] of SQL::Column","external_name":"group_bys","restriction":""},{"name":"order_bys","doc":null,"default_value":"[] of String","external_name":"order_bys","restriction":""},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":""},{"name":"offset","doc":null,"default_value":"nil","external_name":"offset","restriction":""},{"name":"lock","doc":null,"default_value":"nil","external_name":"lock","restriction":""},{"name":"tags","doc":null,"default_value":"{} of String => Clear::SQL::Any","external_name":"tags","restriction":""},{"name":"before_query_triggers","doc":null,"default_value":"[] of (-> Void)","external_name":"before_query_triggers","restriction":""},{"name":"cache","doc":null,"default_value":"Clear::Model::QueryCache.new","external_name":"cache","restriction":""},{"name":"cached_result","doc":null,"default_value":"nil","external_name":"cached_result","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(cte, columns, froms, joins, wheres, havings, group_bys, order_bys, limit, offset, lock, tags, before_query_triggers, cache, cached_result)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"with_table(fetch_columns=false,&block:Clear::Reflection::Table::Collection->):self-instance-method","html_id":"with_table(fetch_columns=false,&amp;block:Clear::Reflection::Table::Collection-&gt;):self-instance-method","name":"with_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"args_string":"(fetch_columns = <span class=\"n\">false</span>, &block : Clear::Reflection::Table::Collection -> ) : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L14","def":{"name":"with_table","args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Clear::Reflection::Table::Collection -> )"},"return_type":"self","visibility":"Public","body":"before_query do\n  sub_query = self.dup.clear_select.select(\"table_name\")\n  cached_qry = Clear::Reflection::Table.query.where do\n    (raw(Clear::Reflection::Table.pkey)).in?(sub_query)\n  end\n  block.call(cached_qry)\n  @cache.active(\"table\")\n  cached_qry.each(fetch_columns: fetch_columns) do |mdl|\n    @cache.set(\"table\", mdl.pkey, [mdl])\n  end\nend\nself\n"}},{"id":"with_table(fetch_columns=false):self-instance-method","html_id":"with_table(fetch_columns=false):self-instance-method","name":"with_table","doc":null,"summary":null,"abstract":false,"args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"args_string":"(fetch_columns = <span class=\"n\">false</span>) : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr#L14","def":{"name":"with_table","args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"with_table(fetch_columns) do\nend\nself\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Column/HookFunction","path":"Clear/Reflection/Column/HookFunction.html","kind":"alias","full_name":"Clear::Reflection::Column::HookFunction","name":"HookFunction","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/reflection/column.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/column.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"Proc(Clear::Reflection::Column, Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Column","kind":"class","full_name":"Clear::Reflection::Column","name":"Column"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Table","path":"Clear/Reflection/Table.html","kind":"class","full_name":"Clear::Reflection::Table","name":"Table","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"},{"html_id":"github.com/anykeyh/clear/Clear/Model/ClassMethods","kind":"module","full_name":"Clear::Model::ClassMethods","name":"ClassMethods"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasScope","kind":"module","full_name":"Clear::Model::HasScope","name":"HasScope"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasRelations","kind":"module","full_name":"Clear::Model::HasRelations","name":"HasRelations"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasValidation","kind":"module","full_name":"Clear::Model::HasValidation","name":"HasValidation"},{"html_id":"github.com/anykeyh/clear/Clear/Validation/Helper","kind":"module","full_name":"Clear::Validation::Helper","name":"Helper"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasSaving","kind":"module","full_name":"Clear::Model::HasSaving","name":"HasSaving"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasSerialPkey","kind":"module","full_name":"Clear::Model::HasSerialPkey","name":"HasSerialPkey"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasTimestamps","kind":"module","full_name":"Clear::Model::HasTimestamps","name":"HasTimestamps"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasHooks","kind":"module","full_name":"Clear::Model::HasHooks","name":"HasHooks"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasColumns","kind":"module","full_name":"Clear::Model::HasColumns","name":"HasColumns"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/reflection/table.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"COLUMNS","value":"{table_catalog => {type: String, primary: false, converter: Clear::Model::Converter::StringConverter, column_name: \"table_catalog\", presence: true}, table_schema => {type: String, primary: false, converter: Clear::Model::Converter::StringConverter, column_name: \"table_schema\", presence: true}, table_name => {type: String, primary: true, converter: Clear::Model::Converter::StringConverter, column_name: \"table_name\", presence: true}, table_type => {type: String, primary: false, converter: Clear::Model::Converter::StringConverter, column_name: \"table_type\", presence: true}} of Nil => Nil","doc":null,"summary":null},{"name":"EVENTS_AFTER","value":"{} of Symbol => Array(HookFunction)","doc":null,"summary":null},{"name":"EVENTS_BEFORE","value":"{} of Symbol => Array(HookFunction)","doc":null,"summary":null}],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/Model","kind":"module","full_name":"Clear::Model","name":"Model"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Reflection","kind":"module","full_name":"Clear::Reflection","name":"Reflection"},"doc":"Reflection of the tables using information_schema in postgreSQL.\nTODO: Usage of view instead of model","summary":"<p>Reflection of the tables using information_schema in postgreSQL.</p>","class_methods":[{"id":"after(event_name,&block:HookFunction)-class-method","html_id":"after(event_name,&amp;block:HookFunction)-class-method","name":"after","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"args_string":"(event_name, &block : HookFunction)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"after","args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"HookFunction"},"return_type":"","visibility":"Public","body":"if EVENTS_AFTER[event_name]?\nelse\n  EVENTS_AFTER[event_name] = [] of HookFunction\nend\nEVENTS_AFTER[event_name] << block\n"}},{"id":"before(event_name,&block:HookFunction)-class-method","html_id":"before(event_name,&amp;block:HookFunction)-class-method","name":"before","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"args_string":"(event_name, &block : HookFunction)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"before","args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"HookFunction"},"return_type":"","visibility":"Public","body":"if EVENTS_BEFORE[event_name]?\nelse\n  EVENTS_BEFORE[event_name] = [] of HookFunction\nend\nEVENTS_BEFORE[event_name] << block\n"}},{"id":"columns-class-method","html_id":"columns-class-method","name":"columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@columns"}},{"id":"create(x:Array(NamedTuple)):Array(self)-class-method","html_id":"create(x:Array(NamedTuple)):Array(self)-class-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Array(NamedTuple)"}],"args_string":"(x : Array(NamedTuple)) : Array(self)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"create","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Array(NamedTuple)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(self)","visibility":"Public","body":"x.map do |elm|\n  create(elm)\nend"}},{"id":"create!(x:Array(NamedTuple)):Array(self)-class-method","html_id":"create!(x:Array(NamedTuple)):Array(self)-class-method","name":"create!","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Array(NamedTuple)"}],"args_string":"(x : Array(NamedTuple)) : Array(self)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"create!","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Array(NamedTuple)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(self)","visibility":"Public","body":"x.map do |elm|\n  create!(elm)\nend"}},{"id":"find(x)-class-method","html_id":"find(x)-class-method","name":"find","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"find","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query.where do\n  (raw(pkey)) == x\nend.first"}},{"id":"find!(x)-class-method","html_id":"find!(x)-class-method","name":"find!","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"find!","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(find(x)).not_nil!"}},{"id":"pkey:String-class-method","html_id":"pkey:String-class-method","name":"pkey","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"pkey","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@@pkey"}},{"id":"pkey=(pkey:String)-class-method","html_id":"pkey=(pkey:String)-class-method","name":"pkey=","doc":null,"summary":null,"abstract":false,"args":[{"name":"pkey","doc":null,"default_value":"","external_name":"pkey","restriction":"String"}],"args_string":"(pkey : String)","source_link":null,"source_link":null,"def":{"name":"pkey=","args":[{"name":"pkey","doc":null,"default_value":"","external_name":"pkey","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@pkey = pkey"}},{"id":"public-class-method","html_id":"public-class-method","name":"public","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L14","def":{"name":"public","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query.public"}},{"id":"query-class-method","html_id":"query-class-method","name":"query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Collection.new.from(table)"}},{"id":"read_only=(read_only:Bool)-class-method","html_id":"read_only=(read_only:Bool)-class-method","name":"read_only=","doc":null,"summary":null,"abstract":false,"args":[{"name":"read_only","doc":null,"default_value":"","external_name":"read_only","restriction":"Bool"}],"args_string":"(read_only : Bool)","source_link":null,"source_link":null,"def":{"name":"read_only=","args":[{"name":"read_only","doc":null,"default_value":"","external_name":"read_only","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@read_only = read_only"}},{"id":"read_only?:Bool-class-method","html_id":"read_only?:Bool-class-method","name":"read_only?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"read_only?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@@read_only"}},{"id":"table:Clear::SQL::Symbolic-class-method","html_id":"table:Clear::SQL::Symbolic-class-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::SQL::Symbolic","source_link":null,"source_link":null,"def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::SQL::Symbolic","visibility":"Public","body":"@@table"}},{"id":"table=(table:Clear::SQL::Symbolic)-class-method","html_id":"table=(table:Clear::SQL::Symbolic)-class-method","name":"table=","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"Clear::SQL::Symbolic"}],"args_string":"(table : Clear::SQL::Symbolic)","source_link":null,"source_link":null,"def":{"name":"table=","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"Clear::SQL::Symbolic"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@table = table"}},{"id":"tables_only-class-method","html_id":"tables_only-class-method","name":"tables_only","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L16","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L16","def":{"name":"tables_only","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query.tables_only"}},{"id":"views_only-class-method","html_id":"views_only-class-method","name":"views_only","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L17","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L17","def":{"name":"views_only","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"query.views_only"}}],"constructors":[{"id":"create:self-class-method","html_id":"create:self-class-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"create","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"mdl = self.new\nmdl.save\nmdl\n"}},{"id":"create(x:NamedTuple):self-class-method","html_id":"create(x:NamedTuple):self-class-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"args_string":"(x : NamedTuple) : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"create","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"mdl = self.new(x)\nmdl.save\nmdl\n"}},{"id":"create!(x:NamedTuple):self-class-method","html_id":"create!(x:NamedTuple):self-class-method","name":"create!","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"args_string":"(x : NamedTuple) : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"create!","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"mdl = self.new(x)\nmdl.save!\nmdl\n"}},{"id":"create!:self-class-method","html_id":"create!:self-class-method","name":"create!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"create!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"mdl = self.new\nmdl.save!\nmdl\n"}},{"id":"new(persisted=false)-class-method","html_id":"new(persisted=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""}],"args_string":"(persisted = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"new","args":[{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(persisted)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(t:NamedTuple,persisted=false)-class-method","html_id":"new(t:NamedTuple,persisted=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"t","doc":null,"default_value":"","external_name":"t","restriction":"NamedTuple"},{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""}],"args_string":"(t : NamedTuple, persisted = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"new","args":[{"name":"t","doc":null,"default_value":"","external_name":"t","restriction":"NamedTuple"},{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(t, persisted)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(h:Hash(String,Clear::SQL::Any),cache:Clear::Model::QueryCache?=nil,persisted=false,fetch_columns=false)-class-method","html_id":"new(h:Hash(String,Clear::SQL::Any),cache:Clear::Model::QueryCache?=nil,persisted=false,fetch_columns=false)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(String, ::Clear::SQL::Any)"},{"name":"cache","doc":null,"default_value":"nil","external_name":"cache","restriction":"Clear::Model::QueryCache | ::Nil"},{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""},{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"args_string":"(h : Hash(String, Clear::SQL::Any), cache : Clear::Model::QueryCache? = <span class=\"n\">nil</span>, persisted = <span class=\"n\">false</span>, fetch_columns = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"new","args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(String, ::Clear::SQL::Any)"},{"name":"cache","doc":null,"default_value":"nil","external_name":"cache","restriction":"Clear::Model::QueryCache | ::Nil"},{"name":"persisted","doc":null,"default_value":"false","external_name":"persisted","restriction":""},{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(h, cache, persisted, fetch_columns)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"attributes:Hash(String,Clear::SQL::Any)-instance-method","html_id":"attributes:Hash(String,Clear::SQL::Any)-instance-method","name":"attributes","doc":"Attributes, used if fetch_columns is true","summary":"<p>Attributes, used if fetch_columns is true</p>","abstract":false,"args":[],"args_string":" : Hash(String, Clear::SQL::Any)","source_link":null,"source_link":null,"def":{"name":"attributes","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, ::Clear::SQL::Any)","visibility":"Public","body":"@attributes"}},{"id":"cache:Clear::Model::QueryCache?-instance-method","html_id":"cache:Clear::Model::QueryCache?-instance-method","name":"cache","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::QueryCache?","source_link":null,"source_link":null,"def":{"name":"cache","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::QueryCache | ::Nil","visibility":"Public","body":"@cache"}},{"id":"changed?-instance-method","html_id":"changed?-instance-method","name":"changed?","doc":"Return `true` if the model is dirty (e.g. one or more fields\n  have been changed.). Return `false` otherwise.","summary":"<p>Return <code>true</code> if the model is dirty (e.g.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"changed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @table_catalog_column.changed?\n  return true\nend\nif @table_schema_column.changed?\n  return true\nend\nif @table_name_column.changed?\n  return true\nend\nif @table_type_column.changed?\n  return true\nend\nreturn false\n"}},{"id":"clear_change_flags-instance-method","html_id":"clear_change_flags-instance-method","name":"clear_change_flags","doc":"Reset the `changed?` flag on all columns\n\nThe model behave like its not dirty anymore\nand call to save would apply no changes.","summary":"<p>Reset the <code><a href=\"../../Clear/Reflection/Table.html#changed%3F-instance-method\">#changed?</a></code> flag on all columns</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"clear_change_flags","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_catalog_column.clear_change_flag\n@table_schema_column.clear_change_flag\n@table_name_column.clear_change_flag\n@table_type_column.clear_change_flag\n"}},{"id":"columns:Clear::Reflection::Column::Collection-instance-method","html_id":"columns:Clear::Reflection::Column::Collection-instance-method","name":"columns","doc":"The method columns is a `has_many` relation\n  to Clear::Reflection::Column","summary":"<p>The method columns is a <code>has_many</code> relation   to Clear::Reflection::Column</p>","abstract":false,"args":[],"args_string":" : Clear::Reflection::Column::Collection","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L19","def":{"name":"columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Reflection::Column::Collection","visibility":"Public","body":"__temp_45 = table_name\n__temp_46 = \"table_name\" || (self.class.table.to_s.singularize + \"_id\")\ncache = @cache\nif cache && (cache.active?(\"columns\"))\n  arr = cache.hit(\"columns\", __temp_45, Clear::Reflection::Column)\n  (Clear::Reflection::Column.query.tags({\"#{__temp_46}\" => \"#{__temp_45}\"})).where do\n    (raw(__temp_46)) == __temp_45\n  end.with_cached_result(arr)\nelse\n  (Clear::Reflection::Column.query.tags({\"#{__temp_46}\" => \"#{__temp_45}\"})).where do\n    (raw(__temp_46)) == __temp_45\n  end\nend\n"}},{"id":"indexes:Hash(String,Array(String))-instance-method","html_id":"indexes:Hash(String,Array(String))-instance-method","name":"indexes","doc":"List all the indexes related to the current table.\nreturn an hash where the key is the name of the column\nand the value is an array containing all the indexes related to this specific\nfield.","summary":"<p>List all the indexes related to the current table.</p>","abstract":false,"args":[],"args_string":" : Hash(String, Array(String))","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L25","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L25","def":{"name":"indexes","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, Array(String))","visibility":"Public","body":"o = {} of String => Array(String)\n(((SQL.select({index_name: \"i.relname\", column_name: \"a.attname\"})).from({t: \"pg_class\", i: \"pg_class\", ix: \"pg_index\", a: \"pg_attribute\"})).where do\n  (((((t.oid == ix.indrelid) & (i.oid == ix.indexrelid)) & (a.attrelid == t.oid)) & (a.attnum == (raw(\"ANY(ix.indkey)\")))) & (t.relkind == \"r\")) & (t.relname == self.table_name)\nend.order_by(\"t.relname\", \"i.relname\")).fetch do |h|\n  col = h[\"column_name\"].to_s\n  v = h[\"index_name\"].to_s\n  arr = o[col]? ? o[col] : (  o[col] = [] of String)\n  arr << v\nend\nreturn o\n"}},{"id":"pkey-instance-method","html_id":"pkey-instance-method","name":"pkey","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"pkey","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_name_column.value"}},{"id":"set(h:Hash(String,Clear::SQL::Any))-instance-method","html_id":"set(h:Hash(String,Clear::SQL::Any))-instance-method","name":"set","doc":"Set the model fields from hash","summary":"<p>Set the model fields from hash</p>","abstract":false,"args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(String, ::Clear::SQL::Any)"}],"args_string":"(h : Hash(String, Clear::SQL::Any))","source_link":null,"source_link":null,"def":{"name":"set","args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(String, ::Clear::SQL::Any)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if h.has_key?(\"table_catalog\")\n  @table_catalog_column.reset(Clear::Model::Converter::StringConverter.to_column(h[\"table_catalog\"]))\nend\nif h.has_key?(\"table_schema\")\n  @table_schema_column.reset(Clear::Model::Converter::StringConverter.to_column(h[\"table_schema\"]))\nend\nif h.has_key?(\"table_name\")\n  @table_name_column.reset(Clear::Model::Converter::StringConverter.to_column(h[\"table_name\"]))\nend\nif h.has_key?(\"table_type\")\n  @table_type_column.reset(Clear::Model::Converter::StringConverter.to_column(h[\"table_type\"]))\nend\n"}},{"id":"set(h:Hash(Symbol,Clear::SQL::Any))-instance-method","html_id":"set(h:Hash(Symbol,Clear::SQL::Any))-instance-method","name":"set","doc":"Set the columns from hash","summary":"<p>Set the columns from hash</p>","abstract":false,"args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(Symbol, ::Clear::SQL::Any)"}],"args_string":"(h : Hash(Symbol, Clear::SQL::Any))","source_link":null,"source_link":null,"def":{"name":"set","args":[{"name":"h","doc":null,"default_value":"","external_name":"h","restriction":"Hash(Symbol, ::Clear::SQL::Any)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"v = h.fetch(:table_catalog) do\n  Column::UNKNOWN\nend\nif v.is_a?(Column::UnknownClass)\nelse\n  @table_catalog_column.reset(Clear::Model::Converter::StringConverter.to_column(v))\nend\nv = h.fetch(:table_schema) do\n  Column::UNKNOWN\nend\nif v.is_a?(Column::UnknownClass)\nelse\n  @table_schema_column.reset(Clear::Model::Converter::StringConverter.to_column(v))\nend\nv = h.fetch(:table_name) do\n  Column::UNKNOWN\nend\nif v.is_a?(Column::UnknownClass)\nelse\n  @table_name_column.reset(Clear::Model::Converter::StringConverter.to_column(v))\nend\nv = h.fetch(:table_type) do\n  Column::UNKNOWN\nend\nif v.is_a?(Column::UnknownClass)\nelse\n  @table_type_column.reset(Clear::Model::Converter::StringConverter.to_column(v))\nend\n"}},{"id":"set(t:NamedTuple)-instance-method","html_id":"set(t:NamedTuple)-instance-method","name":"set","doc":null,"summary":null,"abstract":false,"args":[{"name":"t","doc":null,"default_value":"","external_name":"t","restriction":"NamedTuple"}],"args_string":"(t : NamedTuple)","source_link":null,"source_link":null,"def":{"name":"set","args":[{"name":"t","doc":null,"default_value":"","external_name":"t","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"set(t.to_h)"}},{"id":"table_catalog:String-instance-method","html_id":"table_catalog:String-instance-method","name":"table_catalog","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"table_catalog","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table_catalog_column.value"}},{"id":"table_catalog=(x:String)-instance-method","html_id":"table_catalog=(x:String)-instance-method","name":"table_catalog=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"args_string":"(x : String)","source_link":null,"source_link":null,"def":{"name":"table_catalog=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_catalog_column.value = x"}},{"id":"table_catalog_column:Clear::Model::Column(String)-instance-method","html_id":"table_catalog_column:Clear::Model::Column(String)-instance-method","name":"table_catalog_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::Column(String)","source_link":null,"source_link":null,"def":{"name":"table_catalog_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::Column(String)","visibility":"Public","body":"@table_catalog_column"}},{"id":"table_name:String-instance-method","html_id":"table_name:String-instance-method","name":"table_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"table_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table_name_column.value"}},{"id":"table_name=(x:String)-instance-method","html_id":"table_name=(x:String)-instance-method","name":"table_name=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"args_string":"(x : String)","source_link":null,"source_link":null,"def":{"name":"table_name=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_name_column.value = x"}},{"id":"table_name_column:Clear::Model::Column(String)-instance-method","html_id":"table_name_column:Clear::Model::Column(String)-instance-method","name":"table_name_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::Column(String)","source_link":null,"source_link":null,"def":{"name":"table_name_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::Column(String)","visibility":"Public","body":"@table_name_column"}},{"id":"table_schema:String-instance-method","html_id":"table_schema:String-instance-method","name":"table_schema","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"table_schema","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table_schema_column.value"}},{"id":"table_schema=(x:String)-instance-method","html_id":"table_schema=(x:String)-instance-method","name":"table_schema=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"args_string":"(x : String)","source_link":null,"source_link":null,"def":{"name":"table_schema=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_schema_column.value = x"}},{"id":"table_schema_column:Clear::Model::Column(String)-instance-method","html_id":"table_schema_column:Clear::Model::Column(String)-instance-method","name":"table_schema_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::Column(String)","source_link":null,"source_link":null,"def":{"name":"table_schema_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::Column(String)","visibility":"Public","body":"@table_schema_column"}},{"id":"table_type:String-instance-method","html_id":"table_type:String-instance-method","name":"table_type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":null,"source_link":null,"def":{"name":"table_type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@table_type_column.value"}},{"id":"table_type=(x:String)-instance-method","html_id":"table_type=(x:String)-instance-method","name":"table_type=","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"args_string":"(x : String)","source_link":null,"source_link":null,"def":{"name":"table_type=","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@table_type_column.value = x"}},{"id":"table_type_column:Clear::Model::Column(String)-instance-method","html_id":"table_type_column:Clear::Model::Column(String)-instance-method","name":"table_type_column","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Model::Column(String)","source_link":null,"source_link":null,"def":{"name":"table_type_column","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Model::Column(String)","visibility":"Public","body":"@table_type_column"}},{"id":"to_h:Hash(String,Clear::SQL::Any)-instance-method","html_id":"to_h:Hash(String,Clear::SQL::Any)-instance-method","name":"to_h","doc":"Return a hash version of the columns of this model.","summary":"<p>Return a hash version of the columns of this model.</p>","abstract":false,"args":[],"args_string":" : Hash(String, Clear::SQL::Any)","source_link":null,"source_link":null,"def":{"name":"to_h","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, ::Clear::SQL::Any)","visibility":"Public","body":"out = {} of String => ::Clear::SQL::Any\nif @table_catalog_column.defined?\n  out[\"table_catalog\"] = Clear::Model::Converter::StringConverter.to_db(@table_catalog_column.value(nil))\nend\nif @table_schema_column.defined?\n  out[\"table_schema\"] = Clear::Model::Converter::StringConverter.to_db(@table_schema_column.value(nil))\nend\nif @table_name_column.defined?\n  out[\"table_name\"] = Clear::Model::Converter::StringConverter.to_db(@table_name_column.value(nil))\nend\nif @table_type_column.defined?\n  out[\"table_type\"] = Clear::Model::Converter::StringConverter.to_db(@table_type_column.value(nil))\nend\nout\n"}},{"id":"update_h:Hash(String,Clear::SQL::Any)-instance-method","html_id":"update_h:Hash(String,Clear::SQL::Any)-instance-method","name":"update_h","doc":"Generate the hash for update request (like during save)","summary":"<p>Generate the hash for update request (like during save)</p>","abstract":false,"args":[],"args_string":" : Hash(String, Clear::SQL::Any)","source_link":null,"source_link":null,"def":{"name":"update_h","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, ::Clear::SQL::Any)","visibility":"Public","body":"out = {} of String => ::Clear::SQL::Any\nif @table_catalog_column.defined? && @table_catalog_column.changed?\n  out[\"table_catalog\"] = Clear::Model::Converter::StringConverter.to_db(@table_catalog_column.value)\nend\nif @table_schema_column.defined? && @table_schema_column.changed?\n  out[\"table_schema\"] = Clear::Model::Converter::StringConverter.to_db(@table_schema_column.value)\nend\nif @table_name_column.defined? && @table_name_column.changed?\n  out[\"table_name\"] = Clear::Model::Converter::StringConverter.to_db(@table_name_column.value)\nend\nif @table_type_column.defined? && @table_type_column.changed?\n  out[\"table_type\"] = Clear::Model::Converter::StringConverter.to_db(@table_type_column.value)\nend\nout\n"}},{"id":"validate_fields_presence-instance-method","html_id":"validate_fields_presence-instance-method","name":"validate_fields_presence","doc":"For each column, ensure than when needed the column has present\ninformation into it.\nThis method is called on validation.","summary":"<p>For each column, ensure than when needed the column has present information into it.</p>","abstract":false,"args":[],"args_string":"","source_link":null,"source_link":null,"def":{"name":"validate_fields_presence","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if persisted?\nelse\n  if @table_catalog_column.failed_to_be_present?\n    add_error(\"table_catalog\", \"must be present\")\n  end\nend\nif persisted?\nelse\n  if @table_schema_column.failed_to_be_present?\n    add_error(\"table_schema\", \"must be present\")\n  end\nend\nif persisted?\nelse\n  if @table_name_column.failed_to_be_present?\n    add_error(\"table_name\", \"must be present\")\n  end\nend\nif persisted?\nelse\n  if @table_type_column.failed_to_be_present?\n    add_error(\"table_type\", \"must be present\")\n  end\nend\n"}},{"id":"with_triggers(event_name,&block)-instance-method","html_id":"with_triggers(event_name,&amp;block)-instance-method","name":"with_triggers","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"args_string":"(event_name, &block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"with_triggers","args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"EVENTS_BEFORE[event_name]?.try(&.each(&.call(self)))\nyield\nEVENTS_AFTER[event_name]?.try(&.each(&.call(self)))\n"}}],"macros":[{"id":"after(event_name,method)-macro","html_id":"after(event_name,method)-macro","name":"after","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""},{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""}],"args_string":"(event_name, method)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"after","args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""},{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        after(:\"\n{{ event_name.id }}\n\")\n{ |mdl| mdl.as(Clear::Reflection::Table).\n{{ method }}\n  }\n      \n"}},{"id":"before(event_name,method)-macro","html_id":"before(event_name,method)-macro","name":"before","doc":null,"summary":null,"abstract":false,"args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""},{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""}],"args_string":"(event_name, method)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L4","def":{"name":"before","args":[{"name":"event_name","doc":null,"default_value":"","external_name":"event_name","restriction":""},{"name":"method","doc":null,"default_value":"","external_name":"method","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"        before(:\"\n{{ event_name.id }}\n\")\n{ |mdl| mdl.as(Clear::Reflection::Table).\n{{ method }}\n  }\n      \n"}}],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Table/Collection","path":"Clear/Reflection/Table/Collection.html","kind":"class","full_name":"Clear::Reflection::Table::Collection","name":"Collection","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/Model/CollectionBase","kind":"class","full_name":"Clear::Model::CollectionBase","name":"CollectionBase"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Model/CollectionBase","kind":"class","full_name":"Clear::Model::CollectionBase","name":"CollectionBase"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/CTE","kind":"module","full_name":"Clear::SQL::Query::CTE","name":"CTE"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/BeforeQuery","kind":"module","full_name":"Clear::SQL::Query::BeforeQuery","name":"BeforeQuery"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Fetch","kind":"module","full_name":"Clear::SQL::Query::Fetch","name":"Fetch"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Lock","kind":"module","full_name":"Clear::SQL::Query::Lock","name":"Lock"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OffsetLimit","kind":"module","full_name":"Clear::SQL::Query::OffsetLimit","name":"OffsetLimit"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/GroupBy","kind":"module","full_name":"Clear::SQL::Query::GroupBy","name":"GroupBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OrderBy","kind":"module","full_name":"Clear::SQL::Query::OrderBy","name":"OrderBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Join","kind":"module","full_name":"Clear::SQL::Query::Join","name":"Join"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/From","kind":"module","full_name":"Clear::SQL::Query::From","name":"From"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Select","kind":"module","full_name":"Clear::SQL::Query::Select","name":"Select"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/model/reflection/table.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr"},{"filename":"clear/model/reflection/table.cr","line_number":14,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr"},{"filename":"clear/model/reflection/table.cr","line_number":16,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr"},{"filename":"clear/model/reflection/table.cr","line_number":17,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr"},{"filename":"clear/model/reflection/table.cr","line_number":19,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Table","kind":"class","full_name":"Clear::Reflection::Table","name":"Table"},"doc":"Addition of the method for eager loading and N+1 avoidance.","summary":"<p>Addition of the method for eager loading and N+1 avoidance.</p>","class_methods":[],"constructors":[{"id":"new(cte={}ofString=>Clear::SQL::Query::CTE::CTEAuthorized,columns=[]ofSQL::Column,froms=[]ofSQL::From,joins=[]ofSQL::Join,wheres=[]ofClear::Expression::Node,havings=[]ofClear::Expression::Node,group_bys=[]ofSQL::Column,order_bys=[]ofString,limit=nil,offset=nil,lock=nil,tags={}ofString=>Clear::SQL::Any,before_query_triggers=[]of(->Void),cache=Clear::Model::QueryCache.new,cached_result=nil)-class-method","html_id":"new(cte={}ofString=&gt;Clear::SQL::Query::CTE::CTEAuthorized,columns=[]ofSQL::Column,froms=[]ofSQL::From,joins=[]ofSQL::Join,wheres=[]ofClear::Expression::Node,havings=[]ofClear::Expression::Node,group_bys=[]ofSQL::Column,order_bys=[]ofString,limit=nil,offset=nil,lock=nil,tags={}ofString=&gt;Clear::SQL::Any,before_query_triggers=[]of(-&gt;Void),cache=Clear::Model::QueryCache.new,cached_result=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"cte","doc":null,"default_value":"{} of String => Clear::SQL::Query::CTE::CTEAuthorized","external_name":"cte","restriction":""},{"name":"columns","doc":null,"default_value":"[] of SQL::Column","external_name":"columns","restriction":""},{"name":"froms","doc":null,"default_value":"[] of SQL::From","external_name":"froms","restriction":""},{"name":"joins","doc":null,"default_value":"[] of SQL::Join","external_name":"joins","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""},{"name":"havings","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"havings","restriction":""},{"name":"group_bys","doc":null,"default_value":"[] of SQL::Column","external_name":"group_bys","restriction":""},{"name":"order_bys","doc":null,"default_value":"[] of String","external_name":"order_bys","restriction":""},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":""},{"name":"offset","doc":null,"default_value":"nil","external_name":"offset","restriction":""},{"name":"lock","doc":null,"default_value":"nil","external_name":"lock","restriction":""},{"name":"tags","doc":null,"default_value":"{} of String => Clear::SQL::Any","external_name":"tags","restriction":""},{"name":"before_query_triggers","doc":null,"default_value":"[] of (-> Void)","external_name":"before_query_triggers","restriction":""},{"name":"cache","doc":null,"default_value":"Clear::Model::QueryCache.new","external_name":"cache","restriction":""},{"name":"cached_result","doc":null,"default_value":"nil","external_name":"cached_result","restriction":""}],"args_string":"(cte = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Query</span><span class=\"t\">::</span><span class=\"t\">CTE</span><span class=\"t\">::</span><span class=\"t\">CTEAuthorized</span>, columns = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Column</span>, froms = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">From</span>, joins = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Join</span>, wheres = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Expression</span><span class=\"t\">::</span><span class=\"t\">Node</span>, havings = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Expression</span><span class=\"t\">::</span><span class=\"t\">Node</span>, group_bys = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Column</span>, order_bys = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, limit = <span class=\"n\">nil</span>, offset = <span class=\"n\">nil</span>, lock = <span class=\"n\">nil</span>, tags = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Any</span>, before_query_triggers = <span class=\"o\">[]</span> <span class=\"k\">of</span> (-> <span class=\"t\">Void</span>), cache = <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Model</span><span class=\"t\">::</span><span class=\"t\">QueryCache</span>.<span class=\"k\">new</span>, cached_result = <span class=\"n\">nil</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L22","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/collection.cr#L22","def":{"name":"new","args":[{"name":"cte","doc":null,"default_value":"{} of String => Clear::SQL::Query::CTE::CTEAuthorized","external_name":"cte","restriction":""},{"name":"columns","doc":null,"default_value":"[] of SQL::Column","external_name":"columns","restriction":""},{"name":"froms","doc":null,"default_value":"[] of SQL::From","external_name":"froms","restriction":""},{"name":"joins","doc":null,"default_value":"[] of SQL::Join","external_name":"joins","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""},{"name":"havings","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"havings","restriction":""},{"name":"group_bys","doc":null,"default_value":"[] of SQL::Column","external_name":"group_bys","restriction":""},{"name":"order_bys","doc":null,"default_value":"[] of String","external_name":"order_bys","restriction":""},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":""},{"name":"offset","doc":null,"default_value":"nil","external_name":"offset","restriction":""},{"name":"lock","doc":null,"default_value":"nil","external_name":"lock","restriction":""},{"name":"tags","doc":null,"default_value":"{} of String => Clear::SQL::Any","external_name":"tags","restriction":""},{"name":"before_query_triggers","doc":null,"default_value":"[] of (-> Void)","external_name":"before_query_triggers","restriction":""},{"name":"cache","doc":null,"default_value":"Clear::Model::QueryCache.new","external_name":"cache","restriction":""},{"name":"cached_result","doc":null,"default_value":"nil","external_name":"cached_result","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(cte, columns, froms, joins, wheres, havings, group_bys, order_bys, limit, offset, lock, tags, before_query_triggers, cache, cached_result)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"public-instance-method","html_id":"public-instance-method","name":"public","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L14","def":{"name":"public","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  where do\n    table_schema == \"public\"\n  end\nend"}},{"id":"tables_only-instance-method","html_id":"tables_only-instance-method","name":"tables_only","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L16","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L16","def":{"name":"tables_only","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  where do\n    table_type == \"BASE TABLE\"\n  end\nend"}},{"id":"views_only-instance-method","html_id":"views_only-instance-method","name":"views_only","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L17","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L17","def":{"name":"views_only","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  where do\n    table_type == \"VIEW\"\n  end\nend"}},{"id":"with_columns(fetch_columns=false,&block:Clear::Reflection::Column::Collection->):self-instance-method","html_id":"with_columns(fetch_columns=false,&amp;block:Clear::Reflection::Column::Collection-&gt;):self-instance-method","name":"with_columns","doc":"Eager load the relation columns.\nUse it to avoid N+1 queries.","summary":"<p>Eager load the relation columns.</p>","abstract":false,"args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"args_string":"(fetch_columns = <span class=\"n\">false</span>, &block : Clear::Reflection::Column::Collection -> ) : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L19","def":{"name":"with_columns","args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Clear::Reflection::Column::Collection -> )"},"return_type":"self","visibility":"Public","body":"before_query do\n  __temp_45 = table_name\n  __temp_46 = \"table_name\" || (Clear::Reflection::Table.table.to_s.singularize + \"_id\")\n  sub_query = self.dup.clear_select.select(\"#{__temp_45}\")\n  qry = Clear::Reflection::Column.query.where do\n    (raw(__temp_46)).in?(sub_query)\n  end\n  block.call(qry)\n  @cache.active(\"columns\")\n  h = {} of Clear::SQL::Any => Array(Clear::Reflection::Column)\n  qry.each(fetch_columns: true) do |mdl|\n    if h[mdl.attributes[__temp_46]]?\n    else\n      h[mdl.attributes[__temp_46]] = [] of Clear::Reflection::Column\n    end\n    h[mdl.attributes[__temp_46]] << mdl\n  end\n  h.each do |key, value|\n    @cache.set(\"columns\", key, value)\n  end\nend\nself\n"}},{"id":"with_columns(fetch_columns=false)-instance-method","html_id":"with_columns(fetch_columns=false)-instance-method","name":"with_columns","doc":null,"summary":null,"abstract":false,"args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"args_string":"(fetch_columns = <span class=\"n\">false</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr#L19","def":{"name":"with_columns","args":[{"name":"fetch_columns","doc":null,"default_value":"false","external_name":"fetch_columns","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"with_columns(fetch_columns) do |q|\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Table/HookFunction","path":"Clear/Reflection/Table/HookFunction.html","kind":"alias","full_name":"Clear::Reflection::Table::HookFunction","name":"HookFunction","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/reflection/table.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/reflection/table.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"Proc(Clear::Reflection::Table, Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Reflection/Table","kind":"class","full_name":"Clear::Reflection::Table","name":"Table"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]}]},{"html_id":"github.com/anykeyh/clear/Clear/SQL","path":"Clear/SQL.html","kind":"module","full_name":"Clear::SQL","name":"SQL","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Logger","kind":"module","full_name":"Clear::SQL::Logger","name":"Logger"}],"locations":[{"filename":"clear/sql/query/before_query.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/before_query.cr"},{"filename":"clear/sql/query/from.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/from.cr"},{"filename":"clear/sql/errors.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/errors.cr"},{"filename":"clear/sql/sql.cr","line_number":40,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr"},{"filename":"clear/sql/fragment/fragment.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/fragment.cr"},{"filename":"clear/sql/fragment/column.cr","line_number":9,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr"},{"filename":"clear/sql/fragment/from.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr"},{"filename":"clear/sql/fragment/join.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Logger","kind":"module","full_name":"Clear::SQL::Logger","name":"Logger"}],"extended_modules":[{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"}],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear","kind":"module","full_name":"Clear","name":"Clear"},"doc":"\n## Clear::SQL\n\nClear is made like an onion:\n\n```text\n+------------------------------------+\n|           THE ORM STACK            +\n+------------------------------------+\n|  Model | DB Views | Migrations     | < High Level Tools\n+---------------+--------------------+\n|  Field | Validation | Converters   | < Mapping system\n+---------------+--------------------+\n|  Clear::SQL   | Clear::Expression  | < Low Level SQL Builder\n+------------------------------------+\n|  Crystal DB   | Crystal PG         | < Low Level connection\n+------------------------------------+\n```\n\nOn the bottom stack, Clear offer SQL query building.\nTheses features are then used by uppermost parts of the engine.\n\nThe SQL module provide simple API to generate delete, insert, select and update\nmethods.\n\nEach requests can be duplicated then modified and executed.\n\nEach request object is mutable. Therefor, to update and store a request,\nyou must use manually the `dup` method.\n","summary":"<p>## Clear::SQL</p>","class_methods":[{"id":"connection-class-method","html_id":"connection-class-method","name":"connection","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L52","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L52","def":{"name":"connection","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@connection.not_nil!"}},{"id":"connection?-class-method","html_id":"connection?-class-method","name":"connection?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L52","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L52","def":{"name":"connection?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@connection"}}],"constructors":[],"instance_methods":[{"id":"delete(table=nil)-instance-method","html_id":"delete(table=nil)-instance-method","name":"delete","doc":"Start a DELETE table query","summary":"<p>Start a DELETE table query</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"nil","external_name":"table","restriction":""}],"args_string":"(table = <span class=\"n\">nil</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L153","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L153","def":{"name":"delete","args":[{"name":"table","doc":null,"default_value":"nil","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Clear::SQL::DeleteQuery.new(from: table)"}},{"id":"execute(sql)-instance-method","html_id":"execute(sql)-instance-method","name":"execute","doc":"Execute a SQL request.\n\nUsage:\nClear::SQL.execute(\"SELECT 1 FROM users\")\n","summary":"<p>Execute a SQL request.</p>","abstract":false,"args":[{"name":"sql","doc":null,"default_value":"","external_name":"sql","restriction":""}],"args_string":"(sql)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L140","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L140","def":{"name":"execute","args":[{"name":"sql","doc":null,"default_value":"","external_name":"sql","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  log_query(sql) do\n    Clear::SQL.connection.exec(sql)\n  end\nrescue e\n  raise(ExecutionError.new(\"Error while in SQL execution: `#{e.message}`\n\" + \"    Request was `#{Clear::SQL::Logger.colorize_query(sql)}`\"))\nend"}},{"id":"in_transaction?-instance-method","html_id":"in_transaction?-instance-method","name":"in_transaction?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L69","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L69","def":{"name":"in_transaction?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@in_transaction"}},{"id":"init(url:String)-instance-method","html_id":"init(url:String)-instance-method","name":"init","doc":null,"summary":null,"abstract":false,"args":[{"name":"url","doc":null,"default_value":"","external_name":"url","restriction":"String"}],"args_string":"(url : String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L62","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L62","def":{"name":"init","args":[{"name":"url","doc":null,"default_value":"","external_name":"url","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@connection = DB.open(url)"}},{"id":"insert(table,*args)-instance-method","html_id":"insert(table,*args)-instance-method","name":"insert","doc":"Alias of `insert_into`, for hurry developers","summary":"<p>Alias of <code><a href=\"../Clear/SQL.html#insert_into%28table%2C%2Aargs%29-instance-method\">#insert_into</a></code>, for hurry developers</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(table, *args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L163","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L163","def":{"name":"insert","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"insert_into(table, *args)"}},{"id":"insert_into(table,*args)-instance-method","html_id":"insert_into(table,*args)-instance-method","name":"insert_into","doc":"Start an INSERT INTO table query","summary":"<p>Start an INSERT INTO table query</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(table, *args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L158","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L158","def":{"name":"insert_into","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(Clear::SQL::InsertQuery.new(table)).insert(*args)"}},{"id":"rollback-instance-method","html_id":"rollback-instance-method","name":"rollback","doc":"Raise a rollback, in case of transaction","summary":"<p>Raise a rollback, in case of transaction</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L131","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L131","def":{"name":"rollback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"raise(RollbackError.new)"}},{"id":"sanitize(x:String,delimiter=&quot;&#39;&#39;&quot;)-instance-method","html_id":"sanitize(x:String,delimiter=&amp;quot;&amp;#39;&amp;#39;&amp;quot;)-instance-method","name":"sanitize","doc":"Sanitize the","summary":"<p>Sanitize the</p>","abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"},{"name":"delimiter","doc":null,"default_value":"\"''\"","external_name":"delimiter","restriction":""}],"args_string":"(x : String, delimiter = <span class=\"s\">&quot;&#39;&#39;&quot;</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L58","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L58","def":{"name":"sanitize","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"String"},{"name":"delimiter","doc":null,"default_value":"\"''\"","external_name":"delimiter","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Clear::Expression[x]"}},{"id":"select(*args)-instance-method","html_id":"select(*args)-instance-method","name":"select","doc":"Start a SELECT FROM table query","summary":"<p>Start a SELECT FROM table query</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L173","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L173","def":{"name":"select","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if args.size > 0\n  Clear::SQL::SelectQuery.new.select(*args)\nelse\n  Clear::SQL::SelectQuery.new\nend"}},{"id":"transaction(&block)-instance-method","html_id":"transaction(&amp;block)-instance-method","name":"transaction","doc":"Create an unstackable transaction\n\nExample:\n```\nClear::SQL.transaction do\n  # do something\n  Clear::SQL.transaction do # Technically, this block do nothing, since we already are in transaction\n    rollback                # < Rollback the up-most `transaction` block.\n  end\nend\n```\nsee #with_savepoint to use a stackable version using savepoints.\n","summary":"<p>Create an unstackable transaction</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L86","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L86","def":{"name":"transaction","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"if @@in_transaction\n  yield\nelse\n  @@in_transaction = true\n  execute(\"BEGIN\")\n  begin\n    yield\n    execute(\"COMMIT\")\n  rescue e\n    is_rollback_error = (e.is_a?(RollbackError)) || (e.is_a?(CancelTransactionError))\n    begin\n      execute(\"ROLLBACK --\" + (is_rollback_error ? \"normal\" : \"program error\"))\n    rescue\n      nil\n    end\n    if is_rollback_error\n    else\n      raise(e)\n    end\n  ensure\n    @@in_transaction = false\n  end\nend"}},{"id":"update(table)-instance-method","html_id":"update(table)-instance-method","name":"update","doc":"Start a UPDATE table query","summary":"<p>Start a UPDATE table query</p>","abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"args_string":"(table)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L168","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L168","def":{"name":"update","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Clear::SQL::UpdateQuery.new(table)"}},{"id":"with_savepoint(&block)-instance-method","html_id":"with_savepoint(&amp;block)-instance-method","name":"with_savepoint","doc":"Create a transaction, but this one is stackable\nusing savepoints.\n\nExample:\n```\nClear::SQL.with_savepoint do\n  # do something\n  Clear::SQL.with_savepoint do\n    rollback # < Rollback only the last `with_savepoint` block\n  end\nend\n```","summary":"<p>Create a transaction, but this one is stackable using savepoints.</p>","abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L117","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr#L117","def":{"name":"with_savepoint","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"transaction do\n  sp_name = \"sp_#{@@savepoint_uid = @@savepoint_uid + 1}\"\n  begin\n    execute(\"SAVEPOINT #{sp_name}\")\n    yield\n    execute(\"RELEASE SAVEPOINT #{sp_name}\")\n  rescue e : RollbackError\n    execute(\"ROLLBACK TO SAVEPOINT #{sp_name}\")\n  end\nend"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Any","path":"Clear/SQL/Any.html","kind":"alias","full_name":"Clear::SQL::Any","name":"Any","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/sql.cr","line_number":41,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"(Array(PG::BoolArray) | Array(PG::CharArray) | Array(PG::Float32Array) | Array(PG::Float64Array) | Array(PG::Int16Array) | Array(PG::Int32Array) | Array(PG::Int64Array) | Array(PG::StringArray) | Bool | Char | Clear::Expression::UnsafeSql | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | UInt16 | UInt32 | UInt64 | UInt8 | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/CancelTransactionError","path":"Clear/SQL/CancelTransactionError.html","kind":"class","full_name":"Clear::SQL::CancelTransactionError","name":"CancelTransactionError","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Error","kind":"class","full_name":"Clear::SQL::Error","name":"Error"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Error","kind":"class","full_name":"Clear::SQL::Error","name":"Error"},{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/errors.cr","line_number":12,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/errors.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":"Like rollback, but used into savepoint, it will revert completely the transaction","summary":"<p>Like rollback, but used into savepoint, it will revert completely the transaction</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Column","path":"Clear/SQL/Column.html","kind":"struct","full_name":"Clear::SQL::Column","name":"Column","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Fragment","kind":"struct","full_name":"Clear::SQL::Fragment","name":"Fragment"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Fragment","kind":"struct","full_name":"Clear::SQL::Fragment","name":"Fragment"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/fragment/column.cr","line_number":10,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(value,var=nil)-class-method","html_id":"new(value,var=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"var","doc":null,"default_value":"nil","external_name":"var","restriction":""}],"args_string":"(value, var = <span class=\"n\">nil</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L14","def":{"name":"new","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"var","doc":null,"default_value":"nil","external_name":"var","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(value, var)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"to_sql-instance-method","html_id":"to_sql-instance-method","name":"to_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L17","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L17","def":{"name":"to_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"v = value\ncase v\nwhen Symbolic\n  [v, @var].compact.join(\" AS \")\nwhen SQL::SelectQuery\n  [\"( #{v.to_sql} )\", @var].compact.join(\" AS \")\nelse\n  raise(QueryBuildingError.new(\"Only String and SelectQuery are allowed as column declaration\"))\nend\n"}},{"id":"value:Selectable-instance-method","html_id":"value:Selectable-instance-method","name":"value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Selectable","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L11","def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Selectable","visibility":"Public","body":"@value"}},{"id":"value=(value:Selectable)-instance-method","html_id":"value=(value:Selectable)-instance-method","name":"value=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Selectable"}],"args_string":"(value : Selectable)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L11","def":{"name":"value=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Selectable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@value = value"}},{"id":"var:Symbolic?-instance-method","html_id":"var:Symbolic?-instance-method","name":"var","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbolic?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L12","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L12","def":{"name":"var","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbolic | ::Nil","visibility":"Public","body":"@var"}},{"id":"var=(var:Symbolic?)-instance-method","html_id":"var=(var:Symbolic?)-instance-method","name":"var=","doc":null,"summary":null,"abstract":false,"args":[{"name":"var","doc":null,"default_value":"","external_name":"var","restriction":"Symbolic | ::Nil"}],"args_string":"(var : Symbolic?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L12","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/column.cr#L12","def":{"name":"var=","args":[{"name":"var","doc":null,"default_value":"","external_name":"var","restriction":"Symbolic | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@var = var"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/DeleteQuery","path":"Clear/SQL/DeleteQuery.html","kind":"class","full_name":"Clear::SQL::DeleteQuery","name":"DeleteQuery","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/delete_query.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/delete_query.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(from=nil,wheres=[]ofClear::Expression::Node)-class-method","html_id":"new(from=nil,wheres=[]ofClear::Expression::Node)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"from","doc":null,"default_value":"nil","external_name":"from","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""}],"args_string":"(from = <span class=\"n\">nil</span>, wheres = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Expression</span><span class=\"t\">::</span><span class=\"t\">Node</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/delete_query.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/delete_query.cr#L10","def":{"name":"new","args":[{"name":"from","doc":null,"default_value":"nil","external_name":"from","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(from, wheres)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"from(x)-instance-method","html_id":"from(x)-instance-method","name":"from","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/delete_query.cr#L14","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/delete_query.cr#L14","def":{"name":"from","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@from = x\nchange!\n"}},{"id":"from:Symbolic?-instance-method","html_id":"from:Symbolic?-instance-method","name":"from","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbolic?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/delete_query.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/delete_query.cr#L4","def":{"name":"from","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbolic | ::Nil","visibility":"Public","body":"@from"}},{"id":"to_sql-instance-method","html_id":"to_sql-instance-method","name":"to_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/delete_query.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/delete_query.cr#L19","def":{"name":"to_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @from.nil?\n  raise(QueryBuildingError.new(\"Delete Query must have a `from` clause.\"))\nend\n[\"DELETE FROM #{@from}\", print_wheres].compact.join(\" \")\n"}},{"id":"wheres:Array(Clear::Expression::Node)-instance-method","html_id":"wheres:Array(Clear::Expression::Node)-instance-method","name":"wheres","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Clear::Expression::Node)","source_link":null,"source_link":null,"def":{"name":"wheres","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Clear::Expression::Node)","visibility":"Public","body":"@wheres"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Error","path":"Clear/SQL/Error.html","kind":"class","full_name":"Clear::SQL::Error","name":"Error","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/errors.cr","line_number":2,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/errors.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/CancelTransactionError","kind":"class","full_name":"Clear::SQL::CancelTransactionError","name":"CancelTransactionError"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/ExecutionError","kind":"class","full_name":"Clear::SQL::ExecutionError","name":"ExecutionError"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/QueryBuildingError","kind":"class","full_name":"Clear::SQL::QueryBuildingError","name":"QueryBuildingError"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/RollbackError","kind":"class","full_name":"Clear::SQL::RollbackError","name":"RollbackError"}],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/ExecutionError","path":"Clear/SQL/ExecutionError.html","kind":"class","full_name":"Clear::SQL::ExecutionError","name":"ExecutionError","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Error","kind":"class","full_name":"Clear::SQL::Error","name":"Error"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Error","kind":"class","full_name":"Clear::SQL::Error","name":"Error"},{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/errors.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/errors.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Fragment","path":"Clear/SQL/Fragment.html","kind":"struct","full_name":"Clear::SQL::Fragment","name":"Fragment","abstract":true,"superclass":{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/fragment/fragment.cr","line_number":2,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/fragment.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Column","kind":"struct","full_name":"Clear::SQL::Column","name":"Column"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/From","kind":"struct","full_name":"Clear::SQL::From","name":"From"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Join","kind":"struct","full_name":"Clear::SQL::Join","name":"Join"}],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/fragment.cr#L2","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/fragment.cr#L2","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}}],"instance_methods":[{"id":"to_sql-instance-method","html_id":"to_sql-instance-method","name":"to_sql","doc":null,"summary":null,"abstract":true,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/fragment.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/fragment.cr#L3","def":{"name":"to_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/From","path":"Clear/SQL/From.html","kind":"struct","full_name":"Clear::SQL::From","name":"From","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Fragment","kind":"struct","full_name":"Clear::SQL::Fragment","name":"Fragment"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Fragment","kind":"struct","full_name":"Clear::SQL::Fragment","name":"Fragment"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/fragment/from.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(value,var=nil)-class-method","html_id":"new(value,var=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"var","doc":null,"default_value":"nil","external_name":"var","restriction":""}],"args_string":"(value, var = <span class=\"n\">nil</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L8","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L8","def":{"name":"new","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"var","doc":null,"default_value":"nil","external_name":"var","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(value, var)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"to_sql-instance-method","html_id":"to_sql-instance-method","name":"to_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L11","def":{"name":"to_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"v = value\ncase v\nwhen Symbolic\n  [v, @var].compact.join(\" AS \")\nwhen SQL::SelectQuery\n  if @var.nil?\n    raise(QueryBuildingError.new(\"Subquery `from` clause must have variable name\"))\n  end\n  [\"( #{v.to_sql} )\", @var].compact.join(\" \")\nelse\n  raise(QueryBuildingError.new(\"Only String and SelectQuery are allowed as column declaration\"))\nend\n"}},{"id":"value:Selectable-instance-method","html_id":"value:Selectable-instance-method","name":"value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Selectable","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L5","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L5","def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Selectable","visibility":"Public","body":"@value"}},{"id":"value=(value:Selectable)-instance-method","html_id":"value=(value:Selectable)-instance-method","name":"value=","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Selectable"}],"args_string":"(value : Selectable)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L5","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L5","def":{"name":"value=","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Selectable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@value = value"}},{"id":"var:Symbolic?-instance-method","html_id":"var:Symbolic?-instance-method","name":"var","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Symbolic?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L6","def":{"name":"var","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Symbolic | ::Nil","visibility":"Public","body":"@var"}},{"id":"var=(var:Symbolic?)-instance-method","html_id":"var=(var:Symbolic?)-instance-method","name":"var=","doc":null,"summary":null,"abstract":false,"args":[{"name":"var","doc":null,"default_value":"","external_name":"var","restriction":"Symbolic | ::Nil"}],"args_string":"(var : Symbolic?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/from.cr#L6","def":{"name":"var=","args":[{"name":"var","doc":null,"default_value":"","external_name":"var","restriction":"Symbolic | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@var = var"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/InsertQuery","path":"Clear/SQL/InsertQuery.html","kind":"class","full_name":"Clear::SQL::InsertQuery","name":"InsertQuery","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/insert_query.cr","line_number":19,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":"\nAn insert query\n\ncf. postgres documentation\n[ WITH [ RECURSIVE ] with_query [, ...] ]\nINSERT INTO table_name [ AS alias ] [ ( column_name [, ...] ) ]\n   { DEFAULT VALUES | VALUES ( { expression | DEFAULT } [, ...] ) [, ...] | query }\n   [ ON CONFLICT [ conflict_target ] conflict_action ]\n   [ RETURNING * | output_expression [ [ AS ] output_name ] [, ...] ]\n\n\n\n","summary":"<p>An insert query</p>","class_methods":[],"constructors":[{"id":"new(table:Selectable)-class-method","html_id":"new(table:Selectable)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"Selectable"}],"args_string":"(table : Selectable)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L28","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L28","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":"Selectable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"columns(*args)-instance-method","html_id":"columns(*args)-instance-method","name":"columns","doc":"Used with values","summary":"<p>Used with values</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L95","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L95","def":{"name":"columns","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@keys = args\nchange!\n"}},{"id":"execute:Hash(String,Clear::SQL::Any)-instance-method","html_id":"execute:Hash(String,Clear::SQL::Any)-instance-method","name":"execute","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Clear::SQL::Any)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L59","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L59","def":{"name":"execute","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, ::Clear::SQL::Any)","visibility":"Public","body":"o = {} of String => ::Clear::SQL::Any\nif @returning.nil?\n  Clear::SQL.execute(to_sql)\nelse\n  fetch do |x|\n    o = x\n    break\n  end\nend\no\n"}},{"id":"fetch(&block:Hash(String,Clear::SQL::Any)->Void)-instance-method","html_id":"fetch(&amp;block:Hash(String,Clear::SQL::Any)-&gt;Void)-instance-method","name":"fetch","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block : Hash(String, Clear::SQL::Any) -> Void)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L31","def":{"name":"fetch","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Hash(String, ::Clear::SQL::Any) -> Void)"},"return_type":"","visibility":"Public","body":"Clear::SQL.log_query(to_sql) do\n  h = {} of String => ::Clear::SQL::Any\n  Clear::SQL.connection.query(to_sql) do |rs|\n    fetch_result_set(h, rs) do |x|\n      yield x\n    end\n  end\nend"}},{"id":"insert(row:NamedTuple)-instance-method","html_id":"insert(row:NamedTuple)-instance-method","name":"insert","doc":"Fast insert system\n\ninsert({field: \"value\"}).into(:table)\n","summary":"<p>Fast insert system</p>","abstract":false,"args":[{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":"NamedTuple"}],"args_string":"(row : NamedTuple)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L76","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L76","def":{"name":"insert","args":[{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@keys = row.keys.to_a.map do |__arg0|\n  __arg0.as(Symbolic)\nend\nv = @values = [] of Array(Inserable)\nv << row.values.to_a.map do |__arg1|\n  __arg1.as(Inserable)\nend\nchange!\n"}},{"id":"insert(row:Hash(Symbolic,Inserable))-instance-method","html_id":"insert(row:Hash(Symbolic,Inserable))-instance-method","name":"insert","doc":null,"summary":null,"abstract":false,"args":[{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":"Hash(Symbolic, Inserable)"}],"args_string":"(row : Hash(Symbolic, Inserable))","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L85","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L85","def":{"name":"insert","args":[{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":"Hash(Symbolic, Inserable)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@keys = row.keys.to_a.map do |__arg2|\n  __arg2.as(Symbolic)\nend\nv = @values = [] of Array(Inserable)\nv << row.values.to_a.map do |__arg3|\n  __arg3.as(Inserable)\nend\nchange!\n"}},{"id":"keys:Array(Symbolic)-instance-method","html_id":"keys:Array(Symbolic)-instance-method","name":"keys","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Symbolic)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L23","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L23","def":{"name":"keys","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Symbolic)","visibility":"Public","body":"@keys"}},{"id":"returning(str:String)-instance-method","html_id":"returning(str:String)-instance-method","name":"returning","doc":null,"summary":null,"abstract":false,"args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"}],"args_string":"(str : String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L118","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L118","def":{"name":"returning","args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@returning = str\nchange!\n"}},{"id":"returning:String?-instance-method","html_id":"returning:String?-instance-method","name":"returning","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L26","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L26","def":{"name":"returning","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@returning"}},{"id":"size:Int32-instance-method","html_id":"size:Int32-instance-method","name":"size","doc":"Number of rows of this insertion request","summary":"<p>Number of rows of this insertion request</p>","abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L125","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L125","def":{"name":"size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":"v = @values\nv.is_a?(Array) ? v.size : -1\n"}},{"id":"table:Selectable-instance-method","html_id":"table:Selectable-instance-method","name":"table","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Selectable","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L25","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L25","def":{"name":"table","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Selectable","visibility":"Public","body":"@table"}},{"id":"to_sql-instance-method","html_id":"to_sql-instance-method","name":"to_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L143","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L143","def":{"name":"to_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @table.nil?\n  raise(QueryBuildingError.new(\"You must provide a `into` clause\"))\nend\no = [\"INSERT INTO\", @table, print_keys]\nv = @values\ncase v\nwhen SelectQuery\n  o << ((\"(\" + v.to_sql) + \")\")\nelse\n  if v.empty? || ((v.size == 1) && v[0].empty?)\n    o << \"DEFAULT VALUES\"\n  else\n    o << \"VALUES\"\n    o << print_values\n  end\nend\nif @returning\n  o << \"RETURNING\"\n  o << @returning\nend\no.compact.join(\" \")\n"}},{"id":"values(select_query:SelectQuery)-instance-method","html_id":"values(select_query:SelectQuery)-instance-method","name":"values","doc":"Insert into ... (...) SELECT","summary":"<p>Insert into ...</p>","abstract":false,"args":[{"name":"select_query","doc":null,"default_value":"","external_name":"select_query","restriction":"SelectQuery"}],"args_string":"(select_query : SelectQuery)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L108","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L108","def":{"name":"values","args":[{"name":"select_query","doc":null,"default_value":"","external_name":"select_query","restriction":"SelectQuery"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (@values.is_a?(Array)) && (@values.as(Array)).any?\n  raise(QueryBuildingError.new(\"Cannot insert both from SELECT and from data\"))\nend\n@values = select_query\nchange!\n"}},{"id":"values:SelectQuery|Array(Array(Inserable))-instance-method","html_id":"values:SelectQuery|Array(Array(Inserable))-instance-method","name":"values","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : SelectQuery | Array(Array(Inserable))","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L24","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L24","def":{"name":"values","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"SelectQuery | Array(Array(Inserable))","visibility":"Public","body":"@values"}},{"id":"values(*args)-instance-method","html_id":"values(*args)-instance-method","name":"values","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L101","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr#L101","def":{"name":"values","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@values << args\nchange!\n"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/InsertQuery/Inserable","path":"Clear/SQL/InsertQuery/Inserable.html","kind":"alias","full_name":"Clear::SQL::InsertQuery::Inserable","name":"Inserable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/insert_query.cr","line_number":22,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/insert_query.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"(Array(PG::BoolArray) | Array(PG::CharArray) | Array(PG::Float32Array) | Array(PG::Float64Array) | Array(PG::Int16Array) | Array(PG::Int32Array) | Array(PG::Int64Array) | Array(PG::StringArray) | BigFloat | BigInt | Bool | Char | Clear::Expression::UnsafeSql | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | UInt16 | UInt32 | UInt64 | UInt8 | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/InsertQuery","kind":"class","full_name":"Clear::SQL::InsertQuery","name":"InsertQuery"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Join","path":"Clear/SQL/Join.html","kind":"struct","full_name":"Clear::SQL::Join","name":"Join","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Fragment","kind":"struct","full_name":"Clear::SQL::Fragment","name":"Fragment"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Fragment","kind":"struct","full_name":"Clear::SQL::Fragment","name":"Fragment"},{"html_id":"github.com/anykeyh/clear/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/anykeyh/clear/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/fragment/join.cr","line_number":4,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"TYPE","value":"{left: \"LEFT JOIN\", inner: \"INNER JOIN\", right: \"RIGHT JOIN\", full_outer: \"FULL OUTER JOIN\", cross: \"CROSS JOIN\"}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(from,condition=nil,type:Symbolic=:inner)-class-method","html_id":"new(from,condition=nil,type:Symbolic=:inner)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":""},{"name":"condition","doc":null,"default_value":"nil","external_name":"condition","restriction":""},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":"Symbolic"}],"args_string":"(from, condition = <span class=\"n\">nil</span>, type : Symbolic = <span class=\"n\">:inner</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L15","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L15","def":{"name":"new","args":[{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":""},{"name":"condition","doc":null,"default_value":"nil","external_name":"condition","restriction":""},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":"Symbolic"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(from, condition, type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"condition:Clear::Expression::Node?-instance-method","html_id":"condition:Clear::Expression::Node?-instance-method","name":"condition","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Clear::Expression::Node?","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L13","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L13","def":{"name":"condition","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Clear::Expression::Node | ::Nil","visibility":"Public","body":"@condition"}},{"id":"condition=(condition:Clear::Expression::Node?)-instance-method","html_id":"condition=(condition:Clear::Expression::Node?)-instance-method","name":"condition=","doc":null,"summary":null,"abstract":false,"args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":"Clear::Expression::Node | ::Nil"}],"args_string":"(condition : Clear::Expression::Node?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L13","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L13","def":{"name":"condition=","args":[{"name":"condition","doc":null,"default_value":"","external_name":"condition","restriction":"Clear::Expression::Node | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@condition = condition"}},{"id":"from:Selectable-instance-method","html_id":"from:Selectable-instance-method","name":"from","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Selectable","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L12","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L12","def":{"name":"from","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Selectable","visibility":"Public","body":"@from"}},{"id":"from=(from:Selectable)-instance-method","html_id":"from=(from:Selectable)-instance-method","name":"from=","doc":null,"summary":null,"abstract":false,"args":[{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":"Selectable"}],"args_string":"(from : Selectable)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L12","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L12","def":{"name":"from=","args":[{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":"Selectable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@from = from"}},{"id":"to_sql-instance-method","html_id":"to_sql-instance-method","name":"to_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L23","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L23","def":{"name":"to_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"c = condition\nif c\n  \"#{type} #{SQL.sel_str(from)} ON (#{c.resolve})\"\nelse\n  \"#{type} #{SQL.sel_str(from)}\"\nend\n"}},{"id":"type:String-instance-method","html_id":"type:String-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L11","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@type"}},{"id":"type=(type:String)-instance-method","html_id":"type=(type:String)-instance-method","name":"type=","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String"}],"args_string":"(type : String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/fragment/join.cr#L11","def":{"name":"type=","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@type = type"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Logger","path":"Clear/SQL/Logger.html","kind":"module","full_name":"Clear::SQL::Logger","name":"Logger","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/logger.cr","line_number":5,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/logger.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"name":"SQL_KEYWORDS","value":"Set(String).new([\"ADD\", \"ALL\", \"ALTER\", \"ANALYSE\", \"ANALYZE\", \"AND\", \"ANY\", \"ARRAY\", \"AS\", \"ASC\", \"ASYMMETRIC\", \"BEGIN\", \"BOTH\", \"CASE\", \"CAST\", \"CHECK\", \"COLLATE\", \"COLUMN\", \"COMMIT\", \"CONSTRAINT\", \"CREATE\", \"CROSS\", \"CURRENT_DATE\", \"CURRENT_ROLE\", \"CURRENT_TIME\", \"CURRENT_TIMESTAMP\", \"CURRENT_USER\", \"CURSOR\", \"DECLARE\", \"DEFAULT\", \"DELETE\", \"DEFERRABLE\", \"DESC\", \"DISTINCT\", \"DROP\", \"DO\", \"ELSE\", \"END\", \"EXCEPT\", \"EXISTS\", \"FALSE\", \"FETCH\", \"FULL\", \"FOR\", \"FOREIGN\", \"FROM\", \"GRANT\", \"GROUP\", \"HAVING\", \"IF\", \"IN\", \"INDEX\", \"INNER\", \"INSERT\", \"INITIALLY\", \"INTERSECT\", \"INTO\", \"JOIN\", \"LEADING\", \"LIMIT\", \"LEFT\", \"LOCALTIME\", \"LOCALTIMESTAMP\", \"NEW\", \"NOT\", \"NULL\", \"OFF\", \"OFFSET\", \"OLD\", \"ON\", \"ONLY\", \"OR\", \"ORDER\", \"OUTER\", \"PLACING\", \"PRIMARY\", \"REFERENCES\", \"RELEASE\", \"RETURNING\", \"RIGHT\", \"ROLLBACK\", \"SAVEPOINT\", \"SELECT\", \"SESSION_USER\", \"SET\", \"SOME\", \"SYMMETRIC\", \"TABLE\", \"THEN\", \"TO\", \"TRAILING\", \"TRUE\", \"UNION\", \"UNIQUE\", \"UPDATE\", \"USER\", \"USING\", \"VALUES\", \"WHEN\", \"WHERE\"] of ::String)","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[{"id":"colorize_query(qry:String)-class-method","html_id":"colorize_query(qry:String)-class-method","name":"colorize_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"qry","doc":null,"default_value":"","external_name":"qry","restriction":"String"}],"args_string":"(qry : String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/logger.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/logger.cr#L19","def":{"name":"colorize_query","args":[{"name":"qry","doc":null,"default_value":"","external_name":"qry","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"o = (qry.to_s.split(/([a-zA-Z0-9_]+)/)).map do |word|\n  if SQL_KEYWORDS.includes?(word.upcase)\n    word.colorize.bold.blue.to_s\n  else\n    if word =~ (/\\d+/)\n      word.colorize.red\n    else\n      word.colorize.white\n    end\n  end\nend.join(\"\")\no.gsub(/(--.*)$/) do |x|\n  x.colorize.dark_gray\nend\n"}},{"id":"display_mn_sec(x):String-class-method","html_id":"display_mn_sec(x):String-class-method","name":"display_mn_sec","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/logger.cr#L32","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/logger.cr#L32","def":{"name":"display_mn_sec","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"mn = x.to_i / 60\nsc = x.to_i % 60\n([mn > 9 ? mn : \"0#{mn}\", sc > 9 ? sc : \"0#{sc}\"].join(\"mn\")) + \"s\"\n"}},{"id":"display_time(x):String-class-method","html_id":"display_time(x):String-class-method","name":"display_time","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x) : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/logger.cr#L39","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/logger.cr#L39","def":{"name":"display_time","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"if (x > 60)\n  display_mn_sec(x)\nelse\n  if (  x > 1)\n    (\"%.2f\" % x) + \"s\"\n  else\n    if (    x > 0.001)\n      (1000 * x).to_i.to_s + \"ms\"\n    else\n      (1000000 * x).to_i.to_s + \"µs\"\n    end\n  end\nend"}}],"constructors":[],"instance_methods":[{"id":"log_query(sql,&block)-instance-method","html_id":"log_query(sql,&amp;block)-instance-method","name":"log_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"sql","doc":null,"default_value":"","external_name":"sql","restriction":""}],"args_string":"(sql, &block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/logger.cr#L51","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/logger.cr#L51","def":{"name":"log_query","args":[{"name":"sql","doc":null,"default_value":"","external_name":"sql","restriction":""}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  time = Time.now.epoch_f\n  yield\nensure\n  time = Time.now.epoch_f - time.not_nil!\n  Clear.logger.debug((  (\"[\" + (Clear::SQL::Logger.display_time(time)).colorize.bold.white.to_s) + \"] #{SQL::Logger.colorize_query(sql)}\"))\nend"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","path":"Clear/SQL/Query.html","kind":"module","full_name":"Clear::SQL::Query","name":"Query","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/before_query.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/before_query.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/BeforeQuery","path":"Clear/SQL/Query/BeforeQuery.html","kind":"module","full_name":"Clear::SQL::Query::BeforeQuery","name":"BeforeQuery","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/before_query.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/before_query.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","path":"Clear/SQL/Query/Change.html","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/change.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/change.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/DeleteQuery","kind":"class","full_name":"Clear::SQL::DeleteQuery","name":"DeleteQuery"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/InsertQuery","kind":"class","full_name":"Clear::SQL::InsertQuery","name":"InsertQuery"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/UpdateQuery","kind":"class","full_name":"Clear::SQL::UpdateQuery","name":"UpdateQuery"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"change!:self-instance-method","html_id":"change!:self-instance-method","name":"change!","doc":"Call back called when the query is changed\nJust here for being reimplemented\n(e.g. by collection for caching purpose)","summary":"<p>Call back called when the query is changed Just here for being reimplemented (e.g.</p>","abstract":false,"args":[],"args_string":" : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/change.cr#L5","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/change.cr#L5","def":{"name":"change!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"self"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/CTE","path":"Clear/SQL/Query/CTE.html","kind":"module","full_name":"Clear::SQL::Query::CTE","name":"CTE","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/cte.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/cte.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"cte:Hash(String,CTEAuthorized)-instance-method","html_id":"cte:Hash(String,CTEAuthorized)-instance-method","name":"cte","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, CTEAuthorized)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/cte.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/cte.cr#L3","def":{"name":"cte","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, CTEAuthorized)","visibility":"Public","body":"@cte"}},{"id":"with_cte(name,request:CTEAuthorized)-instance-method","html_id":"with_cte(name,request:CTEAuthorized)-instance-method","name":"with_cte","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"request","doc":null,"default_value":"","external_name":"request","restriction":"CTEAuthorized"}],"args_string":"(name, request : CTEAuthorized)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/cte.cr#L5","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/cte.cr#L5","def":{"name":"with_cte","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"request","doc":null,"default_value":"","external_name":"request","restriction":"CTEAuthorized"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"cte[name] = request\nchange!\n"}},{"id":"with_cte(tuple:NamedTuple)-instance-method","html_id":"with_cte(tuple:NamedTuple)-instance-method","name":"with_cte","doc":null,"summary":null,"abstract":false,"args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"args_string":"(tuple : NamedTuple)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/cte.cr#L10","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/cte.cr#L10","def":{"name":"with_cte","args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tuple.each do |k, v|\n  cte[k.to_s] = v\nend\nchange!\n"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/CTE/CTEAuthorized","path":"Clear/SQL/Query/CTE/CTEAuthorized.html","kind":"alias","full_name":"Clear::SQL::Query::CTE::CTEAuthorized","name":"CTEAuthorized","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/cte.cr","line_number":2,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/cte.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"(Clear::SQL::SelectBuilder | String)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/CTE","kind":"module","full_name":"Clear::SQL::Query::CTE","name":"CTE"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","path":"Clear/SQL/Query/Execute.html","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/execute.cr","line_number":3,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/execute.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/DeleteQuery","kind":"class","full_name":"Clear::SQL::DeleteQuery","name":"DeleteQuery"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/UpdateQuery","kind":"class","full_name":"Clear::SQL::UpdateQuery","name":"UpdateQuery"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"execute-instance-method","html_id":"execute-instance-method","name":"execute","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/execute.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/execute.cr#L4","def":{"name":"execute","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Clear::SQL.execute(to_sql)"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Fetch","path":"Clear/SQL/Query/Fetch.html","kind":"module","full_name":"Clear::SQL::Query::Fetch","name":"Fetch","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/fetch.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"fetch(fetch_all=false,&block:Hash(String,Clear::SQL::Any)->Void)-instance-method","html_id":"fetch(fetch_all=false,&amp;block:Hash(String,Clear::SQL::Any)-&gt;Void)-instance-method","name":"fetch","doc":"Fetch the result set row per row\n`fetch_all` is helpful in transactional environment, so it stores\nthe result and close the resultset before strating to dispatch the data\npreventing creation of a new connection if you need to call SQL into the\nyielded block.","summary":"<p>Fetch the result set row per row <code>fetch_all</code> is helpful in transactional environment, so it stores the result and close the resultset before strating to dispatch the data preventing creation of a new connection if you need to call SQL into the yielded block.</p>","abstract":false,"args":[{"name":"fetch_all","doc":null,"default_value":"false","external_name":"fetch_all","restriction":""}],"args_string":"(fetch_all = <span class=\"n\">false</span>, &block : Hash(String, Clear::SQL::Any) -> Void)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr#L87","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr#L87","def":{"name":"fetch","args":[{"name":"fetch_all","doc":null,"default_value":"false","external_name":"fetch_all","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Hash(String, ::Clear::SQL::Any) -> Void)"},"return_type":"","visibility":"Public","body":"trigger_before_query\nh = {} of String => ::Clear::SQL::Any\nto_sql = self.to_sql\nrs = uninitialized PG::ResultSet\nClear::SQL.log_query(to_sql) do\n  rs = Clear::SQL.connection.query(to_sql)\nend\nif fetch_all\n  o = [] of Hash(String, ::Clear::SQL::Any)\n  fetch_result_set(h, rs) do |x|\n    o << x.dup\n  end\n  o.each do |x|\n    yield x\n  end\nelse\n  fetch_result_set(h, rs) do |x|\n    yield x\n  end\nend\n"}},{"id":"fetch_with_cursor(count=1000,&block:Hash(String,Clear::SQL::Any)->Void)-instance-method","html_id":"fetch_with_cursor(count=1000,&amp;block:Hash(String,Clear::SQL::Any)-&gt;Void)-instance-method","name":"fetch_with_cursor","doc":"Use a cursor to fetch the data","summary":"<p>Use a cursor to fetch the data</p>","abstract":false,"args":[{"name":"count","doc":null,"default_value":"1000","external_name":"count","restriction":""}],"args_string":"(count = <span class=\"n\">1000</span>, &block : Hash(String, Clear::SQL::Any) -> Void)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr#L22","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr#L22","def":{"name":"fetch_with_cursor","args":[{"name":"count","doc":null,"default_value":"1000","external_name":"count","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Hash(String, ::Clear::SQL::Any) -> Void)"},"return_type":"","visibility":"Public","body":"trigger_before_query\nClear::SQL.transaction do\n  cnx = Clear::SQL.connection\n  cursor_name = \"__cursor_#{Time.now.epoch ^ (rand * 268435455).to_i}__\"\n  cursor_declaration = \"DECLARE #{cursor_name} CURSOR FOR #{to_sql}\"\n  Clear::SQL.log_query(cursor_declaration) do\n    cnx.exec(cursor_declaration)\n  end\n  h = {} of String => ::Clear::SQL::Any\n  we_loop = true\n  while we_loop\n    fetch_query = \"FETCH #{count} FROM #{cursor_name}\"\n    rs = uninitialized PG::ResultSet\n    Clear::SQL.log_query(fetch_query) do\n      rs = cnx.query(fetch_query)\n    end\n    o = Array(Hash(String, ::Clear::SQL::Any)).new(initial_capacity: count)\n    we_loop = fetch_result_set(h, rs) do |x|\n      o << x.dup\n    end\n    o.each do |h|\n      yield h\n    end\n  end\nend\n"}},{"id":"first-instance-method","html_id":"first-instance-method","name":"first","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr#L62","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr#L62","def":{"name":"first","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(limit(1)).fetch(fetch_all: true) do |x|\n  return x\nend"}},{"id":"scalar(type:T.class)forallT-instance-method","html_id":"scalar(type:T.class)forallT-instance-method","name":"scalar","doc":"Get a scalar (EG count)\n","summary":"<p>Get a scalar (EG count) </p>","abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"T.class"}],"args_string":"(type : T.class) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr#L54","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr#L54","def":{"name":"scalar","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"trigger_before_query\nClear::SQL.log_query(to_sql) do\n  (Clear::SQL.connection.scalar(to_sql)).as(T)\nend\n"}},{"id":"to_a:Array(Hash(String,Clear::SQL::Any))-instance-method","html_id":"to_a:Array(Hash(String,Clear::SQL::Any))-instance-method","name":"to_a","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Hash(String, Clear::SQL::Any))","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr#L66","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/fetch.cr#L66","def":{"name":"to_a","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Hash(String, ::Clear::SQL::Any))","visibility":"Public","body":"trigger_before_query\nh = {} of String => ::Clear::SQL::Any\nto_sql = self.to_sql\nrs = uninitialized PG::ResultSet\nClear::SQL.log_query(to_sql) do\n  rs = Clear::SQL.connection.query(to_sql)\nend\no = [] of Hash(String, ::Clear::SQL::Any)\nfetch_result_set(h, rs) do |x|\n  o << x.dup\nend\no\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/From","path":"Clear/SQL/Query/From.html","kind":"module","full_name":"Clear::SQL::Query::From","name":"From","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/from.cr","line_number":2,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/from.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clear_from-instance-method","html_id":"clear_from-instance-method","name":"clear_from","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/from.cr#L18","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/from.cr#L18","def":{"name":"clear_from","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@froms.clear\nchange!\n"}},{"id":"from(*args)-instance-method","html_id":"from(*args)-instance-method","name":"from","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/from.cr#L5","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/from.cr#L5","def":{"name":"from","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args.each do |arg|\n  case arg\n  when NamedTuple\n    arg.each do |k, v|\n      @froms << (Clear::SQL::From.new(v, k.to_s))\n    end\n  else\n    @froms << (Clear::SQL::From.new(arg))\n  end\nend\nchange!\n"}},{"id":"froms:Array(SQL::From)-instance-method","html_id":"froms:Array(SQL::From)-instance-method","name":"froms","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(SQL::From)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/from.cr#L3","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/from.cr#L3","def":{"name":"froms","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(SQL::From)","visibility":"Public","body":"@froms"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/GroupBy","path":"Clear/SQL/Query/GroupBy.html","kind":"module","full_name":"Clear::SQL::Query::GroupBy","name":"GroupBy","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/group_by.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/group_by.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"group_bys:Array(SQL::Column)-instance-method","html_id":"group_bys:Array(SQL::Column)-instance-method","name":"group_bys","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(SQL::Column)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/group_by.cr#L2","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/group_by.cr#L2","def":{"name":"group_bys","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(SQL::Column)","visibility":"Public","body":"@group_bys"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Having","path":"Clear/SQL/Query/Having.html","kind":"module","full_name":"Clear::SQL::Query::Having","name":"Having","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/having.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clear_havings-instance-method","html_id":"clear_havings-instance-method","name":"clear_havings","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L62","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L62","def":{"name":"clear_havings","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@havings.clear\nchange!\n"}},{"id":"having(&block)-instance-method","html_id":"having(&amp;block)-instance-method","name":"having","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L6","def":{"name":"having","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"x = Clear::Expression.to_node(with Clear::Expression.new yield)\n@havings << (Clear::Expression.to_node(with Clear::Expression.new yield))\nchange!\n"}},{"id":"having(str:String,parameters:Array(T))forallT-instance-method","html_id":"having(str:String,parameters:Array(T))forallT-instance-method","name":"having","doc":null,"summary":null,"abstract":false,"args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"},{"name":"parameters","doc":null,"default_value":"","external_name":"parameters","restriction":"Array(T)"}],"args_string":"(str : String, parameters : Array(T)) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L30","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L30","def":{"name":"having","args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"},{"name":"parameters","doc":null,"default_value":"","external_name":"parameters","restriction":"Array(T)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"idx = -1\nclause = str.gsub(/\\?/) do |_|\n  begin\n    Clear::Expression[parameters[idx = idx + 1]]\n  rescue e : IndexError\n    raise(QueryBuildingError.new(e.message))\n  end\nend\nself.having(clause)\n"}},{"id":"having(str:String,parameters:NamedTuple)-instance-method","html_id":"having(str:String,parameters:NamedTuple)-instance-method","name":"having","doc":null,"summary":null,"abstract":false,"args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"},{"name":"parameters","doc":null,"default_value":"","external_name":"parameters","restriction":"NamedTuple"}],"args_string":"(str : String, parameters : NamedTuple)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L44","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L44","def":{"name":"having","args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"},{"name":"parameters","doc":null,"default_value":"","external_name":"parameters","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clause = str.gsub(/\\:[a-zA-Z0-9_]+/) do |question_mark|\n  begin\n    sym = question_mark[1..-1]\n    Clear::Expression[parameters[sym]]\n  rescue e : KeyError\n    raise(QueryBuildingError.new(e.message))\n  end\nend\nself.having(clause)\n"}},{"id":"having(x:NamedTuple)-instance-method","html_id":"having(x:NamedTuple)-instance-method","name":"having","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"args_string":"(x : NamedTuple)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L13","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L13","def":{"name":"having","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"sql = x.map do |k, v|\n  case v\n  when Array\n    \"#{k} IN (#{v.map do |x|\n      Clear::Expression[x]\n    end.join(\", \")})\"\n  when SelectQuery\n    \"#{k} IN (#{v.to_sql})\"\n  else\n    \"#{k} = #{Clear::Expression[v]}\"\n  end\nend.join(\" AND \")\n@havings << (Clear::Expression::Node::Variable.new(sql))\nchange!\n"}},{"id":"having(str:String)-instance-method","html_id":"having(str:String)-instance-method","name":"having","doc":null,"summary":null,"abstract":false,"args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"}],"args_string":"(str : String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L57","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/having.cr#L57","def":{"name":"having","args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@havings << (Clear::Expression::Node::Variable.new(str))\nchange!\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Join","path":"Clear/SQL/Query/Join.html","kind":"module","full_name":"Clear::SQL::Query::Join","name":"Join","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/join.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"cross_join(name:Symbolic)-instance-method","html_id":"cross_join(name:Symbolic)-instance-method","name":"cross_join","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"}],"args_string":"(name : Symbolic)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L16","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L16","def":{"name":"cross_join","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"join(name, type: :cross)"}},{"id":"full_outer_join(name:Symbolic,&block)-instance-method","html_id":"full_outer_join(name:Symbolic,&amp;block)-instance-method","name":"full_outer_join","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"}],"args_string":"(name : Symbolic, &block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L20","def":{"name":"full_outer_join","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"joins << (Clear::SQL::Join.new(name, Clear::Expression.to_node(with Clear::Expression.new yield), :full_outer))\nchange!\n"}},{"id":"join(name:Symbolic,type=:inner,&block)-instance-method","html_id":"join(name:Symbolic,type=:inner,&amp;block)-instance-method","name":"join","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""}],"args_string":"(name : Symbolic, type = <span class=\"n\">:inner</span>, &block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L6","def":{"name":"join","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"joins << (Clear::SQL::Join.new(name, Clear::Expression.to_node(with Clear::Expression.new yield), type))\nchange!\n"}},{"id":"join(name:Symbolic,type=:inner)-instance-method","html_id":"join(name:Symbolic,type=:inner)-instance-method","name":"join","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""}],"args_string":"(name : Symbolic, type = <span class=\"n\">:inner</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L11","def":{"name":"join","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"},{"name":"type","doc":null,"default_value":":inner","external_name":"type","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"joins << (Clear::SQL::Join.new(name, nil, type))\nchange!\n"}},{"id":"left_join(name:Symbolic,&block)-instance-method","html_id":"left_join(name:Symbolic,&amp;block)-instance-method","name":"left_join","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"}],"args_string":"(name : Symbolic, &block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L20","def":{"name":"left_join","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"joins << (Clear::SQL::Join.new(name, Clear::Expression.to_node(with Clear::Expression.new yield), :left))\nchange!\n"}},{"id":"right_join(name:Symbolic,&block)-instance-method","html_id":"right_join(name:Symbolic,&amp;block)-instance-method","name":"right_join","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"}],"args_string":"(name : Symbolic, &block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L20","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/join.cr#L20","def":{"name":"right_join","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"Symbolic"}],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"joins << (Clear::SQL::Join.new(name, Clear::Expression.to_node(with Clear::Expression.new yield), :right))\nchange!\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Lock","path":"Clear/SQL/Query/Lock.html","kind":"module","full_name":"Clear::SQL::Query::Lock","name":"Lock","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/lock.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/lock.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"with_lock(str:String=&quot;FORUPDATE&quot;)-instance-method","html_id":"with_lock(str:String=&amp;quot;FORUPDATE&amp;quot;)-instance-method","name":"with_lock","doc":null,"summary":null,"abstract":false,"args":[{"name":"str","doc":null,"default_value":"\"FOR UPDATE\"","external_name":"str","restriction":"String"}],"args_string":"(str : String = <span class=\"s\">&quot;FOR UPDATE&quot;</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/lock.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/lock.cr#L11","def":{"name":"with_lock","args":[{"name":"str","doc":null,"default_value":"\"FOR UPDATE\"","external_name":"str","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@lock = str\nchange!\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OffsetLimit","path":"Clear/SQL/Query/OffsetLimit.html","kind":"module","full_name":"Clear::SQL::Query::OffsetLimit","name":"OffsetLimit","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/offset_limit.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/offset_limit.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clear_limit-instance-method","html_id":"clear_limit-instance-method","name":"clear_limit","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/offset_limit.cr#L12","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/offset_limit.cr#L12","def":{"name":"clear_limit","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@limit = nil\nchange!\n"}},{"id":"clear_offset-instance-method","html_id":"clear_offset-instance-method","name":"clear_offset","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/offset_limit.cr#L17","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/offset_limit.cr#L17","def":{"name":"clear_offset","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@offset = nil\nchange!\n"}},{"id":"limit(x:Int?)-instance-method","html_id":"limit(x:Int?)-instance-method","name":"limit","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int | ::Nil"}],"args_string":"(x : Int?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/offset_limit.cr#L7","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/offset_limit.cr#L7","def":{"name":"limit","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@limit = Int64.new(x)\nchange!\n"}},{"id":"offset(x:Int?)-instance-method","html_id":"offset(x:Int?)-instance-method","name":"offset","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int | ::Nil"}],"args_string":"(x : Int?)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/offset_limit.cr#L22","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/offset_limit.cr#L22","def":{"name":"offset","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Int | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@offset = Int64.new(x)\nchange!\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OrderBy","path":"Clear/SQL/Query/OrderBy.html","kind":"module","full_name":"Clear::SQL::Query::OrderBy","name":"OrderBy","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/order_by.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/order_by.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"order_by(tuple:NamedTuple)-instance-method","html_id":"order_by(tuple:NamedTuple)-instance-method","name":"order_by","doc":null,"summary":null,"abstract":false,"args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"args_string":"(tuple : NamedTuple)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/order_by.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/order_by.cr#L6","def":{"name":"order_by","args":[{"name":"tuple","doc":null,"default_value":"","external_name":"tuple","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tuple.each do |k, v|\n  @order_bys << \"#{k} #{v.to_s.upcase}\"\nend\nchange!\n"}},{"id":"order_by(*args)-instance-method","html_id":"order_by(*args)-instance-method","name":"order_by","doc":null,"summary":null,"abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/order_by.cr#L13","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/order_by.cr#L13","def":{"name":"order_by","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@order_bys = @order_bys + args.to_a.map(&.to_s)\nchange!\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Select","path":"Clear/SQL/Query/Select.html","kind":"module","full_name":"Clear::SQL::Query::Select","name":"Select","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/select.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clear_select-instance-method","html_id":"clear_select-instance-method","name":"clear_select","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr#L46","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr#L46","def":{"name":"clear_select","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@columns.clear\nchange!\n"}},{"id":"distinct-instance-method","html_id":"distinct-instance-method","name":"distinct","doc":"Add distinct to the query","summary":"<p>Add distinct to the query</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr#L17","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr#L17","def":{"name":"distinct","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@is_distinct = true\nchange!\n"}},{"id":"select(c:Column)-instance-method","html_id":"select(c:Column)-instance-method","name":"select","doc":"def select(name : Symbolic, var = nil)\n @columns << Column.new(name, var)\n self\nend","summary":"<p>def select(name : Symbolic, var = nil)  @columns &lt;&lt; Column.new(name, var)  self end</p>","abstract":false,"args":[{"name":"c","doc":null,"default_value":"","external_name":"c","restriction":"Column"}],"args_string":"(c : Column)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr#L11","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr#L11","def":{"name":"select","args":[{"name":"c","doc":null,"default_value":"","external_name":"c","restriction":"Column"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@columns << c\nchange!\n"}},{"id":"select(*args)-instance-method","html_id":"select(*args)-instance-method","name":"select","doc":"Add field(s) to selection from tuple\n```\n select({user_id: \"uid\", updated_at: \"updated_at\"})\n # => Output \"SELECT user_id as uid, updated_at as updated_at\"\n```","summary":"<p>Add field(s) to selection from tuple <code></code>`  select({user_id: \"uid\", updated_at: \"updated_at\"})  # => Output \"SELECT user_id as uid, updated_at as updated_at\" <code></code>`</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr#L33","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr#L33","def":{"name":"select","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"args.each do |arg|\n  case arg\n  when NamedTuple\n    arg.each do |k, v|\n      @columns << (Column.new(v, k.to_s))\n    end\n  else\n    @columns << (Column.new(arg))\n  end\nend\nchange!\n"}},{"id":"undistinct-instance-method","html_id":"undistinct-instance-method","name":"undistinct","doc":"Remove distinct","summary":"<p>Remove distinct</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr#L23","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/select.cr#L23","def":{"name":"undistinct","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@is_distinct = false\nchange!\n"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","path":"Clear/SQL/Query/Where.html","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/query/where.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/DeleteQuery","kind":"class","full_name":"Clear::SQL::DeleteQuery","name":"DeleteQuery"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/UpdateQuery","kind":"class","full_name":"Clear::SQL::UpdateQuery","name":"UpdateQuery"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query","kind":"module","full_name":"Clear::SQL::Query","name":"Query"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"clear_wheres-instance-method","html_id":"clear_wheres-instance-method","name":"clear_wheres","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L65","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L65","def":{"name":"clear_wheres","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@wheres.clear\nchange!\n"}},{"id":"where(str:String,parameters:Array(T))forallT-instance-method","html_id":"where(str:String,parameters:Array(T))forallT-instance-method","name":"where","doc":null,"summary":null,"abstract":false,"args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"},{"name":"parameters","doc":null,"default_value":"","external_name":"parameters","restriction":"Array(T)"}],"args_string":"(str : String, parameters : Array(T)) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L33","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L33","def":{"name":"where","args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"},{"name":"parameters","doc":null,"default_value":"","external_name":"parameters","restriction":"Array(T)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"idx = -1\nclause = str.gsub(/\\?/) do |_|\n  begin\n    Clear::Expression[parameters[idx = idx + 1]]\n  rescue e : IndexError\n    raise(QueryBuildingError.new(e.message))\n  end\nend\nself.where(clause)\n"}},{"id":"where(str:String,parameters:NamedTuple)-instance-method","html_id":"where(str:String,parameters:NamedTuple)-instance-method","name":"where","doc":null,"summary":null,"abstract":false,"args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"},{"name":"parameters","doc":null,"default_value":"","external_name":"parameters","restriction":"NamedTuple"}],"args_string":"(str : String, parameters : NamedTuple)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L47","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L47","def":{"name":"where","args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"},{"name":"parameters","doc":null,"default_value":"","external_name":"parameters","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"clause = str.gsub(/\\:[a-zA-Z0-9_]+/) do |question_mark|\n  begin\n    sym = question_mark[1..-1]\n    Clear::Expression[parameters[sym]]\n  rescue e : KeyError\n    raise(QueryBuildingError.new(e.message))\n  end\nend\nself.where(clause)\n"}},{"id":"where(node:Clear::Expression::Node)-instance-method","html_id":"where(node:Clear::Expression::Node)-instance-method","name":"where","doc":null,"summary":null,"abstract":false,"args":[{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":"Clear::Expression::Node"}],"args_string":"(node : Clear::Expression::Node)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L6","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L6","def":{"name":"where","args":[{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":"Clear::Expression::Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@wheres << node\nchange!\n"}},{"id":"where(&block)-instance-method","html_id":"where(&amp;block)-instance-method","name":"where","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L12","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L12","def":{"name":"where","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":null,"return_type":"","visibility":"Public","body":"where(Clear::Expression.to_node(with Clear::Expression.new yield))"}},{"id":"where(x:NamedTuple)-instance-method","html_id":"where(x:NamedTuple)-instance-method","name":"where","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"args_string":"(x : NamedTuple)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L16","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L16","def":{"name":"where","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"sql = x.map do |k, v|\n  case v\n  when Array\n    \"#{k} IN (#{v.map do |x|\n      Clear::Expression[x]\n    end.join(\", \")})\"\n  when SelectQuery\n    \"#{k} IN (#{v.to_sql})\"\n  else\n    \"#{k} = #{Clear::Expression[v]}\"\n  end\nend.join(\" AND \")\n@wheres << (Clear::Expression::Node::Variable.new(sql))\nchange!\n"}},{"id":"where(str:String)-instance-method","html_id":"where(str:String)-instance-method","name":"where","doc":null,"summary":null,"abstract":false,"args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"}],"args_string":"(str : String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L60","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/query/where.cr#L60","def":{"name":"where","args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@wheres << (Clear::Expression::Node::Variable.new(str))\nchange!\n"}}],"macros":[],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/QueryBuildingError","path":"Clear/SQL/QueryBuildingError.html","kind":"class","full_name":"Clear::SQL::QueryBuildingError","name":"QueryBuildingError","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Error","kind":"class","full_name":"Clear::SQL::Error","name":"Error"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Error","kind":"class","full_name":"Clear::SQL::Error","name":"Error"},{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/errors.cr","line_number":6,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/errors.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/RollbackError","path":"Clear/SQL/RollbackError.html","kind":"class","full_name":"Clear::SQL::RollbackError","name":"RollbackError","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Clear/SQL/Error","kind":"class","full_name":"Clear::SQL::Error","name":"Error"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Error","kind":"class","full_name":"Clear::SQL::Error","name":"Error"},{"html_id":"github.com/anykeyh/clear/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/errors.cr","line_number":9,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/errors.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":"Rollback the transaction or the last savepoint.","summary":"<p>Rollback the transaction or the last savepoint.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Selectable","path":"Clear/SQL/Selectable.html","kind":"alias","full_name":"Clear::SQL::Selectable","name":"Selectable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/sql.cr","line_number":55,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"(Clear::SQL::SelectQuery | String | Symbol)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","path":"Clear/SQL/SelectBuilder.html","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/CTE","kind":"module","full_name":"Clear::SQL::Query::CTE","name":"CTE"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/BeforeQuery","kind":"module","full_name":"Clear::SQL::Query::BeforeQuery","name":"BeforeQuery"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Fetch","kind":"module","full_name":"Clear::SQL::Query::Fetch","name":"Fetch"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Lock","kind":"module","full_name":"Clear::SQL::Query::Lock","name":"Lock"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OffsetLimit","kind":"module","full_name":"Clear::SQL::Query::OffsetLimit","name":"OffsetLimit"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/GroupBy","kind":"module","full_name":"Clear::SQL::Query::GroupBy","name":"GroupBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OrderBy","kind":"module","full_name":"Clear::SQL::Query::OrderBy","name":"OrderBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Join","kind":"module","full_name":"Clear::SQL::Query::Join","name":"Join"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/From","kind":"module","full_name":"Clear::SQL::Query::From","name":"From"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Select","kind":"module","full_name":"Clear::SQL::Query::Select","name":"Select"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"}],"locations":[{"filename":"clear/sql/select_builder.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/BeforeQuery","kind":"module","full_name":"Clear::SQL::Query::BeforeQuery","name":"BeforeQuery"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/CTE","kind":"module","full_name":"Clear::SQL::Query::CTE","name":"CTE"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Fetch","kind":"module","full_name":"Clear::SQL::Query::Fetch","name":"Fetch"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/From","kind":"module","full_name":"Clear::SQL::Query::From","name":"From"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/GroupBy","kind":"module","full_name":"Clear::SQL::Query::GroupBy","name":"GroupBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Join","kind":"module","full_name":"Clear::SQL::Query::Join","name":"Join"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Lock","kind":"module","full_name":"Clear::SQL::Query::Lock","name":"Lock"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OffsetLimit","kind":"module","full_name":"Clear::SQL::Query::OffsetLimit","name":"OffsetLimit"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OrderBy","kind":"module","full_name":"Clear::SQL::Query::OrderBy","name":"OrderBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Select","kind":"module","full_name":"Clear::SQL::Query::Select","name":"Select"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where"}],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model/CollectionBase","kind":"class","full_name":"Clear::Model::CollectionBase(T)","name":"CollectionBase"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectQuery","kind":"class","full_name":"Clear::SQL::SelectQuery","name":"SelectQuery"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(is_distinct=false,cte={}ofString=>Query::CTE::CTEAuthorized,columns=[]ofSQL::Column,froms=[]ofSQL::From,joins=[]ofSQL::Join,wheres=[]ofClear::Expression::Node,havings=[]ofClear::Expression::Node,group_bys=[]ofSQL::Column,order_bys=[]ofString,limit=nil,offset=nil,lock=nil,before_query_triggers=[]of(->Void))-class-method","html_id":"new(is_distinct=false,cte={}ofString=&gt;Query::CTE::CTEAuthorized,columns=[]ofSQL::Column,froms=[]ofSQL::From,joins=[]ofSQL::Join,wheres=[]ofClear::Expression::Node,havings=[]ofClear::Expression::Node,group_bys=[]ofSQL::Column,order_bys=[]ofString,limit=nil,offset=nil,lock=nil,before_query_triggers=[]of(-&gt;Void))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"is_distinct","doc":null,"default_value":"false","external_name":"is_distinct","restriction":""},{"name":"cte","doc":null,"default_value":"{} of String => Query::CTE::CTEAuthorized","external_name":"cte","restriction":""},{"name":"columns","doc":null,"default_value":"[] of SQL::Column","external_name":"columns","restriction":""},{"name":"froms","doc":null,"default_value":"[] of SQL::From","external_name":"froms","restriction":""},{"name":"joins","doc":null,"default_value":"[] of SQL::Join","external_name":"joins","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""},{"name":"havings","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"havings","restriction":""},{"name":"group_bys","doc":null,"default_value":"[] of SQL::Column","external_name":"group_bys","restriction":""},{"name":"order_bys","doc":null,"default_value":"[] of String","external_name":"order_bys","restriction":""},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":""},{"name":"offset","doc":null,"default_value":"nil","external_name":"offset","restriction":""},{"name":"lock","doc":null,"default_value":"nil","external_name":"lock","restriction":""},{"name":"before_query_triggers","doc":null,"default_value":"[] of (-> Void)","external_name":"before_query_triggers","restriction":""}],"args_string":"(is_distinct = <span class=\"n\">false</span>, cte = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">Query</span><span class=\"t\">::</span><span class=\"t\">CTE</span><span class=\"t\">::</span><span class=\"t\">CTEAuthorized</span>, columns = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Column</span>, froms = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">From</span>, joins = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Join</span>, wheres = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Expression</span><span class=\"t\">::</span><span class=\"t\">Node</span>, havings = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Expression</span><span class=\"t\">::</span><span class=\"t\">Node</span>, group_bys = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">SQL</span><span class=\"t\">::</span><span class=\"t\">Column</span>, order_bys = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, limit = <span class=\"n\">nil</span>, offset = <span class=\"n\">nil</span>, lock = <span class=\"n\">nil</span>, before_query_triggers = <span class=\"o\">[]</span> <span class=\"k\">of</span> (-> <span class=\"t\">Void</span>))","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L4","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L4","def":{"name":"new","args":[{"name":"is_distinct","doc":null,"default_value":"false","external_name":"is_distinct","restriction":""},{"name":"cte","doc":null,"default_value":"{} of String => Query::CTE::CTEAuthorized","external_name":"cte","restriction":""},{"name":"columns","doc":null,"default_value":"[] of SQL::Column","external_name":"columns","restriction":""},{"name":"froms","doc":null,"default_value":"[] of SQL::From","external_name":"froms","restriction":""},{"name":"joins","doc":null,"default_value":"[] of SQL::Join","external_name":"joins","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""},{"name":"havings","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"havings","restriction":""},{"name":"group_bys","doc":null,"default_value":"[] of SQL::Column","external_name":"group_bys","restriction":""},{"name":"order_bys","doc":null,"default_value":"[] of String","external_name":"order_bys","restriction":""},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":""},{"name":"offset","doc":null,"default_value":"nil","external_name":"offset","restriction":""},{"name":"lock","doc":null,"default_value":"nil","external_name":"lock","restriction":""},{"name":"before_query_triggers","doc":null,"default_value":"[] of (-> Void)","external_name":"before_query_triggers","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(is_distinct, cte, columns, froms, joins, wheres, havings, group_bys, order_bys, limit, offset, lock, before_query_triggers)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"before_query(&block:->Void)-instance-method","html_id":"before_query(&amp;block:-&gt;Void)-instance-method","name":"before_query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&block :  -> Void)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L30","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L30","def":{"name":"before_query","args":[],"double_splat":null,"splat_index":null,"yields":0,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(-> Void)"},"return_type":"","visibility":"Public","body":"@before_query_triggers << block"}},{"id":"columns:Array(SQL::Column)-instance-method","html_id":"columns:Array(SQL::Column)-instance-method","name":"columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(SQL::Column)","source_link":null,"source_link":null,"def":{"name":"columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(SQL::Column)","visibility":"Public","body":"@columns"}},{"id":"dup:self-instance-method","html_id":"dup:self-instance-method","name":"dup","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : self","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L33","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L33","def":{"name":"dup","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"self.class.new(columns: @columns.dup, froms: @froms.dup, joins: @joins.dup, wheres: @wheres.dup, havings: @havings.dup, group_bys: @group_bys.dup, order_bys: @order_bys.dup, limit: @limit, offset: @offset, lock: @lock)"}},{"id":"havings:Array(Clear::Expression::Node)-instance-method","html_id":"havings:Array(Clear::Expression::Node)-instance-method","name":"havings","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Clear::Expression::Node)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L2","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L2","def":{"name":"havings","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Clear::Expression::Node)","visibility":"Public","body":"@havings"}},{"id":"is_distinct:Bool-instance-method","html_id":"is_distinct:Bool-instance-method","name":"is_distinct","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":null,"source_link":null,"def":{"name":"is_distinct","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@is_distinct"}},{"id":"joins:Array(SQL::Join)-instance-method","html_id":"joins:Array(SQL::Join)-instance-method","name":"joins","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(SQL::Join)","source_link":null,"source_link":null,"def":{"name":"joins","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(SQL::Join)","visibility":"Public","body":"@joins"}},{"id":"limit:Int64?-instance-method","html_id":"limit:Int64?-instance-method","name":"limit","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64?","source_link":null,"source_link":null,"def":{"name":"limit","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64 | ::Nil","visibility":"Public","body":"@limit"}},{"id":"lock:String?-instance-method","html_id":"lock:String?-instance-method","name":"lock","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String?","source_link":null,"source_link":null,"def":{"name":"lock","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@lock"}},{"id":"offset:Int64?-instance-method","html_id":"offset:Int64?-instance-method","name":"offset","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64?","source_link":null,"source_link":null,"def":{"name":"offset","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64 | ::Nil","visibility":"Public","body":"@offset"}},{"id":"order_bys:Array(String)-instance-method","html_id":"order_bys:Array(String)-instance-method","name":"order_bys","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","source_link":null,"source_link":null,"def":{"name":"order_bys","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@order_bys"}},{"id":"to_delete-instance-method","html_id":"to_delete-instance-method","name":"to_delete","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L60","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L60","def":{"name":"to_delete","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @froms.size == 1\nelse\n  raise(QueryBuildingError.new(\"Cannot build a delete query \" + \"from a select with multiple or none from clauses\"))\nend\nv = @froms[0].value\nif v.is_a?(SelectQuery)\n  raise(QueryBuildingError.new(\"Cannot delete from a select with sub-select as from clause\"))\nend\nDeleteQuery.new(from: v.dup, wheres: @wheres.dup)\n"}},{"id":"to_sql:String-instance-method","html_id":"to_sql:String-instance-method","name":"to_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L47","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L47","def":{"name":"to_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"[print_ctes, print_columns, print_froms, print_joins, print_wheres, print_havings, print_group_bys, print_order_bys, print_limit_offsets, print_lock].compact.reject(&.empty?).join(\" \")"}},{"id":"trigger_before_query-instance-method","html_id":"trigger_before_query-instance-method","name":"trigger_before_query","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L30","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_builder.cr#L30","def":{"name":"trigger_before_query","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@before_query_triggers.each do |bq|\n  bq.call\nend\n@before_query_triggers.clear\n"}},{"id":"wheres:Array(Clear::Expression::Node)-instance-method","html_id":"wheres:Array(Clear::Expression::Node)-instance-method","name":"wheres","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Clear::Expression::Node)","source_link":null,"source_link":null,"def":{"name":"wheres","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Clear::Expression::Node)","visibility":"Public","body":"@wheres"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectQuery","path":"Clear/SQL/SelectQuery.html","kind":"class","full_name":"Clear::SQL::SelectQuery","name":"SelectQuery","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/CTE","kind":"module","full_name":"Clear::SQL::Query::CTE","name":"CTE"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/BeforeQuery","kind":"module","full_name":"Clear::SQL::Query::BeforeQuery","name":"BeforeQuery"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Fetch","kind":"module","full_name":"Clear::SQL::Query::Fetch","name":"Fetch"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Lock","kind":"module","full_name":"Clear::SQL::Query::Lock","name":"Lock"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OffsetLimit","kind":"module","full_name":"Clear::SQL::Query::OffsetLimit","name":"OffsetLimit"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/GroupBy","kind":"module","full_name":"Clear::SQL::Query::GroupBy","name":"GroupBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/OrderBy","kind":"module","full_name":"Clear::SQL::Query::OrderBy","name":"OrderBy"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Join","kind":"module","full_name":"Clear::SQL::Query::Join","name":"Join"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/From","kind":"module","full_name":"Clear::SQL::Query::From","name":"From"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Select","kind":"module","full_name":"Clear::SQL::Query::Select","name":"Select"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/select_query.cr","line_number":22,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/select_query.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/SelectBuilder","kind":"module","full_name":"Clear::SQL::SelectBuilder","name":"SelectBuilder"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":"A Select Query builder\n\nCf. Postgres documentation\n[ WITH [ RECURSIVE ] with_query [, ...] ]\nSELECT [ ALL | DISTINCT [ ON ( expression [, ...] ) ] ]\n    [ * | expression [ [ AS ] output_name ] [, ...] ]\n    [ FROM from_item [, ...] ]\n    [ WHERE condition ]\n    [ GROUP BY grouping_element [, ...] ]\n    [ HAVING condition [, ...] ]\n    [ WINDOW window_name AS ( window_definition ) [, ...] ]\n    [ { UNION | INTERSECT | EXCEPT } [ ALL | DISTINCT ] select ]\n    [ ORDER BY expression [ ASC | DESC | USING operator ] [ NULLS { FIRST | LAST } ] [, ...] ]\n    [ LIMIT { count | ALL } ]\n    [ OFFSET start [ ROW | ROWS ] ]\n    [ FETCH { FIRST | NEXT } [ count ] { ROW | ROWS } ONLY ]\n    [ FOR { UPDATE | NO KEY UPDATE | SHARE | KEY SHARE } [ OF table_name [, ...] ] [ NOWAIT | SKIP LOCKED ] [...] ]\n","summary":"<p>A Select Query builder</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Symbolic","path":"Clear/SQL/Symbolic.html","kind":"alias","full_name":"Clear::SQL::Symbolic","name":"Symbolic","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/sql.cr","line_number":54,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/sql.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"(String | Symbol)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/UpdateQuery","path":"Clear/SQL/UpdateQuery.html","kind":"class","full_name":"Clear::SQL::UpdateQuery","name":"UpdateQuery","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/sql/update_query.cr","line_number":6,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Change","kind":"module","full_name":"Clear::SQL::Query::Change","name":"Change"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Execute","kind":"module","full_name":"Clear::SQL::Query::Execute","name":"Execute"},{"html_id":"github.com/anykeyh/clear/Clear/SQL/Query/Where","kind":"module","full_name":"Clear::SQL::Query::Where","name":"Where"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL","kind":"module","full_name":"Clear::SQL","name":"SQL"},"doc":"WIP","summary":"<p>WIP</p>","class_methods":[],"constructors":[{"id":"new(table,wheres=[]ofClear::Expression::Node)-class-method","html_id":"new(table,wheres=[]ofClear::Expression::Node)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""}],"args_string":"(table, wheres = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Clear</span><span class=\"t\">::</span><span class=\"t\">Expression</span><span class=\"t\">::</span><span class=\"t\">Node</span>)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr#L17","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr#L17","def":{"name":"new","args":[{"name":"table","doc":null,"default_value":"","external_name":"table","restriction":""},{"name":"wheres","doc":null,"default_value":"[] of Clear::Expression::Node","external_name":"wheres","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(table, wheres)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"set(row:NamedTuple)-instance-method","html_id":"set(row:NamedTuple)-instance-method","name":"set","doc":null,"summary":null,"abstract":false,"args":[{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":"NamedTuple"}],"args_string":"(row : NamedTuple)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr#L21","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr#L21","def":{"name":"set","args":[{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"set(row.to_h)\nchange!\n"}},{"id":"set(row:String)-instance-method","html_id":"set(row:String)-instance-method","name":"set","doc":null,"summary":null,"abstract":false,"args":[{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":"String"}],"args_string":"(row : String)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr#L26","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr#L26","def":{"name":"set","args":[{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@values << row\nchange!\n"}},{"id":"set(row:Hash(String,Updatable))-instance-method","html_id":"set(row:Hash(String,Updatable))-instance-method","name":"set","doc":null,"summary":null,"abstract":false,"args":[{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":"Hash(String, Updatable)"}],"args_string":"(row : Hash(String, Updatable))","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr#L31","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr#L31","def":{"name":"set","args":[{"name":"row","doc":null,"default_value":"","external_name":"row","restriction":"Hash(String, Updatable)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@values << (Hash(String, Updatable).new.merge(row))\nchange!\n"}},{"id":"to_sql-instance-method","html_id":"to_sql-instance-method","name":"to_sql","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr#L53","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr#L53","def":{"name":"to_sql","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @table.nil?\n  raise(Clear::SQL::QueryBuildingError.new(\"Update Query must have a table clause.\"))\nend\n[\"UPDATE #{@table} SET\", print_values, print_wheres].compact.join(\" \")\n"}},{"id":"wheres:Array(Clear::Expression::Node)-instance-method","html_id":"wheres:Array(Clear::Expression::Node)-instance-method","name":"wheres","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Clear::Expression::Node)","source_link":null,"source_link":null,"def":{"name":"wheres","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Clear::Expression::Node)","visibility":"Public","body":"@wheres"}}],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/SQL/UpdateQuery/Updatable","path":"Clear/SQL/UpdateQuery/Updatable.html","kind":"alias","full_name":"Clear::SQL::UpdateQuery::Updatable","name":"Updatable","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/update_query.cr","line_number":7,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"(Array(PG::BoolArray) | Array(PG::CharArray) | Array(PG::Float32Array) | Array(PG::Float64Array) | Array(PG::Int16Array) | Array(PG::Int32Array) | Array(PG::Int64Array) | Array(PG::StringArray) | BigFloat | BigInt | Bool | Char | Clear::Expression::UnsafeSql | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | UInt16 | UInt32 | UInt64 | UInt8 | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/UpdateQuery","kind":"class","full_name":"Clear::SQL::UpdateQuery","name":"UpdateQuery"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/SQL/UpdateQuery/UpdateInstruction","path":"Clear/SQL/UpdateQuery/UpdateInstruction.html","kind":"alias","full_name":"Clear::SQL::UpdateQuery::UpdateInstruction","name":"UpdateInstruction","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/sql/update_query.cr","line_number":8,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/sql/update_query.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":true,"aliased":"(Hash(String, Array(PG::BoolArray) | Array(PG::CharArray) | Array(PG::Float32Array) | Array(PG::Float64Array) | Array(PG::Int16Array) | Array(PG::Int32Array) | Array(PG::Int64Array) | Array(PG::StringArray) | BigFloat | BigInt | Bool | Char | Clear::Expression::UnsafeSql | Float32 | Float64 | Int16 | Int32 | Int64 | Int8 | JSON::Any | PG::Geo::Box | PG::Geo::Circle | PG::Geo::Line | PG::Geo::LineSegment | PG::Geo::Path | PG::Geo::Point | PG::Geo::Polygon | PG::Numeric | Slice(UInt8) | String | Time | UInt16 | UInt32 | UInt64 | UInt8 | Nil) | String)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/SQL/UpdateQuery","kind":"class","full_name":"Clear::SQL::UpdateQuery","name":"UpdateQuery"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]}]},{"html_id":"github.com/anykeyh/clear/Clear/Util","path":"Clear/Util.html","kind":"module","full_name":"Clear::Util","name":"Util","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/util.cr","line_number":2,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/util.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[{"html_id":"github.com/anykeyh/clear/Clear/Util","kind":"module","full_name":"Clear::Util","name":"Util"}],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear","kind":"module","full_name":"Clear","name":"Clear"},"doc":"A set of method(s) useful for building Clear ORM.","summary":"<p>A set of method(s) useful for building Clear ORM.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"lambda(u:U.class,v:V.class,&block:U->V)forallU,V-instance-method","html_id":"lambda(u:U.class,v:V.class,&amp;block:U-&gt;V)forallU,V-instance-method","name":"lambda","doc":"Equivalent to ruby's lambda with one parameter.\nThis method is useful combined with the macro system of Crystal.","summary":"<p>Equivalent to ruby's lambda with one parameter.</p>","abstract":false,"args":[{"name":"u","doc":null,"default_value":"","external_name":"u","restriction":"U.class"},{"name":"v","doc":null,"default_value":"","external_name":"v","restriction":"V.class"}],"args_string":"(u : U.class, v : V.class, &block : U -> V) forall U, V","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/util.cr#L7","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/util.cr#L7","def":{"name":"lambda","args":[{"name":"u","doc":null,"default_value":"","external_name":"u","restriction":"U.class"},{"name":"v","doc":null,"default_value":"","external_name":"v","restriction":"V.class"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(U -> V)"},"return_type":"","visibility":"Public","body":"block"}}],"macros":[],"types":[]},{"html_id":"github.com/anykeyh/clear/Clear/Validation","path":"Clear/Validation.html","kind":"module","full_name":"Clear::Validation","name":"Validation","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/validation/helper.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/validation/helper.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear","kind":"module","full_name":"Clear","name":"Clear"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/anykeyh/clear/Clear/Validation/Helper","path":"Clear/Validation/Helper.html","kind":"module","full_name":"Clear::Validation::Helper","name":"Helper","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"clear/model/validation/helper.cr","line_number":1,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/validation/helper.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"github.com/anykeyh/clear/Clear/Model/HasValidation","kind":"module","full_name":"Clear::Model::HasValidation","name":"HasValidation"}],"namespace":{"html_id":"github.com/anykeyh/clear/Clear/Validation","kind":"module","full_name":"Clear::Validation","name":"Validation"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[{"id":"ensure_than(field,message)-macro","html_id":"ensure_than(field,message)-macro","name":"ensure_than","doc":"Usage example:\n\n```crystal\n ensure_than email, \"must be an email\" do |v|\n    EmailRegexp.valid?(v)\n end\n```","summary":"<p>Usage example:</p>","abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"args_string":"(field, message)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/validation/helper.cr#L19","def":{"name":"ensure_than","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""},{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""},"visibility":"Public","body":"    o = \n{{ field.id }}\n\n    on_presence(\n{{ field.id }}\n) do\n      fn = Clear::Util.lambda(typeof(o), Object) \n{{ block }}\n\n\n      unless fn.call(o)\n        add_error(\n{{ field.stringify }}\n, \n{{ message }}\n)\n      \nend\n    \nend\n  \n"}},{"id":"on_presence(field)-macro","html_id":"on_presence(field)-macro","name":"on_presence","doc":null,"summary":null,"abstract":false,"args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"args_string":"(field)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/model/validation/helper.cr#L2","def":{"name":"on_presence","args":[{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""},"visibility":"Public","body":"    if persisted?\n      if \n{{ field.id }}\n_column.defined?\n        \n{{ yield }}\n\n      \nend\n    \nelse\n      \n{{ yield }}\n\n    \nend\n  \n"}}],"types":[]}]},{"html_id":"github.com/anykeyh/clear/Clear/View","path":"Clear/View.html","kind":"module","full_name":"Clear::View","name":"View","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Model/ClassMethods","kind":"module","full_name":"Clear::Model::ClassMethods","name":"ClassMethods"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasScope","kind":"module","full_name":"Clear::Model::HasScope","name":"HasScope"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasRelations","kind":"module","full_name":"Clear::Model::HasRelations","name":"HasRelations"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasColumns","kind":"module","full_name":"Clear::Model::HasColumns","name":"HasColumns"}],"locations":[{"filename":"clear/views/view.cr","line_number":14,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/views/view.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/Model/ClassMethods","kind":"module","full_name":"Clear::Model::ClassMethods","name":"ClassMethods"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasColumns","kind":"module","full_name":"Clear::Model::HasColumns","name":"HasColumns"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasRelations","kind":"module","full_name":"Clear::Model::HasRelations","name":"HasRelations"},{"html_id":"github.com/anykeyh/clear/Clear/Model/HasScope","kind":"module","full_name":"Clear::Model::HasScope","name":"HasScope"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/anykeyh/clear/Clear","kind":"module","full_name":"Clear","name":"Clear"},"doc":"A view is like a read-only model.\nIt has columns and relations\nIt is automatically updated on migration by the migration manager\n```\nclass MyView\n  define do\n     <<-SQL\n    SELECT * FROM users, other_views\n  SQL\n\n  depends_of OtherViews\nend\n```","summary":"<p>A view is like a read-only model.</p>","class_methods":[{"id":"define(x)-class-method","html_id":"define(x)-class-method","name":"define","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"args_string":"(x)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/views/view.cr#L19","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/views/view.cr#L19","def":{"name":"define","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"case x\nwhen String\n  @@sql = x\nwhen Clear::SQLBuilder\n  @@sql = x.to_sql\nend"}},{"id":"depends_of(x:Class(T))forallT-class-method","html_id":"depends_of(x:Class(T))forallT-class-method","name":"depends_of","doc":null,"summary":null,"abstract":false,"args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Class(T)"}],"args_string":"(x : Class(T)) forall T","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/views/view.cr#L15","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/views/view.cr#L15","def":{"name":"depends_of","args":[{"name":"x","doc":null,"default_value":"","external_name":"x","restriction":"Class(T)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@@dependancies << x"}}],"constructors":[],"instance_methods":[],"macros":[{"id":"scope(name)-macro","html_id":"scope(name)-macro","name":"scope","doc":"A scope allow you to filter in a very human way a set of data.\n\nUsage:\n\n```\n scope(\"admin\"){ where({role: \"admin\"}) }\n```\n\nfor example, instead of writing:\n\n```\n  User.query.where{ (role == \"admin\") & (active == true) }\n```\n\nYou can write:\n\n```\n  User.admin.active\n```\n\nScope can be used for other purpose than just filter (e.g. ordering),\nbut I would not recommend it.","summary":"<p>A scope allow you to filter in a very human way a set of data.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"args_string":"(name)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/views/view.cr#L30","def":{"name":"scope","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":""},"visibility":"Public","body":"      def self.\n{{ name.id }}\n\n        query.\n{{ name.id }}\n\n      \nend\n\n      class Collection < Clear::Model::CollectionBase(\n{{ @type }}\n);\n        def \n{{ name.id }}\n\n          \n{{ yield }}\n\n        \nend\n      \nend\n    \n"}}],"types":[]}]},{"html_id":"github.com/anykeyh/clear/DummyMigration","path":"DummyMigration.html","kind":"class","full_name":"DummyMigration","name":"DummyMigration","abstract":false,"superclass":{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"},{"html_id":"github.com/anykeyh/clear/Clear/Migration/Helper","kind":"module","full_name":"Clear::Migration::Helper","name":"Helper"},{"html_id":"github.com/anykeyh/clear/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/anykeyh/clear/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"clear/migration/migration.cr","line_number":164,"url":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr"}],"repository_name":"github.com/anykeyh/clear","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/anykeyh/clear/Clear/Migration","kind":"module","full_name":"Clear::Migration","name":"Migration"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":":nodoc:\nThis class is here to prevent bug #5705\nand will be removed at newer version of Crystal","summary":"<p>:nodoc: This class is here to prevent bug #5705 and will be removed at newer version of Crystal</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"change(dir)-instance-method","html_id":"change(dir)-instance-method","name":"change","doc":null,"summary":null,"abstract":false,"args":[{"name":"dir","doc":null,"default_value":"","external_name":"dir","restriction":""}],"args_string":"(dir)","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L171","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L171","def":{"name":"change","args":[{"name":"dir","doc":null,"default_value":"","external_name":"dir","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"id":"uid-instance-method","html_id":"uid-instance-method","name":"uid","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L167","source_link":"https://github.com/anykeyh/clear/blob/dc8542a0d4a93e360aa803470e727fe19ded1780/src/clear/migration/migration.cr#L167","def":{"name":"uid","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"-1_i64"}}],"macros":[],"types":[]}]}}